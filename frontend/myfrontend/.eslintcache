[{"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\index.js":"1","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\reportWebVitals.js":"2","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\App.js":"3","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\profileSetup.js":"4","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\notFound.js":"5","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Activate.js":"6","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\forgotPassword.js":"7","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SignUp.js":"8","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\resetPassword.js":"9","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\ChatContext.js":"10","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\SocketContext.js":"11","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Chat.js":"12","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\userDashboard.js":"13","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\LogIn.js":"14","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\AllChats.js":"15","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriendRequest.js":"16","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllContacts.js":"17","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Profile.js":"18","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriends.js":"19","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\updateProfileSetup.js":"20","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\pageTitle.js":"21","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\UserService.js":"22","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\AlertBar.js":"23","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\ProgressBar.js":"24","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\api\\auth.js":"25","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\ChatService.js":"26","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\accountService.js":"27","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\RenderChat.js":"28","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\auth.js":"29","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\friendService.js":"30","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Header.js":"31","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\GenericService.js":"32","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriend.js":"33","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\localStorage.js":"34","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\cookies.js":"35","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\contactService.js":"36","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\TypeMessage.js":"37","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleContact.js":"38","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriendRequest.js":"39","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SingleChat.js":"40","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SettingMessage.js":"41","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\DeleteMsg.js":"42","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\DeletePermissionContext.js":"43","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\userRoutes.js":"44","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\reducers\\DeletePermissionReducer.js":"45","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\LogoPage.js":"46","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SideBar.js":"47","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\ContactManagement.js":"48","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Settings.js":"49"},{"size":1524,"mtime":1625813634123,"results":"50","hashOfConfig":"51"},{"size":375,"mtime":1616782544565,"results":"52","hashOfConfig":"51"},{"size":5456,"mtime":1625816263761,"results":"53","hashOfConfig":"51"},{"size":12552,"mtime":1625816844119,"results":"54","hashOfConfig":"51"},{"size":453,"mtime":1616782544553,"results":"55","hashOfConfig":"51"},{"size":3893,"mtime":1619043543177,"results":"56","hashOfConfig":"51"},{"size":4275,"mtime":1625813634074,"results":"57","hashOfConfig":"51"},{"size":11684,"mtime":1625816943106,"results":"58","hashOfConfig":"51"},{"size":8110,"mtime":1625813634090,"results":"59","hashOfConfig":"51"},{"size":2075,"mtime":1625817133294,"results":"60","hashOfConfig":"51"},{"size":5026,"mtime":1625817164729,"results":"61","hashOfConfig":"51"},{"size":9867,"mtime":1625816403594,"results":"62","hashOfConfig":"51"},{"size":11638,"mtime":1625817083177,"results":"63","hashOfConfig":"51"},{"size":8442,"mtime":1625816779511,"results":"64","hashOfConfig":"51"},{"size":11164,"mtime":1625816313939,"results":"65","hashOfConfig":"51"},{"size":5139,"mtime":1625816704950,"results":"66","hashOfConfig":"51"},{"size":5031,"mtime":1625816640808,"results":"67","hashOfConfig":"51"},{"size":3429,"mtime":1622718923923,"results":"68","hashOfConfig":"51"},{"size":4558,"mtime":1625816710774,"results":"69","hashOfConfig":"51"},{"size":13611,"mtime":1625817063215,"results":"70","hashOfConfig":"51"},{"size":778,"mtime":1625816826059,"results":"71","hashOfConfig":"51"},{"size":425,"mtime":1621345934278,"results":"72","hashOfConfig":"51"},{"size":2341,"mtime":1616782544527,"results":"73","hashOfConfig":"51"},{"size":1137,"mtime":1616782544530,"results":"74","hashOfConfig":"51"},{"size":701,"mtime":1625816572163,"results":"75","hashOfConfig":"51"},{"size":994,"mtime":1622718923928,"results":"76","hashOfConfig":"51"},{"size":679,"mtime":1622718923929,"results":"77","hashOfConfig":"51"},{"size":8387,"mtime":1625816436096,"results":"78","hashOfConfig":"51"},{"size":742,"mtime":1625816599146,"results":"79","hashOfConfig":"51"},{"size":873,"mtime":1622718923929,"results":"80","hashOfConfig":"51"},{"size":4197,"mtime":1625816761748,"results":"81","hashOfConfig":"51"},{"size":1747,"mtime":1625817398384,"results":"82","hashOfConfig":"51"},{"size":4858,"mtime":1625817007566,"results":"83","hashOfConfig":"51"},{"size":284,"mtime":1616840482236,"results":"84","hashOfConfig":"51"},{"size":268,"mtime":1616840453924,"results":"85","hashOfConfig":"51"},{"size":308,"mtime":1619043543315,"results":"86","hashOfConfig":"51"},{"size":1894,"mtime":1622718923919,"results":"87","hashOfConfig":"51"},{"size":4356,"mtime":1625816975365,"results":"88","hashOfConfig":"51"},{"size":2651,"mtime":1625817033433,"results":"89","hashOfConfig":"51"},{"size":7246,"mtime":1625816507629,"results":"90","hashOfConfig":"51"},{"size":4112,"mtime":1625816477775,"results":"91","hashOfConfig":"51"},{"size":2792,"mtime":1623509568510,"results":"92","hashOfConfig":"51"},{"size":729,"mtime":1623171574674,"results":"93","hashOfConfig":"51"},{"size":484,"mtime":1624127414203,"results":"94","hashOfConfig":"51"},{"size":192,"mtime":1623171574688,"results":"95","hashOfConfig":"51"},{"size":864,"mtime":1625816804641,"results":"96","hashOfConfig":"51"},{"size":3637,"mtime":1625816923673,"results":"97","hashOfConfig":"51"},{"size":3932,"mtime":1625816733353,"results":"98","hashOfConfig":"51"},{"size":3495,"mtime":1625816898018,"results":"99","hashOfConfig":"51"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},"ydvxbn",{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"102"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"102"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"102"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"102"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"102"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"102"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"102"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"102"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"102"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"102"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"102"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"102"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"102"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"102"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"102"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":1,"source":"156","usedDeprecatedRules":"102"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"167"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"174","usedDeprecatedRules":"102"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"181","usedDeprecatedRules":"102"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"184","usedDeprecatedRules":"102"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187","usedDeprecatedRules":"102"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198","usedDeprecatedRules":"102"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"203","usedDeprecatedRules":"102"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"206","usedDeprecatedRules":"102"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"209","usedDeprecatedRules":"102"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"218","usedDeprecatedRules":"102"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"221","usedDeprecatedRules":"102"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224","usedDeprecatedRules":"102"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\index.js",[],["227","228"],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\reportWebVitals.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\App.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\profileSetup.js",["229","230","231"],"import React, { useState, useEffect } from \"react\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport Select from \"react-select\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport { grey, cyan} from '@material-ui/core/colors';\r\nimport {Button} from \"@material-ui/core\";\r\nimport axios from 'axios';\r\nimport accountService from \"../../../services/accountService\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Webcam from \"react-webcam\";\r\nconst useStyles = makeStyles({\r\n  \r\n  textfield: {\r\n    marginTop: \"2rem\",\r\n  },\r\n  Submitbtn: {\r\n    marginTop: \"0.6rem\",\r\n  },\r\n});\r\n\r\n\r\n\r\nconst ProfileSetup = ( {match}) => {\r\n    const classes = useStyles();\r\n      let history = useHistory();\r\n    const webcamRef = React.useRef(null);\r\n    const [capturedPic, setCapturedPic]=React.useState(false);\r\nconst options = [\r\n  { label: 'Afrikaans',value:'af' },\r\n  { label: 'Albanian',value:'sq'},\r\n  { label: 'Amharic',value:'am'},\r\n  { label: 'Arabic',value:'ar'},\r\n  { label: 'Armenian',value:'hy'},\r\n  { label: 'Azerbaijani',value:'az'},\r\n  { label: 'Basque',value:'eu'},\r\n  { label: 'Belarusian',value:'be'},\r\n  { label: 'Bengali',value:'bn'},\r\n  { label: 'Bosnian',value:'bs'},\r\n  { label: 'Bulgarian',value:'bg'},\r\n  { label: 'Catalan',value:'ca'},\r\n  { label: 'Cebuano',value:'ceb'},\r\n  { label: 'Chichewa',value:'ny'},\r\n  { label: 'Chinese',value:'zh-cn'},\r\n  { label: 'Corsican',value:'co'},\r\n  { label: 'Croatian',value:'hr'},\r\n  { label: 'Czech',value:'cs'},\r\n  { label: 'Danish',value:'da'},\r\n  { label: 'Dutch',value:'nl'},\r\n  { label: 'English',value:'en'},\r\n  { label: 'Esperanto',value:'eo'},\r\n  { label: 'Estonian',value:'et'},\r\n  { label: 'Filipino',value:'tl'},\r\n  { label: 'Finnish',value:'fi'},\r\n  { label: 'French',value:'fr'},\r\n  { label: 'Danish',value:'da'},\r\n  {label: 'Frisian',value: \"fy\"},\r\n  {label: 'Galician',value: \"gl\"},\r\n  {label: 'Georgian',value: \"ka\"},\r\n  {label: 'German',value: \"de\"},\r\n  {label: 'Greek',value: \"el\"},\r\n  {label: 'Gujarati',value: \"gu\"},\r\n  {label: 'Haitian creole',value: \"ht\"},\r\n  {label:'Hausa',value: \"ha\"},\r\n  {label:'Hawaiian',value: \"haw\"},\r\n  {label:'Hebrew',value: \"iw\"},\r\n  {label: 'Hindi',value: \"hi\"},\r\n  {label:'Hmong',value: \"hmn\"},\r\n  {label:'Hungarian',value: \"hu\"},\r\n  {label:'Icelandic',value: \"is\"},\r\n  {label:'Igbo',value: \"ig\"},\r\n  {label:'Indonesian',value: \"id\"},\r\n  {label:'Irish',value: \"ga\"},\r\n  {label:'Italian',value: \"it\"},\r\n  {label:'Japanese',value: \"ja\"},\r\n  {label:'Javanese',value: \"jw\"},\r\n  {label:'Kannada',value: \"kn\"},\r\n  {label:'Kazakh',value: \"kk\"},\r\n  {label:'Khmer',value:'km'},\r\n  {label:'Korean',value:'ko'},\r\n  {label:'Kurdish',value:'ku'},\r\n  {label: 'Kyrgyz',value: \"ky\"},\r\n  {label: 'Lao',value: \"lo\"},\r\n  {label: 'Latin',value: \"la\"},\r\n  {label: 'Latvian',value: \"lv\"},\r\n  {label: 'Lithuanian',value: \"lt\"},\r\n  {label: 'Luxembourgish',value: \"lb\"},\r\n  {label: 'Macedonian',value: \"mk\"},\r\n  {label:'Malagasy',value: \"mg\"},\r\n  {label:'Malay',value: \"ms\"},\r\n  {label:'Malayalam',value: \"ml\"},\r\n  {label: 'Maltese',value: \"mt\"},\r\n  {label:'Maori',value: \"mi\"},\r\n  {label:'Marathi',value: \"mr\"},\r\n  {label:'Mongolian',value: \"mn\"},\r\n  {label:'Myanmar (burmese)',value: \"my\"},\r\n  {label:'Nepali',value: \"ne\"},\r\n  {label:'Norwegian',value: \"no\"},\r\n  {label:'Odia',value: \"or\"},\r\n  {label:'Pashto',value: \"ps\"},\r\n  {label:'Persian',value: \"fa\"},\r\n  {label:'Polish',value: \"pl\"},\r\n  {label:'Portuguese',value: \"pt\"},\r\n  {label:'Punjabi',value: \"pa\"},\r\n  {label :'Romanian', value:\"ro\"},\r\n  {label :'Russian', value:\"ru\"},\r\n  {label:'Samoan',value: \"sm\"},\r\n  {label:'Scots gaelic',value: \"gd\"},\r\n  {label:'Serbian',value: \"sr\"},\r\n  {label:'Sesotho',value: \"st\"},\r\n  {label:'Shona',value: \"sn\"},\r\n  {label:'Sindhi',value: \"sd\"},\r\n  {label:'Sinhala',value: \"si\"},\r\n  {label:'Slovak',value: \"sk\"},\r\n  {label:'Slovenian', value:\"sl\"},\r\n  {label:'Somali', value:\"so\"},\r\n  {label:'Spanish', value:'es' },\r\n  {label:'Sundanese',value: \"su\"},\r\n  {label:'Swahili',value: \"sw\"},\r\n  {label:'Swedish',value: \"sv\"},\r\n  {label:'Tajik',value: \"tg\"},\r\n  {label:'Tamil',value: \"ta\"},\r\n  {label:'Telugu',value: \"te\"},\r\n  {label:'Thai',value: \"th\"},\r\n  {label:'Turkish',value: \"tr\"},\r\n  {label :'Ukrainian', value:\"uk\"},\r\n  {label:'Urdu',value: \"ur\"},\r\n  {label :'Uyghur', value:\"ug\"},\r\n  {label:'Uzbek', value:'uz' },\r\n  {label:'Vietnamese',value: \"vi\"},\r\n  {label :'Welsh', value:\"cy\"},\r\n  {label:'Xhosa',value: \"xh\"},\r\n  {label :'Yiddish', value:\"yi\"},\r\n  {label:'Yoruba', value:'yo' },\r\n  {label:'Zulu',value: \"zu\"},\r\n  \r\n];\r\n    const [values, setValues] = useState({\r\n    img: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\",\r\n    language:\"\",\r\n    token:\"\",\r\n    errorMessage: \"\",\r\n    successMsg:\"\",\r\n    infoMessage:\"\",\r\n    loading: false,\r\n  });\r\n  const { img,language,token, successMsg, errorMessage,infoMessage, loading } = values;\r\nuseEffect(() => {\r\n        let token = match.params.token\r\n        if(token) {\r\n            setValues({...values, token})\r\n        }\r\n    }, [])\r\n\r\nconst resizeFile = (file) => new Promise(resolve => {\r\n    Resizer.imageFileResizer(file, 300, 300, 'JPEG', 100, 0,\r\n    uri => {resolve(uri);},'base64' );\r\n});\r\nconst capture =  React.useCallback(() => {\r\n   try{\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n       setValues({...values, infoMessage: \"Picture Captured\"}); \r\n       const data = new FormData();\r\n      data.append(\"file\", imageSrc);\r\n      axios.post(\"http://127.0.0.1:5000/webcam-face-detection\",data)\r\n         .then(async (response) => {\r\n          setValues({ ...values , errorMessage :\"\", successMsg:response.data.successMessage})\r\n           setValues({...values, infoMessage: \"Loading....\"});\r\n           data.append(\"file\", imageSrc);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n          fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"POST\",\r\n                body: data,\r\n             } ).then(response => response.json())\r\n      .then(data =>   setValues({ ...values , img: data.url}))\r\n      .catch(err => console.error('Error:', err));;   \r\n          })\r\n         }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n   \r\n    },\r\n    [webcamRef]\r\n  );\r\n const uploadImage = async (e) => {\r\n  try {\r\n           const imageFile = e.target.files[0];\r\n           const data = new FormData();\r\n           data.append(\"file\", imageFile);\r\n           axios.post(\"http://127.0.0.1:5000/\",data)\r\n         .then(async (response) => {\r\n         setValues({ ...values , errorMessage :\"\", successMsg:\"response.data.successMessage\"})\r\n            const compressedImage = await resizeFile(imageFile);\r\n           setValues({...values, infoMessage: \"Loading....\"});\r\n           data.append(\"file\", compressedImage);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n           const res = await fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"POST\",\r\n                body: data,\r\n             } );   \r\n           const file =  await res.json();\r\n           setValues({ ...values , img: file.secure_url});\r\n        })\r\n        .catch((err) => {\r\n            setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n      }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n}\r\nconst SetProfile =()=>{\r\n  accountService.profileSetup({profileImg: img, langPreference: language, token})\r\n .then((response) => {\r\n          setValues({\r\n            ...values,\r\n            img: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\",\r\n            language:\"\",\r\n            errorMessage: false,\r\n            successMsg: response.successMessage,\r\n            loading: false,\r\n          });\r\n        })\r\n         .catch((err) => {\r\n           setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n}\r\n \r\n  const ProfilePage = () =>( \r\n  <div className=\"profile-page\">\r\n      <div className=\"profile-container\">\r\n          <div className=\"img-holder\">\r\n             <img src={img} className=\"profile-img\"/>\r\n              </div>\r\n             <input type=\"file\" accept=\"image/*\" name=\"image-upload\" id=\"input\" onChange={uploadImage}  />\r\n             <div className=\"label\">\r\n                   <label className=\"image-upload\" htmlFor=\"input\">\r\n\t\t\t\t\t\t<i className=\"material-icons\">add_photo_alternate</i>\r\n\t\t\t\t\t\tChoose Profile Photo\r\n\t\t\t\t\t</label>\r\n                 </div>\r\n                 <div className=\"label\">   \r\n             <button className=\"take-photo loginbtn\"  data-toggle=\"modal\" data-target=\"#exampleModalCenter\" onClick={()=>setCapturedPic(false)}>\r\n               <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>photo_camera</i>\r\n               Take Photo</button> \r\n              </div> \r\n              <Select\r\n                    style={{ width: 210, padding: \"0.4rem\" }}\r\n                    placeholder=\"Select Language ---\"\r\n                    value={options.find(c => c.label === language)}\r\n                    className={classes.textfield}\r\n                    options={options}\r\n                    onChange={(e) => {\r\n                      console.log(e)\r\n                      setValues({\r\n                        ...values,\r\n                        language:e.value ,\r\n                      });\r\n                      \r\n                    }}\r\n                  />\r\n                   <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"0.5rem\" , \r\n              marginTop: \"1.5rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={SetProfile}\r\n            \r\n          >\r\n            Set Profile\r\n          </Button>\r\n                   {successMsg &&  <Button\r\n                     style={{  \r\n                     backgroundColor:grey[500],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"outline\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/login')}\r\n                  >\r\n                      Login\r\n                  </Button>}\r\n      </div> \r\n         \r\n     \r\n \r\n\r\n \r\n<div className=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n    <div className=\"modal-content\">\r\n      <div className=\"modal-header\">\r\n      <div className=\"modal-title\">\r\n        <h3  id=\"exampleModalLongTitle\">Take Photo</h3>\r\n        <p style={{color:\"red\"}} ><i>Your picture's quality will be low</i></p>\r\n        </div>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div className=\"modal-body\">\r\n        <div  className=\"webcam-container\">\r\n         <Webcam  \r\n        audio={false}\r\n        height= {200}\r\n       width ={460}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\" />\r\n        </div>\r\n      </div>\r\n       \r\n        {capturedPic ? (<div className=\"modal-footer\"> \r\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n        </div> ):\r\n        (<div className=\"modal-footer\"> \r\n        <button  className=\"take-photo loginbtn\" onClick ={capture}>\r\n          <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>\r\n            photo_camera</i>Capture photo</button> </div>)\r\n        }\r\n    </div>\r\n  </div>\r\n</div>             \r\n  </div>\r\n)\r\nreturn (<div>\r\n    \r\n    {loading && <LinearBuffer />}\r\n     <PageTitle name= {\"Profile Setup\"}/>\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={3000} />\r\n      )}\r\n       {infoMessage && (\r\n        <AlertBar type=\"info\" message={infoMessage} autoClose={8000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={2500} />\r\n      )}\r\n      {ProfilePage()}\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default ProfileSetup;\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\notFound.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Activate.js",["232","233"],"import React, { useState, useEffect } from 'react';\r\nimport accountService from \"../../../services/accountService\";\r\nimport jwt from 'jsonwebtoken';\r\nimport { grey,green, cyan,red} from '@material-ui/core/colors';\r\nimport {Button, Grid} from \"@material-ui/core\";\r\nimport CheckCircleRoundedIcon from '@material-ui/icons/CheckCircleRounded';\r\nimport CancelRoundedIcon from '@material-ui/icons/CancelRounded';\r\nimport PageTitle from \"./pageTitle\";\r\nimport { useHistory } from 'react-router-dom';\r\nconst Activate = ({ match }) => {\r\n let token1 = match.params.token;\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    token: '',\r\n    errorMessage: \"\",\r\n    successMsg: \"\",\r\n  });\r\n   const { firstName,lastName, token, errorMessage, successMsg} = formData;\r\n   let history = useHistory()\r\n  useEffect(() => {\r\n    let token = match.params.token;\r\n    let { firstName } = jwt.decode(token);\r\n    let { lastName } = jwt.decode(token);\r\n    if (token) {\r\n      setFormData({ ...formData, firstName,lastName,  token });  \r\n      accountService.accountActivation({token})\r\n      .then(response => {\r\n        setFormData({\r\n          ...formData,\r\n          errorMessage: false,\r\n          successMsg: response.successMessage,\r\n          firstName: response.firstName,\r\n          lastName: response.lastName,\r\n        });\r\n      })\r\n      .catch(err => {\r\n      setFormData({\r\n          ...formData,\r\n          successMsg: false,\r\n         errorMessage: err.response.data.errorMessage,\r\n          firstName: err.response.data.firstName,\r\n          lastName: err.response.data.lastName,\r\n        });\r\n      });\r\n    }}, [match.params]);\r\n     \r\n  \r\n  const ActivationSuccess=()=>(\r\n<div> \r\n  <Grid container > \r\n <Grid item xs={1} sm={3} md={4}></Grid>\r\n  <Grid item xs={1} sm={3} md={4}> \r\n  \r\n      <p><strong>Hi {firstName +\" \"+lastName}</strong></p>\r\n        <div>  <CheckCircleRoundedIcon \r\n              style = {{ color: green[600],paddingTop:\"0.3rem\" }}/>  \r\n           <span style ={{fontSize:\"1.3rem\"}} > Your account has been successfully verified. Click below to create your profile</span></div>\r\n      <Button\r\n             style={{ \r\n               color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\" }}\r\n              variant=\"contained\"\r\n              className= \"loginbtn\"\r\n              onClick={event =>  history.push('/profile-setup/'+token1)}\r\n             \r\n          >\r\n            Create Profile\r\n          </Button>\r\n          </Grid>\r\n          <Grid item xs={1} sm={3} md={4}></Grid>\r\n          </Grid>\r\n   </div>\r\n\r\n\r\n  );\r\n   const ActivationFailure=()=>(\r\n<div> \r\n  <Grid container > \r\n <Grid item xs={1} sm={3} md={4}></Grid>\r\n  <Grid item xs={1} sm={3} md={4}> \r\n  \r\n      <p><strong>Hi {firstName+\" \"+lastName}</strong></p>\r\n        <div>  <CancelRoundedIcon \r\n              style = {{ color: red[600]  }}/>  \r\n           <span style ={{fontSize:\"1.3rem\"}} > <strong>{errorMessage}</strong> </span></div>\r\n      <Button\r\n             style={{ \r\n               color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\" }}\r\n            variant=\"contained\"\r\n             className= \"loginbtn\"\r\n            onClick={event =>  history.push('/signup')}\r\n             \r\n          >\r\n               Try  Again   \r\n          </Button>\r\n          </Grid>\r\n          <Grid item xs={1} sm={3} md={4}></Grid>\r\n          </Grid>\r\n   </div>\r\n\r\n\r\n  );\r\n  return (\r\n  <div>\r\n        <PageTitle name= {\"Activation\"}/>\r\n       {errorMessage && ( ActivationFailure())}\r\n       {successMsg && (ActivationSuccess())}\r\n  </div>)\r\n      }\r\nexport default Activate;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\forgotPassword.js",["234"],"import React,{useState} from \"react\";\r\nimport accountService from \"../../../services/accountService\";\r\nimport {Grid,Button, Typography, InputAdornment,TextField,Paper} from \"@material-ui/core\";\r\nimport { grey, cyan,indigo} from '@material-ui/core/colors';\r\nimport isEmail from \"validator/lib/isEmail\";\r\nimport isEmpty from \"validator/lib/isEmpty\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport PageTitle from \"./pageTitle\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport LogoPage from \"./LogoPage\";\r\n \r\nconst ForgotPassword = () => {\r\n      \r\n const [values, setValues] = useState({\r\n    email: \"\",\r\n    errorMessage: \"\",\r\n    successMsg:\"\",\r\n    loading: false,\r\n  });\r\n  const { email, successMsg, errorMessage, loading } = values;\r\n\r\n const handleTextChange = (evt) => {\r\n    setValues({\r\n      ...values,\r\n      [evt.target.name]: evt.target.value,\r\n      errorMessage: \"\",\r\n      successMsg: \"\",\r\n    });\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (isEmpty(email)   ) {\r\n      setValues({ ...values, errorMessage: \"Field is required\" });\r\n    } else if (!isEmail(email)) {\r\n      setValues({ ...values, errorMessage: \"Invalid Email  syntax\" });\r\n    } else {\r\n      const { email} = values;\r\n      setValues({ ...values, loading: true });\r\n        accountService.forgotPassword({email})\r\n        .then((response) => {\r\n          setValues({\r\n            ...values,\r\n            email: \"\",\r\n            errorMessage: false,\r\n            successMsg: response.successMessage,\r\n            loading: false,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setValues({\r\n            ...values,\r\n            loading: false,\r\n            email: \"\",\r\n            successMsg:false,\r\n            errorMessage: err.response.data.errorMessage,\r\n          });\r\n        });\r\n    }\r\n  };\r\n \r\nconst ResetPageForm = () =>(\r\n<div>\r\n    <Grid container >\r\n          <Grid item xs={1} sm={3} md={4}></Grid>\r\n          <Grid item xs={10} sm ={6} md={4} >\r\n        <Paper className=\"Login-container\" style={{padding: '30px 50px'}} >\r\n          <Button  \r\n            className= \"loginbtn\"\r\n            href=\"/login\"\r\n            color=\"primary\"\r\n           style={{marginBottom:\"2rem\" ,paddingLeft:\"0rem\",color:indigo[800]  }}\r\n          >\r\n            <ArrowBackIcon style={{fontWeight:\"bold\",marginRight:\"0.3rem\"}}/> Go Back\r\n          </Button>\r\n              <TextField\r\n            label= {\r\n              <div> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\" }}> Email Address </Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\"  }}>*</Typography>\r\n                  </div>\r\n            }\r\n            id=\"filled-start-adornment1\"\r\n             variant=\"outlined\"\r\n            name=\"email\"\r\n            value={values.email}\r\n            fullWidth\r\n            onChange={handleTextChange}\r\n             InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n             <EmailIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n          />\r\n              <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"12rem\" , \r\n              marginTop: \"1.5rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n             fullWidth\r\n            onClick={onSubmit}\r\n          >\r\n           Submit  \r\n          </Button>\r\n                </Paper>\r\n          </Grid>\r\n          <Grid item xs={1} sm={3} md={4}></Grid>\r\n    </Grid>\r\n</div>\r\n)\r\nreturn (<div className=\"login_div\">\r\n    \r\n    {loading && <LinearBuffer />}\r\n     <LogoPage className=\"title\" name= {\"Forgot Password\"} logo ={false}/>\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={4000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={4000} />\r\n      )}\r\n      {ResetPageForm()}\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default ForgotPassword;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SignUp.js",["235"],"import React, { useState, useEffect } from \"react\";\r\nimport clsx from 'clsx';\r\nimport {\r\n  TextField,\r\n  Grid,\r\n  Button,\r\n  InputAdornment,\r\n  InputLabel,\r\n  FormControl,\r\n  Input,\r\n  IconButton,\r\n  Typography,\r\n  FormLabel,\r\n  FormControlLabel,\r\n  Radio,\r\n  Paper,\r\n  RadioGroup,\r\n} from \"@material-ui/core\";\r\nimport LogoPage from \"./LogoPage\"\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { grey, cyan} from '@material-ui/core/colors';\r\nimport isEmail from \"validator/lib/isEmail\";\r\nimport isEmpty from \"validator/lib/isEmpty\";\r\nimport equals from \"validator/lib/equals\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { signup } from \"../api/auth\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\n \r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n   \r\n  textfield: {\r\n     marginTop: theme.spacing(2.5),\r\n  },\r\n  margin:{\r\n         marginTop: theme.spacing(2.5),\r\n  }\r\n   \r\n}));\r\nconst SignUp = () => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  useEffect(() => {\r\n    if (isAuthenticated() && isAuthenticated().role === 1)\r\n      history.push(\"/dashboard\");\r\n    else if (isAuthenticated() && isAuthenticated().role === 0)\r\n      history.push(\"/dashboard\");\r\n  }, [history]);\r\n  const [values, setValues] = useState({\r\n    firstName: \"\",\r\n    lastName:\"\",\r\n    email: \"\",\r\n    gender:\"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    errorMessage: \"\",\r\n    successMsg: \"\",\r\n    showPassword: false,\r\n    showPassword1: false,\r\n    loading: false,\r\n  });\r\n  const {\r\n    firstName,\r\n    lastName,\r\n    email,\r\n    gender,\r\n    password,\r\n    confirmPassword,\r\n    errorMessage,\r\n    successMsg,\r\n    loading,\r\n  } = values;\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({\r\n      ...values,\r\n      [prop]: event.target.value,\r\n      errorMessage: \"\",\r\n      successMsg: \"\",\r\n    });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n  const handleClickShowConfirmPassword = () => {\r\n    setValues({ ...values, showPassword1: !values.showPassword1 });\r\n  };\r\n   \r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  const handleTextChange = (evt) => {\r\n    setValues({\r\n      ...values,\r\n      [evt.target.name]: evt.target.value,\r\n      errorMessage: \"\",\r\n      successMsg: \"\",\r\n    });\r\n  };\r\n  const Register = (event) => {\r\n    event.preventDefault();\r\n    if (\r\n      isEmpty(firstName) ||\r\n      isEmpty(lastName) ||\r\n      isEmpty(email) ||\r\n      isEmpty(password) ||\r\n      isEmpty(confirmPassword)||isEmpty(gender)) \r\n      {\r\n      setValues({ ...values, errorMessage: \"All fields are required\" });\r\n      } else if (!isEmail(email)) {\r\n      setValues({ ...values, errorMessage: \"Invalid Email\" });\r\n      } else if (!equals(password, confirmPassword)) {\r\n      setValues({ ...values, errorMessage: \"Password do not matched\" });\r\n      } else {\r\n      const { firstName,lastName, email, password ,gender} = values;\r\n      const data = { firstName,lastName,  email, password ,gender};\r\n      setValues({ ...values, loading: true });\r\n      signup(data)\r\n        .then((response) => {\r\n          setValues({\r\n            ...values,\r\n            firstName: \"\",\r\n            lastName:\"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\",\r\n            gender:\"\",\r\n            errorMessage: false,\r\n            successMsg: response.data.successMessage,\r\n            loading: false,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setValues({\r\n            ...values,\r\n            loading: false,\r\n            errorMessage: err.response.data.errorMessage,\r\n          });\r\n        });\r\n    }\r\n  };\r\n    \r\n  const SignUpForm = () => (\r\n    <div className=\"signup-container\">\r\n      <Grid container>\r\n        <Grid item xs={1} sm={3} md={4}></Grid>\r\n        <Grid item xs={10} sm ={6} md={4}>\r\n        <Paper  className=\"Login-container\" style={{padding: '30px 30px'}} >\r\n              <Grid container style={{textAlign:\"center\"}}>\r\n          <Grid item xs={6} >\r\n            <Link className=\"header\"  to=\"/login\">Sign In</Link>      \r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Link className=\"active-header\" to=\"/signup\">Sign Up</Link>\r\n          </Grid>\r\n\r\n        </Grid>\r\n          <TextField\r\n            className={classes.textfield}\r\n            id=\"filled-start-adornment\"\r\n             \r\n            value={values.firstName}\r\n            label= {\r\n              <div> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> firstName </Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\"}}>*</Typography>\r\n                  </div>\r\n            }\r\n            name=\"firstName\"\r\n            \r\n            fullWidth\r\n            onChange={handleTextChange}\r\n             InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n             <AccountCircleIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n          />\r\n           <TextField\r\n            className={classes.textfield}\r\n            id=\"filled-start-adornment1\"\r\n            value={values.lastName}\r\n            label= {\r\n              <div> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> lastName </Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\"}}>*</Typography>\r\n                  </div>\r\n            }\r\n            name=\"lastName\"\r\n            \r\n            fullWidth\r\n            onChange={handleTextChange}\r\n             InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n             <AccountCircleIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n          />\r\n          <TextField\r\n            className={classes.textfield}\r\n            label= {\r\n              <div> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\" }}> Email Address </Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\"  }}>*</Typography>\r\n                  </div>\r\n            }\r\n            id=\"filled-start-adornment1\"\r\n            \r\n            name=\"email\"\r\n            value={values.email}\r\n            fullWidth\r\n            onChange={handleTextChange}\r\n             InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n             <EmailIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n          />\r\n              \r\n        <FormControl className={clsx(classes.margin, classes.textField)} fullWidth>\r\n         <InputLabel htmlFor=\"standard-adornment-password\"> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\" }}>*</Typography>\r\n         </InputLabel>\r\n                    <Input\r\n            id=\"standard-adornment-password\"\r\n            type={values.showPassword ? 'text' : 'password'}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange('password')}\r\n              \r\n          startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <LockIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n        \r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n         \r\n          <FormControl className={clsx(classes.margin, classes.textField)} fullWidth>\r\n                 <InputLabel htmlFor=\"standard-adornment-password\"> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> Confirm Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\" }}>*</Typography>\r\n         </InputLabel>\r\n           <Input\r\n            id=\"standard-adornment-confirmPassword\"\r\n            type={values.showPassword1 ? 'text' : 'password'}\r\n            name=\"confirmPassword\"\r\n            value={values.confirmPassword}\r\n            onChange={handleChange('confirmPassword')}\r\n             startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <VpnKeyIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowConfirmPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword1 ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n    <FormControl component=\"fieldset\" className={classes.margin}>\r\n      <FormLabel component=\"legend\">  \r\n            <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\", fontSize:\"0.9rem\",marginLeft:\"0.4rem\"  }}> Gender</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\" }}>*</Typography>\r\n             </FormLabel>\r\n      <RadioGroup aria-label=\"gender\" name=\"gender1\" style={{display:'initial',marginLeft:\"4rem\"}} value={values.gender} onChange={handleChange('gender')}>\r\n        <FormControlLabel value=\"female\" control={<Radio style={{color:cyan[900]}} />} label=\"Female\" />\r\n        <FormControlLabel value=\"male\" control={<Radio style={{color:cyan[900]}}/>} label=\"Male\" />\r\n        <FormControlLabel value=\"other\" control={<Radio style={{color:cyan[900]}} />} label=\"Other\" />\r\n      </RadioGroup>\r\n    </FormControl>\r\n         <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n             \r\n              padding: \"0.5rem\",}}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={Register}\r\n          >\r\n            Next\r\n          </Button>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={1} sm={3} md={4}></Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"signup_div\">\r\n      {loading && <LinearBuffer />}\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={4000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={4000} />\r\n      )}\r\n       <LogoPage className=\"title\" name= {\"TalkSee\"}/>\r\n      {SignUpForm()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\resetPassword.js",["236","237"],"import React, { useState, useEffect } from \"react\";\r\nimport clsx from 'clsx';\r\nimport accountService from \"../../../services/accountService\";\r\nimport {\r\n  Grid,\r\n  Button,\r\n  InputAdornment,\r\n  InputLabel,\r\n  FormControl,\r\n  Input,\r\n  Paper,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\n import { grey, cyan,indigo} from '@material-ui/core/colors';\r\nimport isEmpty from \"validator/lib/isEmpty\";\r\nimport equals from \"validator/lib/equals\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { useHistory } from 'react-router-dom';\r\nimport LogoPage from \"./LogoPage\";\r\n\r\n const useStyles = makeStyles((theme) => ({\r\n  textfield: {\r\n     margin: theme.spacing(1),\r\n  },\r\n   margin:{\r\n     marginTop: \"1.2rem\"\r\n   } \r\n}));\r\n\r\nconst ResetPassword = ({ match }) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const [values, setValues] = useState({\r\n    token: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    errorMessage: \"\",\r\n    successMsg: \"\",\r\n    showPassword: false,\r\n    showPassword1: false,\r\n    loading: false,\r\n  });\r\n  \r\n   const {\r\n    token,\r\n    password,\r\n    confirmPassword,\r\n    errorMessage,\r\n    successMsg,\r\n    loading,\r\n  } = values;\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token\r\n        if(token) {\r\n            setValues({...values, token})\r\n        }\r\n    }, [])\r\n    const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n   const handleChange = (prop) => (event) => {\r\n    setValues({\r\n      ...values,\r\n      [prop]: event.target.value,\r\n      errorMessage: \"\",\r\n      successMsg: \"\",\r\n    });\r\n  };\r\n const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n  const handleClickShowConfirmPassword = () => {\r\n    setValues({ ...values, showPassword1: !values.showPassword1 });\r\n  };\r\n   const ResetPasswordBtn = (event) => {\r\n    event.preventDefault();\r\n    if (\r\n      isEmpty(password) ||\r\n      isEmpty(confirmPassword)\r\n    ) {\r\n      setValues({ ...values, errorMessage: \"All fields are required\" });\r\n    } else if (!equals(password, confirmPassword)) {\r\n      setValues({ ...values, errorMessage: \"Passwords do not match\" });\r\n    } else {\r\n  \r\n     \r\n      setValues({ ...values, loading: true });\r\n     accountService.resetPassword( { newPassword: password, resetPasswordLink: token})\r\n        .then((response) => {\r\n          setValues({\r\n            ...values,\r\n            password: \"\",\r\n            confirmPassword: \"\",\r\n            errorMessage: false,\r\n            successMsg: response.successMessage,\r\n            loading: false,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setValues({\r\n            ...values,\r\n             password: \"\",\r\n            confirmPassword: \"\",\r\n            loading: false,\r\n            errorMessage: err.response.data.errorMessage,\r\n          });\r\n        });\r\n    }\r\n  };\r\n     \r\n  const ResetPasswordForm=()=>(\r\n      \r\n    <Grid container >\r\n      <Grid item xs={1} sm={3} md={4}></Grid>\r\n        <Grid item xs={10} sm ={6} md={4}>\r\n          <Paper  className=\"Login-container\" style={{padding: '30px 50px'}} >\r\n          <Button  \r\n            className= \"loginbtn\"\r\n            href=\"https://mail.google.com/mail/u/0/#inbox\"\r\n            color=\"primary\"\r\n           style={{marginBottom:\"2rem\" ,paddingLeft:\"0rem\",color:indigo[800]  }}\r\n          >\r\n           <ArrowBackIcon style={{fontWeight:\"bold\",marginRight:\"0.3rem\"}}/> Go Back\r\n          </Button>\r\n             <FormControl className={clsx( classes.textField)} fullWidth>\r\n         <InputLabel htmlFor=\"standard-adornment-password\"> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> New Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\" }}>*</Typography>\r\n         </InputLabel>\r\n                    <Input\r\n            id=\"standard-adornment-password\"\r\n            type={values.showPassword ? 'text' : 'password'}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange('password')}\r\n              \r\n          startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <LockIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n        \r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n         \r\n          <FormControl className={clsx(classes.margin, classes.textField)} fullWidth>\r\n                 <InputLabel htmlFor=\"standard-adornment-password\"> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> Confirm Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\" }}>*</Typography>\r\n         </InputLabel>\r\n           <Input\r\n            id=\"standard-adornment-confirmPassword\"\r\n            type={values.showPassword1 ? 'text' : 'password'}\r\n            name=\"confirmPassword\"\r\n            value={values.confirmPassword}\r\n            onChange={handleChange('confirmPassword')}\r\n             startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <VpnKeyIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowConfirmPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword1 ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n    \r\n         <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n              }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={ResetPasswordBtn}\r\n          >\r\n            Reset Password \r\n          </Button>\r\n          {successMsg &&  <Button\r\n                     style={{  \r\n                     backgroundColor:grey[500],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"outline\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/login')}\r\n                  >\r\n                      Login\r\n                  </Button>}\r\n           </Paper>\r\n        </Grid>\r\n     <Grid item xs={1} sm={3} md={4}></Grid>\r\n    </Grid>\r\n       \r\n  );   \r\n  return (\r\n  <div className=\"login_div\">\r\n        {loading && <LinearBuffer />}\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={4000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={4000} />\r\n      )}\r\n       <LogoPage className=\"title\" name= {\"Reset Password\"} logo ={false}/>\r\n      {ResetPasswordForm()}\r\n      \r\n  </div>)\r\n      }\r\nexport default ResetPassword;\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\ChatContext.js",["238","239","240","241","242","243","244","245","246"],"import React ,{createContext, useEffect, useState} from 'react'\r\nimport chatservice from '../services/ChatService'\r\n//import {showNotification} from '../components/FrontendComponents/Alerts/showMessage'\r\n//import Notification from '../components/FrontendComponents/Alerts/Notification'\r\nimport { toast } from 'react-toastify';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\nimport { isAuthenticated } from \"../components/FrontendComponents/clientStorages/auth\";\r\nexport const ChatContext = createContext();\r\n\r\nexport const ChatContextProvider = ({userId,isLogin, users, children}) =>{\r\n    let elem = null\r\n    let msg = ''\r\n    let email;\r\n    const [obj, setObj] = useState({})\r\n    const [count,setCount]= useState(0)\r\n    /* window.onload =()=>{\r\n        email = JSON.parse(localStorage.getItem(\"user\").email)\r\n        getUnreadMsgs(email)\r\n    } */\r\n    useEffect(()=>{\r\n        console.log(\"is Login\",isLogin)\r\n        if(isLogin){\r\n            getUnreadMsgs(userId)\r\n        }\r\n        \r\n    },[isLogin])\r\n\r\n    useEffect(()=>{\r\n        console.log(\"Users online:\",users)\r\n    },[isLogin])\r\n\r\n    const getUnreadMsgs =(email)=>{\r\n        chatservice.offlinemessages(email)\r\n        .then((res)=>{\r\n            if(res.count > 0){\r\n                console.log(\"count\",res.count)\r\n                msg = 'You have '+res.count+ ' new messages!'\r\n                if(res.info.sender[0] !== userId){\r\n                    console.log(\"sender\",res.info.sender)\r\n                    console.log(\"user\",userId)\r\n                toast.info(msg,{\r\n                position: toast.POSITION.TOP_LEFT,\r\n                transition: Zoom\r\n            })\r\n                }\r\n                else{\r\n                    console.log(\"is sender\")\r\n                }\r\n        \r\n            }\r\n        })\r\n        .catch((err)=>console.log(err))\r\n    }\r\n\r\n    \r\n    \r\n    return (\r\n        <ChatContext.Provider value = {{getUnreadMsgs: getUnreadMsgs, count: count, obj:obj, setCounter : setCount}}>\r\n        \r\n            {children}\r\n        </ChatContext.Provider>\r\n    );\r\n}\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\SocketContext.js",["247","248","249","250","251","252","253","254"],"import React ,{createContext,useEffect,useState,useRef} from 'react'\r\nimport io from \"socket.io-client\";\r\nimport { toast } from 'react-toastify';\r\nimport { isAuthenticated } from \"../components/FrontendComponents/clientStorages/auth\";\r\nimport friendService from \"../services/friendService\";\r\nimport chatservice from '../services/ChatService';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\n  import 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const SocketContext = createContext();\r\nexport function SocketProvider({id,email,isLogin,children}) {\r\n  \r\n  const [obj, setObj] = useState({})\r\n  const [frndcounter,setFrndCounter]= useState(0)\r\n  const [msgCount,setMsgCount]=useState(0);\r\n  const [clientSocket, setSocket] = useState()\r\n  //let msgCount = useRef(0)\r\n  let count=0;\r\n  let roomId = useRef()\r\n  \r\n  useEffect(() => {\r\n    \r\n    /* const socket = io(\r\n      process.env.REACT_APP_IP_URL,\r\n    ) */\r\n    const socket = io(\r\n      process.env.REACT_APP_IP_URL\r\n    )\r\n    setSocket(socket)\r\n    return () => socket.close()\r\n    \r\n  }, [])\r\n\r\n  useEffect(()=>{\r\n    roomId.current= '/'+id\r\n    console.log(roomId)\r\n  },[])\r\n\r\n  const messageCounter=()=>{\r\n\r\n    chatservice.offlinemessages(email)\r\n        .then((res)=>{  \r\n          setObj((o)=>{\r\n            o = {sender: res.info.sender, receiver: res.info.receiver}\r\n            return o\r\n          })\r\n                setMsgCount((c)=>{   \r\n                      c= res.count\r\n                   return c\r\n                })\r\n                console.log(\"Message Count is\",msgCount);\r\n                 localStorage.setItem(\"messagecount\",JSON.stringify(msgCount))\r\n        })\r\n        .catch((err)=>console.log(err))}\r\n\r\n  //useEffect(()=>messageCounter,[])\r\n\r\n  useEffect(()=>{\r\n    console.log(\"is login\", isLogin)\r\n    if(isLogin){\r\n    newMessageEvent()\r\n    friendReqEvent()\r\n    messageCounter()\r\n    console.log(\"new message event mounted\")\r\n    }\r\n    else{\r\n      console.log(\"not mounted\")\r\n    }\r\n  },[isLogin])\r\n  \r\n\r\n  const newMessageEvent = () => {\r\n    let counter = JSON.parse(localStorage.getItem(\"messagecount\"))\r\n    console.log(\" new msg event \")\r\n    if(clientSocket){\r\n      clientSocket.on(\"newMessage\", (payload) => {\r\n      toast(payload.RecipientName +':'+\r\n        payload.payload.messageBody, {\r\n          onOpen: () => console.log('Called when I open'),\r\n          position: toast.POSITION.TOP_LEFT,\r\n          //toastId: '007',\r\n          transition: Bounce\r\n        })\r\n      //count=count+1\r\n      console.log(\"new message\",payload)\r\n      //messageCounter();\r\n      \r\n      setMsgCount((c)=>{\r\n        c =  c + 1\r\n        localStorage.setItem(\"messagecount\",JSON.stringify(c))\r\n        localStorage.setItem(\"MyC\",JSON.stringify(c))\r\n        return c\r\n      })\r\n      })\r\n    }\r\n    else {\r\n      console.log(\"no socket\")\r\n    }  \r\n  //return () => {clientSocket.removeAllListeners(\"newMessage\");}\r\n  }\r\n\r\n  const roomJoin = (did) =>{\r\n    //did = did || roomId.current\r\n    did = '/'+did\r\n    if(clientSocket){\r\n      clientSocket.emit(\r\n        \"NotificationRoom\",\r\n        { myNotificationRoom : did},\r\n        ({error,room}) => {\r\n          if (!error) {\r\n            console.log(\"joined room with id\", room);\r\n          } else {\r\n            console.log(\"error joining room\", error);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  const getAllRequests=()=>{\r\n    friendService.getFriendRequest(id).then((data)=>{\r\n      setFrndCounter(data.length);\r\n      localStorage.setItem(\"friendRequests\",JSON.stringify(data.length))\r\n     })\r\n     .catch((err=>{console.log(err)}))\r\n}\r\n  //useEffect(()=>getAllRequests,[frndcounter])\r\n\r\n  const getFriendRequest = () => {\r\n    if(clientSocket)\r\n    {\r\n    clientSocket.on(\"newRequest\", () => getAllRequests())\r\n    clientSocket.on(\"rejectRequest\", (payload) => getAllRequests())\r\n    }\r\n    else\r\n    console.log(\"no socket\")\r\n  }\r\n\r\n  const friendReqEvent = () =>{\r\n    console.log(\"friend Req event\")\r\n    if(clientSocket){\r\n      clientSocket.on(\"newRequest\", (payload) => {\r\n          console.log(\"payload : \",payload)\r\n          toast.info(\r\n          payload.sender+ ' has sent you a friend request!', {\r\n          position: toast.POSITION.TOP_LEFT,\r\n          //toastId: '009',\r\n          autoClose: 7000,\r\n          transition: Bounce\r\n        })\r\n        setFrndCounter((c)=>{\r\n          c =  c + 1\r\n          localStorage.setItem(\"friendRequests\",JSON.stringify(c))\r\n          return c;\r\n        })\r\n      })\r\n    }\r\n    else{\r\n      console.log(\"no socket\")\r\n    }\r\n  }\r\n  \r\n\r\n  let value={\r\n    clientSocket : clientSocket,\r\n    setSocket : setSocket,\r\n    messageEvent : newMessageEvent,\r\n    roomJoin : roomJoin,\r\n    friendReq : friendReqEvent,\r\n    getRequest: getFriendRequest,\r\n    frndcounter:frndcounter,\r\n    acceptRejectCounter:getAllRequests,\r\n    msgCounter:msgCount,\r\n    msgNotify:messageCounter,\r\n    obj : obj\r\n  }\r\n  return (\r\n    <SocketContext.Provider value={value}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  )\r\n\r\n  \r\n}","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Chat.js",["255","256","257","258","259","260","261","262","263","264"],"import React, { useEffect, useState, useRef, useContext } from \"react\";\r\nimport chatservice from \"../../services/ChatService\";\r\nimport friendService from \"../../services/friendService\";\r\nimport \"./chat.css\";\r\nimport SettingMessage from \"./SettingMessage\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\nimport { ChatContext } from \"../../context/ChatContext\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport RenderChat from './RenderChat'\r\nimport { toast } from 'react-toastify';\r\nimport { Zoom } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport io from \"socket.io-client\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default function SingleChat(props) {\r\n  const [chat, setChat] = useState([{ from: \"\", to: \"\", messages: [] }]);\r\n  const [searchChats, setSearchChats] = useState({messages :['']})\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [loading, setLoading] = useState(false);\r\n  const [isFriend, setIsFriend] = useState(true)\r\n  const scrollRef = useRef();\r\n  let chats = useRef([]);\r\n  let friends = useRef()\r\n  let dummy = [];\r\n  let user = useRef({ uId: \"\", uImg: \"\", uName: \"\" });\r\n  let recipient = useRef(\"\");\r\n  let recipientInfo = useRef({ name: \"\", lang: \"\", url: \"\" });\r\n  let roomId = useRef(\"\");\r\n  let myChatsRoom = useRef();\r\n  let notificationRoom = useRef();\r\n  let returndata;\r\n  let id = props.match.params.id.split(\" \");\r\n  const { clientSocket,setSocket,roomJoin, messageEvent, friendReq } = useContext(SocketContext);\r\n  const { count, setCounter } = useContext(SocketContext);\r\n  const [isDel , setDel] = useState(false)\r\n  const [isChat, setIsChat] = React.useState(false)\r\n  let clientSocket1 = useRef()\r\n  var us = JSON.parse(localStorage.getItem(\"user\"));\r\n  const IP_URL = localStorage.getItem('IP_URL')\r\n  const IP = localStorage.getItem('IP')\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [chat]); \r\n  \r\n  //useEffect(() => {\r\n    recipientInfo.current.name = localStorage.getItem(\"recName\");\r\n    recipientInfo.current.lang = localStorage.getItem(\"recLang\");\r\n    recipientInfo.current.url = localStorage.getItem(\"profileUrl\");\r\n    myChatsRoom.current = \"mychats/\" + localStorage.getItem(\"friendId\");\r\n    notificationRoom.current = \"/\" + id[1];\r\n    recipient.current = id[0];\r\n    user.current.uId = us.email;\r\n    user.current.uName = us.firstName + \" \" + us.lastName;\r\n    user.current.uImg = us.profileImg\r\n // }, [us]);\r\n\r\n window.onload = () => {\r\n  friendReq()\r\n  messageEvent()\r\n  let did = JSON.parse(localStorage.getItem('user'))._id\r\n  roomJoin(did)\r\n  clientSocket1 = io(process.env.REACT_APP_IP_URL)\r\n  setSocket((s)=>{\r\n  s = clientSocket1\r\n  s.on('connect' , () => {\r\n    console.log(\"connected\",s.id);\r\n    s.emit(\"adduser\",{id:s.id, name: user.current.uId})\r\n    \r\n  });\r\n  return s;\r\n  })\r\n};\r\n\r\n  const getData = () => {\r\n    console.log(\"in get Data\",user)\r\n    chatservice\r\n      .getMessagesbyEmail(user.current.uId, recipient.current)\r\n      .then((data) => {\r\n        if(data)\r\n        {\r\n          console.log(\"This data\",data)\r\n          chats.current = data;\r\n          setChat({ messages: chats.current });\r\n          setIsChat(true)\r\n        }\r\n        \r\n      })\r\n      .catch((err) => toast.error(\r\n        'Database Connection Error', {\r\n        position: toast.POSITION.TOP_LEFT,\r\n        autoClose: 3000,\r\n        transition: Zoom\r\n      }));\r\n      \r\n  };\r\n\r\n  \r\n\r\n  useEffect (()=>{\r\n    let mycount=0;\r\n    friendService.getAllFriends(us._id)\r\n    .then((data)=>{\r\n      friends.current = data\r\n      friends.current.forEach((f) => {\r\n        if(f.email === recipient.current)\r\n          mycount=mycount+1\r\n        \r\n      })\r\n      if(mycount<1)\r\n       setIsFriend(false)\r\n      })\r\n      .catch((err=>toast.error(\r\n        'Database Connection Error', {\r\n        position: toast.POSITION.TOP_LEFT,\r\n        autoClose: 3000,\r\n        transition: Zoom\r\n      })))\r\n  })\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (clientSocket !== undefined) {\r\n      clientSocket.emit(\r\n        \"roomJoin\",\r\n        { from: user.current.uId, to: recipient.current },\r\n        ({ error, room }) => {\r\n          if (!error) {\r\n            roomId.current = room;\r\n            console.log(\"joined room with id\", room);\r\n          } else {\r\n            console.log(\"error joining room\", error);\r\n          }\r\n        }\r\n      );\r\n\r\n      clientSocket.on(\"messageReceived\", (payload) => {\r\n        setChat((chatState) => {\r\n          if (chatState.messages) {\r\n            let newMessages = [...chatState.messages];\r\n            newMessages = [...newMessages, payload];\r\n            return { ...chatState, messages: newMessages };\r\n          } else {\r\n            return { messages: [payload] };\r\n          }\r\n        });\r\n\r\n        /* setCounter((c)=>{\r\n          c = c+1\r\n          console.log(\" counter val from chat\",c)\r\n          return c\r\n        }) */\r\n      })\r\n\r\n      return function cleanup() {\r\n        clientSocket.off(\"messageReceived\");\r\n        console.log(\"in cleanup\");\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  const sendMessage = (message) => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },};\r\n    console.log(IP+'80/')\r\n    let msgId = uuidv4()\r\n    if (message == \"\"){\r\n       toast.error(\"Please Type something\",{\r\n          position: toast.POSITION.TOP_LEFT,\r\n        })\r\n    }\r\n   else\r\n   {\r\n     setLoading(true); \r\n     let data = {\r\n      msg: message,\r\n      lang: recipientInfo.current.lang,\r\n      userImgUrl: user.current.uImg,\r\n    };\r\n    axios.post(process.env.REACT_APP_IP,data) // flask ka post method call kre ga\r\n    .then((response )=> {\r\n    setLoading(false);\r\n    console.log(\" Response\" ,response.data);\r\n    returndata = response.data\r\n    let messageS = {\r\n      from: user.current.uId,\r\n      to: recipient.current,\r\n      userName: user.current.uName,\r\n      room: roomId.current,\r\n      messageBody: message,\r\n      messageVideo: returndata,\r\n      time: new Date().toLocaleString(),\r\n      type: \"offline\",\r\n      msgId : msgId\r\n    };\r\n    clientSocket.emit(\"messageSend\", messageS, (err) => {\r\n      if (!err) {\r\n        chatservice.createMessage(messageS)\r\n            .then((response)=>console.log(response,msgId))\r\n            .catch((err)=>toast.error(\r\n              'Database Connection Error! Please try again', {\r\n              position: toast.POSITION.TOP_LEFT,\r\n              autoClose: 3000,\r\n              transition: Zoom\r\n            }))\r\n        \r\n        if (chat.messages) {\r\n          setChat({ messages: [...chat.messages, messageS] });\r\n        } else {\r\n          setChat({ messages: [messageS] });\r\n        }\r\n      } else {\r\n        toast.error(\r\n          'Error in sending message! Please try again', {\r\n          position: toast.POSITION.TOP_LEFT,\r\n          autoClose: 3000,\r\n          transition: Zoom\r\n        })\r\n      }\r\n    });\r\n    clientSocket.emit(\r\n      \"messageSend1\",\r\n      {\r\n        message: messageS,\r\n        roomId: notificationRoom.current,\r\n        name: user.current.uName,\r\n      },\r\n      (err) => {\r\n        if (!err) console.log(\"testing\");\r\n        else console.log(err);\r\n      }\r\n    \r\n    );\r\n\r\n    clientSocket.emit(\r\n      \"myChats\",\r\n      { roomId: myChatsRoom.current, message: messageS, userImg: us.profileImg },\r\n      (err) => {\r\n        if (!err) console.log(\"testing\");\r\n        else console.log(err);\r\n      }\r\n    );\r\n  }).catch((err)=>console.log(err.body))\r\n    }\r\n  };\r\n  \r\n  /* const chatDeleteHandler = (message)=>{\r\n    console.log(\"Message\",message)\r\n    setMsgs(message.msg)\r\n}\r\n */\r\n  const searchChatHandler = (keywords)=>{\r\n    setSearchTerm((term)=>{\r\n      //console.log(\"keywords\",term)\r\n      term = keywords\r\n      return term\r\n    })\r\n    \r\n  }\r\n  let elem = null;\r\n  useEffect(() => {\r\n    if(chat.messages){\r\n      \r\n    const list = chat.messages.filter(msg => msg.messageBody.toLowerCase().includes(searchTerm.toLowerCase()));\r\n    setSearchChats({messages : list});\r\n    }\r\n    else{\r\n      console.log(\"no chat\")\r\n    }\r\n}, [searchTerm]);\r\n\r\n  \r\n  if (chat.messages === undefined) {\r\n    \r\n    elem = (\r\n      <div class=\"d-flex justify-content-center\">\r\n         <strong style={{marginRight:\"1rem\"}}>Loading...</strong>\r\n      <div class=\"spinner-border\" role=\"status\">\r\n    </div>\r\n    </div>\r\n    );\r\n  }\r\n  else if(chat.messages.length == 0 ){\r\n    elem = (<div  style= {{textAlign: \"center\",fontSize:\"1.3rem\",height:\"100%\", \r\n    backgroundImage: \"linear-gradient(to right, #CECECE, #ebebeb)\"\r\n       }}><p style={{position:\"relative\",top:\"40%\"}}>Say Hi👋, to <strong>{recipientInfo.current.name}</strong></p></div>)\r\n    } \r\n   else {\r\n    if(searchTerm !== \"\" && searchChats.messages !== undefined){\r\n      elem = (searchChats.messages.map((msg) =>{\r\n        return <SettingMessage message={msg} user={user.current.uId} isDel={isDel} term={searchTerm}/>;\r\n      })\r\n      )\r\n    }\r\n    else{\r\n      elem = (chat.messages.map((msg) =>{\r\n        return ( <div ref={scrollRef}>\r\n          <SettingMessage message={msg} user={user.current.uId} isDel={isDel} getData = {getData} id={id[1]} rec={recipient.current}/>\r\n          </div>)\r\n      })\r\n      )\r\n    }\r\n\r\n    if(searchChats.messages.length === 0){\r\n      console.log(\"no match\")\r\n      elem = (\r\n        <h5 style={{ textAlign: \"center\" }}>No match found!</h5>\r\n      )\r\n    }\r\n    \r\n    \r\n  }\r\n\r\n  \r\n  return (    \r\n    <RenderChat recipientInfo={recipientInfo.current} \r\n     setLogin={props.setLogin}\r\n     element={elem}\r\n     loading = {loading}\r\n     sendMessage = {sendMessage}\r\n     isDel ={isDel}\r\n     setDel = {setDel}\r\n     isFriend = {isFriend}\r\n     isChat={isChat}\r\n     getData ={getData}\r\n     searchTerm = {searchTerm}\r\n     setTerm = {setSearchTerm}\r\n     searchHandler ={searchChatHandler}\r\n    />\r\n  );\r\n}","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\userDashboard.js",["265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284"],"import React, { useEffect, useState,useContext,useRef } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { Button, Grid,Hidden } from \"@material-ui/core\";\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport {ChatContext} from '../../../context/ChatContext';\r\nimport io from \"socket.io-client\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport GroupAddRoundedIcon from '@material-ui/icons/GroupAddRounded';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport chatservice from '../../../services/ChatService';\r\nimport accountService from '../../../services/accountService';\r\nimport friendService from '../../../services/friendService';\r\n //import { ToastContainer } from 'react-toastify';\r\n//import Toast from 'react-bootstrap/Toast' \r\nimport '../../ChatComponents/chat.css'\r\nimport PageTitle from \"./pageTitle\";\r\n\r\n\r\nconst UserDashboard = ({setLogin,setUsers}) => {\r\n  //const {chatRecipients,setRecipients,getRecData} = useContext(MyChatsContext);\r\n  //const [obj, setObj] = useState({})\r\n  const myId= isAuthenticated()._id;\r\n  //const [msgCounter,setMsgCounter]= useState(0)\r\n  //const [friendCount,setFriendCount]=useState(0);\r\n  let showBtn = useRef(0)\r\n  let userEmail = useRef()\r\n  let history = useHistory()\r\n  userEmail.current = JSON.parse(localStorage.getItem(\"user\")).email\r\n  const IP_URL = localStorage.getItem('IP_URL')\r\n  console.log(userEmail)\r\n  const {clientSocket,setSocket,messageEvent,roomJoin,friendReq,getRequest,frndcounter,msgNotify,msgCounter,acceptRejectCounter} = useContext(SocketContext);\r\n  //const {count, obj} = useContext(ChatContext);\r\n\r\n  console.log(\"counter in dashbord\",msgCounter)\r\n  let clientSocket1 = useRef()\r\n  useEffect(()=>msgNotify,[])\r\n  useEffect(()=>acceptRejectCounter,[])\r\n  \r\n   window.onload = () => {\r\n       friendReq()\r\n       acceptRejectCounter()\r\n       msgNotify()\r\n     messageEvent()\r\n     getRequest()\r\n    roomJoin(myId)\r\n    clientSocket1 = io(process.env.REACT_APP_IP_URL)\r\n  setSocket((s)=>{\r\n      s = clientSocket1\r\n      s.on('connect' , () => {\r\n        console.log(\"connected\",s.id);\r\n        s.emit(\"adduser\",{id:s.id, name: userEmail.current})\r\n        \r\n      });\r\n      return s;\r\n    })\r\n  };\r\n\r\n  /* useEffect(()=>{\r\n\r\n    clientSocket.on(\"messagecounter\", (payload) => {\r\n      // console.log(\" counter : \",payload)\r\n      //setCount(payload.counter) \r\n    });\r\n    chatservice.offlinemessages(isAuthenticated().email)\r\n        .then((res)=>{\r\n            if(res.count > 0){\r\n              setObj((o)=>{\r\n                o = {sender: res.info.sender, receiver: res.info.receiver}\r\n                return o\r\n              })\r\n              //obj = {sender: res.info.sender, receiver: res.info.receiver}\r\n              console.log(\"obj\",obj)\r\n              setCount((c)=>{\r\n                c = res.count\r\n                return c\r\n              })\r\n       \r\n            }\r\n        })\r\n        .catch((err)=>console.log(err))\r\n\r\n  },[]) */\r\n/* useEffect(()=>{\r\n  console.log(\"count value\",count)\r\n  friendService.getFriendRequestsCount(myId)\r\n  .then((res)=>{ \r\n     if(res> 0)\r\n     setFriendCount(res)\r\n  })\r\n  .catch((err)=>console.log(err))\r\n},[]) */\r\n  \r\n  \r\n   useEffect(()=>{\r\n    if(clientSocket!==undefined){\r\n        console.log(clientSocket)\r\n        clientSocket.emit(\"adduser\",{id:clientSocket.id, name: userEmail.current}, (usersArray)=>{\r\n          //console.log(\"users array\",usersArray)\r\n          setUsers((u)=>{\r\n            u = usersArray\r\n            console.log(\"users array\",usersArray)\r\n            return u\r\n          })\r\n        })\r\n      }\r\n      else{\r\n        console.log(\"no socket\")\r\n      }\r\n   },[])\r\n\r\n   useEffect (()=>{\r\n    //friendReq()\r\n     //messageEvent()\r\n     //console.log(\"message event\")\r\n     //friendReq()\r\n   },[]);\r\n\r\n   useEffect (()=>{\r\n    roomJoin(myId)\r\n  },[]);\r\n\r\n  return <div style={{height:\"100vh\"}} className=\"back_divs dashboardDiv\">\r\n    <Header/>\r\n    <PageTitle name={\"Dashboard\"}/>\r\n           <Grid container>\r\n               <Grid item xs={1} sm={3} md={2}  ></Grid>\r\n               <Grid item xs={10} sm={6} md={8} >\r\n                \r\n          <div className=\"mySettings\"> \r\n          <i class=\"fas fa-user-cog mySettingsicon\"  ></i>\r\n         <Button className= \"loginbtn myDashboardBtn\"\r\n           variant=\"contained\" \r\n            fullWidth\r\n            size=\"large\"\r\n             onClick={event =>  history.push('/my-account-settings/'+myId)}>\r\n          Account Settings\r\n            </Button>\r\n            </div>\r\n{\r\n          frndcounter >= 1 ?\r\n          <div className=\"myContacts\"> \r\n          <i class=\"fas fa-address-book myContacticon\"  ></i>\r\n           <Button className= \"loginbtn myDashboardBtn\"\r\n           variant=\"contained\"\r\n            size=\"large\"\r\n           \r\n            fullWidth\r\n             onClick={event =>  history.push('/my-contact-list/'+myId)}>\r\n               \r\n            Contacts\r\n            <Badge badgeContent={frndcounter} className=\"msgCounter\" color=\"Secondary\">\r\n            </Badge>\r\n            </Button>\r\n            </div>\r\n          :\r\n          <div className=\"myContacts\"> \r\n           <i class=\"fas fa-address-book myContacticon\"  ></i>\r\n         <Button className= \"loginbtn myDashboardBtn\"\r\n           variant=\"contained\" \r\n            fullWidth\r\n            size=\"large\"\r\n             onClick={event =>  history.push('/my-contact-list/'+myId)}>\r\n            Contacts\r\n            </Button>\r\n            </div>\r\n        }    \r\n         \r\n            {\r\n          msgCounter >= 1?\r\n          <div className=\"myChats\"> \r\n           <i className=\"fas fa-comments myChaticon\"  ></i>\r\n           <Button className= \"loginbtn myDashboardBtn\"\r\n           variant=\"contained\"\r\n            size=\"large\"\r\n           \r\n            fullWidth\r\n             onClick={event =>  history.push('/mychats/'+myId)}>\r\n               \r\n            Chats\r\n            <Badge badgeContent={msgCounter} className=\"msgCounter\" color=\"Secondary\">\r\n            </Badge>\r\n            </Button>\r\n            </div>\r\n          :\r\n          <div className=\"myChats\"> \r\n           <i className=\"fas fa-comments myChaticon\"  ></i>\r\n         <Button className= \"loginbtn myDashboardBtn\"\r\n           variant=\"contained\" \r\n            fullWidth\r\n            size=\"large\"\r\n             onClick={event =>  history.push('/mychats/'+myId)}>\r\n            Chats\r\n            </Button>\r\n            </div>\r\n        } \r\n       \r\n        </Grid>\r\n        <Grid item xs={1} sm={3} md={2} ></Grid>\r\n        </Grid>\r\n            \r\n            </div>\r\n  \r\n            {/* <div style={{height:\"100vh\"}} className=\"back_divs\">\r\n    <Header setLogin={setLogin}/>\r\n    <PageTitle name={\"Dashboard\"}/>\r\n   {/* <ToastContainer/>}\r\n     <Grid container>\r\n       <Grid item xs={1} md={4}></Grid>\r\n       <Grid item xs={10} md={4}>\r\n          <Button className= \"loginbtn\"\r\n             style={{padding:\"10px 20px\",display:\"block\",backgroundColor:\"#C8906A\"}}\r\n            variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/all-contacts/'+myId)}>\r\n              <PersonAddIcon className='chaticon'\r\n              color = \"white\"/> Add New friend\r\n            </Button>\r\n            <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 40px\",marginTop:\"2rem\",display:\"block\",backgroundColor:\"#C0C86A\"}}\r\n            variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/all-my-friends/'+myId)}>\r\n              < PeopleAltIcon className='chaticon'\r\n              color = \"white\"/> My Friends\r\n            </Button>\r\n    {/*         {\r\n    obj.sender !== undefined ?\r\n        obj.sender.forEach((o)=>\r\n        {\r\n            o !== userEmail.current ?\r\n            showBtn.current = showBtn.current + 1\r\n          :\r\n          showBtn.current = 0\r\n          })\r\n    :\r\n    null\r\n    } }\r\n    \r\n        {\r\n          //showBtn.current >= 1 ?\r\n          msgCounter>=1 ?\r\n           <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 20px\" , marginTop:\"2rem\",display:\"block\",backgroundColor:\"#D582BD\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/mychats/'+myId)}>\r\n            <Badge badgeContent={msgCounter} color=\"secondary\" style={{marginRight:\"0.5rem\"}}>\r\n              <ChatIcon className='chaticon'\r\n              onClick={event =>  history.push('/mychats/'+myId)}\r\n              color = \"white\"\r\n              />  \r\n            </Badge>\r\n            My Chats\r\n            </Button>\r\n          :\r\n         <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 50px\" ,marginTop:\"2rem\",display:\"block\",backgroundColor:\"#D582BD\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/mychats/'+myId)}>\r\n          <ChatIcon className='chaticon'\r\n              color = \"white\"\r\n              />  My Chats\r\n            </Button>\r\n            \r\n        }    \r\n         {\r\n          frndcounter >= 1 ?\r\n           <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 20px\" , marginTop:\"2rem\",display:\"block\",backgroundColor:\"#8298D5\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/all-friend-requests/'+myId)}>\r\n            <Badge badgeContent={frndcounter} color=\"secondary\" style={{marginRight:\"0.5rem\"}}>\r\n              <GroupAddRoundedIcon className='chaticon'\r\n              onClick={event =>  history.push('/all-friend-requests/'+myId)}\r\n              color = \"white\"\r\n              />  \r\n            </Badge>\r\n            My Friend Requests\r\n            </Button>\r\n          :\r\n         <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 50px\" ,marginTop:\"2rem\",display:\"block\",backgroundColor:\"#8298D5\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/all-friend-requests/'+myId)}>\r\n          <GroupAddRoundedIcon className='chaticon'\r\n              color = \"white\"\r\n              />  My Friend Requests\r\n            </Button>\r\n            \r\n        }\r\n         <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 27px\",marginTop:\"2rem\",display:\"block\",backgroundColor:\"#69B6CF\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/update-my-profile-setup/'+myId)}>\r\n              <SettingsIcon className='chaticon'\r\n              color = \"white\"/>Update Profile\r\n            </Button>\r\n       \r\n             <Button className= \"loginbtn\"\r\n             style={{padding:\"10px 20px\",marginTop:\"2rem\",display:\"block\",backgroundColor:\"#C3767F\"}}\r\n            variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={DeleteAccount}>\r\n              <DeleteIcon className='chaticon'\r\n              color = \"white\"/> Delete Account\r\n            </Button>\r\n             \r\n       </Grid>\r\n        <Grid item xs={1} md={4}></Grid>\r\n     </Grid>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    </div> */}\r\n};\r\n\r\nexport default UserDashboard;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\LogIn.js",["285","286","287","288","289","290","291","292","293"],"import React, { useState, useEffect ,useContext} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from 'clsx';\r\nimport {\r\n  TextField,\r\n  Grid,\r\n  Button,\r\n  FormControl,\r\n  Input,\r\n  InputAdornment,\r\n  Typography,\r\n  Paper,\r\n  IconButton,\r\n  InputLabel\r\n} from \"@material-ui/core\";\r\nimport { grey, cyan} from '@material-ui/core/colors';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport isEmail from \"validator/lib/isEmail\";\r\nimport isEmpty from \"validator/lib/isEmpty\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport { login } from \"../api/auth\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport io from \"socket.io-client\";\r\nimport LogoPage from \"./LogoPage\"\r\n//import { toast } from \"react-toastify\";\r\n\r\n\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport {ChatContext} from '../../../context/ChatContext';\r\n//import { v4 as uuidv4 } from 'uuid';\r\nimport { authentication, isAuthenticated } from \"../clientStorages/auth\";\r\nimport { DeletePermission } from \"../../../context/DeletePermissionContext\";\r\n \r\nconst useStyles = makeStyles((theme) => ({\r\n   textField: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  margin:{\r\n    marginBottom: theme.spacing(2),\r\n    \r\n  }\r\n}));\r\nconst LogIn = ({onIdSubmit,setId, isLogin,setLogin}) => {\r\n  let history = useHistory();\r\n  const {setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n  const classes = useStyles(); \r\n  const { dispatch } = useContext(DeletePermission);\r\n  const { getUnreadMsgs } = useContext(ChatContext);\r\n  let clientSocket1 = React.useRef()\r\n  useEffect(() => {\r\n    if (isAuthenticated() && isAuthenticated().role === 1)\r\n      history.push(\"/admin/dashboard\");\r\n    else if (isAuthenticated() && isAuthenticated().role === 0)\r\n      history.push(\"/user/dashboard\");\r\n     \r\n      \r\n  }, [history]);\r\n  /* window.onload = () => {\r\n    friendReq()\r\n    messageEvent()\r\n    //getUnreadMsgs()\r\n  }\r\n   */\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    errorMessage: \"\",\r\n    showPassword: false,\r\n    loading: false,\r\n  });\r\n  const { email, password, errorMessage, loading } = values;\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({\r\n      ...values,\r\n      [prop]: event.target.value,\r\n      errorMessage: \"\",\r\n    });\r\n  };\r\n\r\n  useEffect(()=>{\r\n    console.log(\"helloooo\")\r\n    //if(isLogin){\r\n      /* friendReq()\r\n      messageEvent() */\r\n    //}\r\n  // console.log(\"not authentiated\")\r\n \r\n  },[])\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n   const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  const handleTextChange = (evt) => {\r\n    setValues({\r\n      ...values,\r\n      [evt.target.name]: evt.target.value,\r\n      errorMessage: \"\",\r\n    });\r\n  };\r\n  const Register = (event) => {\r\n    event.preventDefault();\r\n    if (isEmpty(email) || isEmpty(password)) {\r\n      setValues({ ...values, errorMessage: \"Both fields are required\" });\r\n    } else if (!isEmail(email)) {\r\n      setValues({ ...values, errorMessage: \"Invalid Email\" });\r\n    } else {\r\n      setValues({ ...values, loading: true });\r\n      const { email, password } = values;\r\n      const data = { email, password };\r\n\r\n      login(data)\r\n        .then((response) => {\r\n          authentication(response.data.token, response.data.user);\r\n          console.log(response)\r\n          if (isAuthenticated() && isAuthenticated().role === 1)\r\n            history.push(\"/dashboard/\"+isAuthenticated()._id);\r\n          else {\r\n            /* friendReq()\r\n            messageEvent() */\r\n            setLogin((l)=>{\r\n              l = true\r\n              localStorage.setItem('isLogin',l)\r\n              return l\r\n            })\r\n            \r\n            history.push(\"/dashboard/\"+isAuthenticated()._id);\r\n      };\r\n          setValues({ ...values, loading: false });\r\n          setId(isAuthenticated()._id)\r\n         var del=  JSON.parse(localStorage.getItem(\"deletion\"));\r\n         if (del == \"\")\r\n            dispatch({ type: \"updatePermission\", value: false })\r\n         \r\n           \r\n        })\r\n        .catch((err) => {\r\n          setValues({\r\n            ...values,\r\n            password:\"\",\r\n            loading: false,\r\n            errorMessage: err.response.data.errorMessage,\r\n          });\r\n        });\r\n       \r\n        onIdSubmit(email)\r\n        \r\n        console.log(\"email\",email)\r\n        \r\n    }\r\n  };\r\n  \r\n  const LogInForm = () => (\r\n    <div>\r\n      <Grid container>\r\n        <Grid item xs={1} sm={3} md={4}></Grid>\r\n        <Grid item xs={10} sm={6} md={4}>\r\n        <Paper  className=\"Login-container\" style={{padding: '30px 50px'}} > \r\n            <Grid container style={{textAlign:\"center\"}}>\r\n          <Grid item xs={6} >\r\n            <Link className=\"active-header\"  to=\"/login\">Sign In</Link>      \r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Link className=\"header\" to=\"/signup\">Sign Up</Link>\r\n          </Grid>\r\n\r\n        </Grid>\r\n           <TextField\r\n           className={classes.textField}\r\n           style={{marginTop:\"2rem\"}}\r\n            label={\r\n              <div> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"   }}> Email Address </Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\"}}>*</Typography>\r\n                  </div>\r\n                  }\r\n            id=\"email-field\"\r\n            name=\"email\"\r\n            value={values.email}\r\n            fullWidth\r\n            onChange={handleTextChange}\r\n             InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n             <EmailIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          ),\r\n         }}\r\n          />\r\n          \r\n         <FormControl className={clsx(classes.margin, classes.textField)} fullWidth>\r\n         <InputLabel htmlFor=\"standard-adornment-password\"> \r\n         <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"    }}> Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\"}}>*</Typography>\r\n         </InputLabel>\r\n                    <Input\r\n            id=\"standard-adornment-password\"\r\n            type={values.showPassword ? 'text' : 'password'}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange('password')}\r\n              \r\n          startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <VpnKeyIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n        \r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n         </FormControl>\r\n            <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginBottom: \"1.2rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={Register}\r\n          >\r\n            Sign in\r\n          </Button>\r\n           <Link to=\"/forgot-password\" style={{textDecoration:\"none\",marginLeft:\"1rem auto\"}}  >Forgot Password?</Link>\r\n   </Paper>\r\n         </Grid>\r\n         <Grid item xs={1} sm={3} md={4} >\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n  return (\r\n    <div className=\"login_div\">\r\n      {loading && <LinearBuffer />}\r\n     \r\n      <LogoPage className=\"title\" name= {\"TalkSee\"}/>\r\n                  {LogInForm()} \r\n     \r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={4000} />\r\n      )}\r\n       \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\AllChats.js",["294","295","296","297","298","299","300","301","302","303"],"import React, { useEffect, useRef, useContext, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\nimport SingleChat from \"./SingleChat\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PageTitle from \"../FrontendComponents/components/pageTitle\";\r\nimport Header from \"../FrontendComponents/components/Header\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport chatservice from \"../../services/ChatService\";\r\nimport userservice from \"../../services/UserService\";\r\nimport \"./chat.css\";\r\nimport { Grid, Hidden } from \"@material-ui/core\";\r\nimport SideBar from \"../FrontendComponents/components/SideBar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mygrid: {\r\n    marginTop: \"50px\",\r\n    marginLeft: \"350px\",\r\n    width: \"650px\",\r\n  },\r\n}));\r\nconst AllChats = (props) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const { clientSocket } = useContext(SocketContext);\r\n  let uId = JSON.parse(localStorage.getItem(\"user\")).email;\r\n  const {setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n  let emails = useRef([]);\r\n  //let usersData = useRef([])\r\n  const [usersData, setData] = useState({uData:[]});\r\n  const [lastMsg, setLastMsg] = useState({\r\n    msgs: [],\r\n    msgId: [],\r\n    emails: [],\r\n    types: [],\r\n    senders: [],\r\n    time : [],\r\n    userName :[],\r\n    userImg: [],\r\n    userId: [],\r\n    userLang:[]\r\n  });\r\n  const [payload, setPayload] = useState()\r\n  //const [recipients, setRecipients] = useState([])\r\n  let roomId = useRef();\r\n  let count = useRef(0);\r\n  let notPresent = useRef(0);\r\n  roomId.current = \"mychats/\" + props.match.params.id;\r\n  let recData = [];\r\n  let recMsgs = [];\r\n  let dummy = [];\r\n  const [loading,setLoading]=useState(false);\r\n let clientSocket1 = useRef()\r\n\r\n  window.onload = () => {\r\n    friendReq()\r\n    messageEvent()\r\n    let did = JSON.parse(localStorage.getItem('user'))._id\r\n    roomJoin(did)\r\n    clientSocket1 = io(process.env.REACT_APP_IP_URL)\r\n    setSocket((s)=>{\r\n      s = clientSocket1\r\n      s.on('connect' , () => {\r\n        console.log(\"connected\",s.id);\r\n        s.emit(\"adduser\",{id:s.id, name: uId})\r\n\r\n      });\r\n      return s;\r\n    })\r\n  };\r\n  const getRecData = (uId) => {\r\n    emails.current = []\r\n    lastMsg.msgs = []; lastMsg.msgId = []; lastMsg.emails = []; \r\n    lastMsg.types = []; lastMsg.senders = []; lastMsg.time = []; \r\n    chatservice\r\n      .getChatRecipients(uId)\r\n      .then((data) => {\r\n        if (data.length > 0) {\r\n          \r\n          emails.current = data.sort();\r\n          emails.current = Array.from(new Set(emails.current));\r\n          /* userservice\r\n            .getUserByEmail({ userArray: emails.current })\r\n            .then((datafromdb) => {\r\n              recData = datafromdb;\r\n              //console.log(\"recdata\", recData);\r\n              setData((d) => {\r\n                d.uData = recData;\r\n                return d;\r\n              });\r\n            }); */\r\n          // let index = 0\r\n          emails.current.forEach((r, index) => {\r\n            chatservice\r\n              .getLastMsg(uId, r)\r\n              .then((data1) => {\r\n                console.log(\"data1\", data1);\r\n                if(data1){\r\n                  setLastMsg((msg) => {\r\n                    console.log(\"msg\",msg)\r\n                    if (\r\n                      msg.msgs.length >= 1 &&\r\n                      msg.emails.length >= 1 &&\r\n                      msg.types.length >= 1 &&\r\n                      msg.msgId.length >= 1 &&\r\n                      msg.senders.length >= 1 &&\r\n                      msg.userName.length >=1 && msg.userImg.length >=1\r\n                      && msg.userId.length >=1\r\n                    ) {\r\n                      let newMsg = [...msg.msgs];\r\n                      let newR = [...msg.emails];\r\n                      let newT = [...msg.types];\r\n                      let id = [...msg.msgId];\r\n                      let sender = [...msg.senders];\r\n                      let newTime = [...msg.time]\r\n                      let uName = [...msg.userName]\r\n                      let uImg = [...msg.userImg]\r\n                      let uLang= [...msg.userLang]\r\n                      let uId=[...msg.userId]\r\n\r\n                      newMsg = [...newMsg, data1.lastMsg];\r\n                      newR = [...newR, r];\r\n                      newT = [...newT, data1.type];\r\n                      id = [...id, data1.msgId];\r\n                      sender = [...sender, data1.sender];\r\n                      newTime = [...newTime, data1.time]\r\n                      uName =[...uName,data1.userName]\r\n                      uImg=[...uImg,data1.img]\r\n                      uLang=[...uLang, data1.lang]\r\n                      uId=[...uId,data1.id]\r\n\r\n                      return {\r\n                        ...msg,\r\n                        msgs: newMsg,\r\n                        msgId: id,\r\n                        emails: newR,\r\n                        types: newT,\r\n                        senders: sender,\r\n                        time : newTime,\r\n                        userName : uName,\r\n                        userImg : uImg,\r\n                        userId: uId,\r\n                        userLang: uLang\r\n                      };\r\n                    } else {\r\n                      \r\n                      let myMsg =  {\r\n                        msgs: [data1.lastMsg],\r\n                        msgId: [data1.msgId],\r\n                        emails: [r],\r\n                        types: [data1.type],\r\n                        senders: [data1.sender],\r\n                        time : [data1.time],\r\n                        userName : [data1.userName],\r\n                        userImg : [data1.img],\r\n                        userId: [data1.id],\r\n                        userLang: [data1.lang]\r\n                      };\r\n      \r\n                      return myMsg\r\n                    }\r\n                  });\r\n                }\r\n                setLoading(true);\r\n              })\r\n              .catch((err) => console.log(err));\r\n          });\r\n\r\n          //setLastMsg(recMsgs)\r\n\r\n          //console.log(\"recipients\",lastMsg)\r\n        } else console.log(\"no data\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    count.current = 0\r\n    if (clientSocket) {\r\n      clientSocket.emit(\r\n        \"myChatsRoom\",\r\n        { myChatsRoom: roomId.current },\r\n        ({ error, room }) => {\r\n          if (!error) {\r\n            console.log(\"joined room with id\", room);\r\n          } else {\r\n            console.log(\"error joining room\", error);\r\n          }\r\n        }\r\n      );\r\n    }\r\n    //console.log(\"in useEffect 1\");\r\n    getRecData(uId);\r\n    console.log(\"usersData 1\", props.users);\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    if (clientSocket) {\r\n      clientSocket.on(\"newRecipient\", (payload) => {\r\n        setPayload((p)=>{\r\n          return p = payload\r\n        })\r\n      })\r\n    }\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    if (payload) {\r\n        let index;\r\n\r\n        if (lastMsg.emails.length !== 0) {\r\n          count.current = 0;\r\n          /* present.current =0\r\n        notPresent.current =0 */\r\n          lastMsg.emails.forEach((u, indx) => {\r\n            //console.log(\"emails from map\", payload.message.from, u.email);\r\n            if (payload.message.from === u) {\r\n              index = indx;\r\n              count.current = count.current + 1;\r\n              \r\n            } else {\r\n              //count.current.current = notPresent.current + 1 ;\r\n              console.log(\"false\");\r\n            }\r\n          });\r\n          if (count.current !== 0) {\r\n            setRecArray(\r\n              index,\r\n              payload.message\r\n            );\r\n          } else if (count.current === 0) {\r\n            setNewRecipient(\r\n              payload.message\r\n            );\r\n          } else console.log(\"nothing \", count.current);\r\n        } else {\r\n          console.log(\"usersData 1\", lastMsg);\r\n        }\r\n      //});\r\n    }\r\n  }, [payload]);\r\n\r\n  const setRecArray = (index, message) => {\r\n    //console.log(lastMsg,usersData)\r\n    let items = []\r\n    items = [...lastMsg.msgs];\r\n    //let email = [...lastMsg.emails]\r\n    let mtypes = [...lastMsg.types]\r\n    let mTime = [...lastMsg.time]\r\n    //let sender = [...lastMsg.senders]\r\n    items[index] = message.messageBody;\r\n    mtypes[index] = message.type\r\n    mTime[index] = message.time\r\n    //sender[index] = message.from\r\n    //email[index] = message.from\r\n    //email = email.sort()\r\n    setLastMsg((m) => {\r\n      //return { ...m, msgs: items, emails: email, types: mtypes, time: mTime, senders: sender };\r\n      return { ...m, msgs: items, types: mtypes, time: mTime};\r\n     \r\n    });\r\n  };\r\n\r\n  const setNewRecipient = (message) => {\r\n    console.log(\"in new chattt\",message.type)\r\n    userservice\r\n      .getUserByEmail({ userEmail: message.from })\r\n      .then((data) => {\r\n        console.log(\"dataa\",data)\r\n        setLastMsg((msg) => {\r\n          console.log(\"msg\",msg)\r\n          if (msg.emails.length >= 1) {\r\n        \r\n            return {\r\n              ...msg, msgs: [...msg.msgs,message.messageBody ], emails: [...msg.emails,message.from], \r\n              types: [...msg.types,message.type], senders: [...msg.senders,message.from], time : [...msg.time,message.time],\r\n              userName : [...msg.userName,data[0].firstName + ' ' + data[0].lastName], userImg : [...msg.userImg,data[0].profileImg],\r\n              userId: [...msg.userId,data[0]._id], userLang: [...msg.userLang,data[0].langPreference]\r\n            };\r\n          }\r\n          else {\r\n                      \r\n            let myMsg =  {\r\n              msgs: [message.messageBody], emails: [message.from], types: [message.type],senders: [message.from],\r\n              time : [message.time], userName : [data[0].firstName + ' ' + data[0].lastName],userImg : [data[0].profileImg],\r\n              userId: [data[0]._id],userLang: [data[0].langPreference]\r\n            };\r\n\r\n            return myMsg\r\n          }\r\n          \r\n        })\r\n      })\r\n      \r\n   \r\n    \r\n  };\r\n\r\n  return (\r\n    <div  style={{height:\"100vh\"}} className=\"back_divs\">\r\n    <Grid container>\r\n       <Hidden only={['xs', 'sm']}>\r\n      <Grid item xs ={5} md={2}><SideBar/></Grid>\r\n      </Hidden>\r\n        <Hidden only={['md', 'lg']}>\r\n      <Grid item xs={12} ><Header/></Grid>\r\n      </Hidden>\r\n   <Grid item xs={12} md={10}>\r\n  <PageTitle name={\"My Chats\"} />\r\n  {loading?\r\n  <div>\r\n  {lastMsg.msgs.length !==0? (\r\n    <div>\r\n        <Grid container   style={{marginTop:\"0.9rem\" }}>\r\n      <Grid item xs ={1} md={1}> </Grid>\r\n      <Grid item xs ={10} md={10}>\r\n      <SingleChat recipients={usersData.uData} lastMsg={lastMsg} />\r\n     \r\n    </Grid>\r\n    <Grid item xs ={1} md={1}> </Grid>\r\n    </Grid>\r\n    </div>\r\n  ) : (\r\n    <h5 style={{ textAlign: \"center\" }}>No Chats Yet!</h5>\r\n  )}\r\n  </div>:\r\n      <div class=\"d-flex justify-content-center\">\r\n         <strong style={{marginRight:\"1rem\"}}>Loading...</strong>\r\n  <div class=\"spinner-border\" role=\"status\">\r\n    \r\n  </div>\r\n</div>\r\n}\r\n  </Grid>\r\n   </Grid>\r\n</div>\r\n  );\r\n};\r\nexport default AllChats;\r\n\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriendRequest.js",["304","305","306","307","308","309","310","311"],"import React, { useEffect, useContext, useRef,useState } from \"react\";\r\nimport SingleFriendRequest from \"./SingleFriendRequest\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport { Button, Grid,Hidden,InputAdornment, TextField  } from \"@material-ui/core\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Header from \"./Header\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport io from \"socket.io-client\";\r\nimport SideBar from \"./SideBar\";\r\n \r\nconst AllFriendRequest = (props) => {\r\n     const myId=isAuthenticated()._id;\r\n     const [friendreqs, setFrndRequest] =React.useState([]);\r\n      const [searchTerm, setSearchTerm] = useState(\"\");\r\n      const[loading,setLoading]=useState(false);\r\n    const onChangeSearch = (event) => \r\n        setSearchTerm(event.currentTarget.value)\r\n     let clientSocket1 = useRef()\r\n     let userEmail = isAuthenticated().email\r\n     const {setSocket,roomJoin,messageEvent,friendReq,getRequest,acceptRejectCounter} = useContext(SocketContext);\r\n     let roomId = useRef()\r\n     roomId.current = '/'+props.match.params.id\r\n     const IP_URL = localStorage.getItem('IP_URL')\r\n     let history = useHistory()\r\n\r\n     window.onload = () => {\r\n        friendReq()\r\n       messageEvent()\r\n       getRequest()\r\n      let did = JSON.parse(localStorage.getItem('user'))._id\r\n      roomJoin(did)\r\n      clientSocket1 = io(process.env.REACT_APP_IP_URL)\r\n      setSocket((s)=>{\r\n        s = clientSocket1\r\n        s.on('connect' , () => {\r\n          console.log(\"connected\",s.id);\r\n          s.emit(\"adduser\",{id:s.id, name: userEmail.current})\r\n          \r\n        });\r\n        return s;\r\n      })\r\n    };\r\n\r\n     const getFriendRequest = () => \r\n     {\r\n      friendService.getFriendRequest(myId).then((data)=>{\r\n                setFrndRequest(data)\r\n                setLoading(true);\r\n                acceptRejectCounter();\r\n              })\r\n            .catch((err=>{console.log(err)}))\r\n     }\r\n    useEffect(getFriendRequest , []);\r\n\r\n    useEffect(()=>{\r\n      //roomJoin(myId)\r\n      \r\n     },[])\r\n\r\n   /*  useEffect(()=>{\r\n      if(clientSocket){\r\n        clientSocket.emit(\r\n          \"myChatsRoom\",\r\n          { myChatsRoom : roomId.current},\r\n          ({error,room}) => {\r\n            if (!error) {\r\n              console.log(\"joined room with id\", room);\r\n            } else {\r\n              console.log(\"error joining room\", error);\r\n            }\r\n          }\r\n        );\r\n      }\r\n     },[]) */\r\n\r\n     return ( \r\n      <div  style={{height:\"100vh\"}} className=\"back_divs\">\r\n      <Grid container>\r\n        <Hidden only={['xs', 'sm']}>\r\n           <Grid item xs ={5} md={2}><SideBar/></Grid>\r\n           </Hidden>\r\n             <Hidden only={['md', 'lg']}>\r\n           <Grid item xs={12} ><Header setLogin={props.setLogin}/></Grid>\r\n           </Hidden>\r\n            <Grid item xs={12} md={10}>\r\n       <PageTitle name= {\"Friend Requests\"}/>\r\n       {loading?\r\n       <div> {\r\n       friendreqs.length === 0 ? \r\n         ( <div style= {{textAlign: \"center\",fontSize:\"1.4rem\",\r\n     padding: \"6rem\", fontWeight:\"bold\"}}>You have no friend request😞</div>) \r\n         :\r\n         (\r\n           <div>\r\n         <Grid container   style={{marginTop:\"0.9rem\" }}>\r\n           <Grid item xs ={1} md={1}> </Grid>\r\n           <Grid item xs ={10} md={10}>\r\n             <Grid container   style={{marginBottom:\"1rem\" }}>\r\n           <Grid item xs ={0} md={7}> </Grid>\r\n           <Grid item xs ={12} md={5}  >\r\n             <TextField\r\n                 value={searchTerm}\r\n                 onChange={onChangeSearch}\r\n                 placeholder=\"Search by typing name\"\r\n                  \r\n         InputProps={{\r\n           startAdornment: (\r\n             <InputAdornment position=\"end\">\r\n              <SearchIcon style={{ color: \"black\" ,marginRight:\"0.4rem\",float:\"right\"}}/>\r\n             </InputAdornment>\r\n           ),\r\n          }}\r\n             />\r\n             </Grid>\r\n               \r\n             </Grid>\r\n           {\r\n           friendreqs.filter((friendreq)=>{\r\n              if(searchTerm == \"\") return friendreq\r\n              else if (friendreq.name.toLowerCase().startsWith(searchTerm.toLowerCase()))\r\n                 return friendreq\r\n            }).map((friendreq, index) => (\r\n                <SingleFriendRequest key={index} friendreq={friendreq} onAcceptReject={getFriendRequest}/> )\r\n           )}\r\n            \r\n           </Grid>\r\n           <Grid item xs={1}   md={10}></Grid>\r\n         </Grid>\r\n         </div> )\r\n          \r\n       }\r\n        </div>:\r\n           \r\n        <div class=\"d-flex justify-content-center\">\r\n          <strong style={{marginRight:\"1rem\"}}>Loading...</strong>\r\n   <div class=\"spinner-border\" role=\"status\">\r\n     \r\n   </div>\r\n </div>\r\n   }\r\n          </Grid>\r\n   \r\n       </Grid>\r\n     </div>\r\n       );\r\n\r\n}\r\nexport default AllFriendRequest;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllContacts.js",["312","313","314","315","316","317","318","319"],"import React, { useEffect, useContext, useRef,useState } from \"react\";\r\nimport SingleContact from \"./SingleContact\";\r\nimport contactService from \"../../../services/contactService\";\r\nimport { Button, Grid,Hidden,InputAdornment, TextField  } from \"@material-ui/core\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport io from \"socket.io-client\";\r\nimport Header from \"./Header\";\r\nimport { grey } from '@material-ui/core/colors';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport SideBar from \"./SideBar\";\r\n\r\nconst AllContact = (props) => {\r\n    const myId=isAuthenticated()._id;\r\n    let userEmail = isAuthenticated().email;\r\n    const[loading,setLoading]=useState(false);\r\n    let history = useHistory()\r\n     const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const onChangeSearch = (event) => \r\n        setSearchTerm(event.currentTarget.value)\r\n    const [contacts, setContacts] = React.useState([]);\r\n    let roomId = useRef()\r\n    let clientSocket1 = useRef()\r\n    roomId.current = '/'+props.match.params.id;\r\n    const IP_URL = localStorage.getItem('IP_URL')\r\n    const {clientSocket,setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n    window.onload = () => {\r\n       friendReq()\r\n      messageEvent()\r\n      let did = JSON.parse(localStorage.getItem('user'))._id\r\n      roomJoin(did)\r\n      clientSocket1 = io(process.env.REACT_APP_IP_URL)\r\n      //clientSocket1 = io(IP_URL)\r\n      setSocket((s)=>{\r\n        s = clientSocket1\r\n        s.on('connect' , () => {\r\n          console.log(\"connected\",s.id);\r\n          s.emit(\"adduser\",{id:s.id, name: userEmail})\r\n          \r\n        });\r\n        return s;\r\n      })\r\n    };\r\n\r\n    const getData = () => {\r\n   friendService.getSentFriendRequest(myId)\r\n   .then((data)=>{\r\n      localStorage.setItem(\"user\",JSON.stringify(data));})\r\n   .catch((err=>{console.log(err)}))\r\n   }\r\n     \r\n  const getSingleContact = () => {\r\n    contactService.getSingleContact(myId)\r\n    .then((data) => { setContacts(data);\r\n      setLoading(true)\r\n    })\r\n    .catch((err) => {console.log(err);});\r\n  };\r\n\r\n   useEffect(()=> {\r\n     getData();\r\n     getSingleContact();\r\n }, []);\r\n \r\n   useEffect(()=>{\r\n    //roomJoin(myId)\r\n    //messageEvent()\r\n   },[])\r\n    \r\n   \r\n    return ( \r\n      <div style={{height:\"100vh\"}} className=\"back_divs\"  >\r\n       <Grid container>\r\n       <Hidden only={['xs', 'sm']}>\r\n          <Grid item xs ={5} md={2}><SideBar/></Grid>\r\n          </Hidden>\r\n            <Hidden only={['md', 'lg']}>\r\n          <Grid item xs={12} ><Header setLogin={props.setLogin}/></Grid>\r\n          </Hidden>\r\n           <Grid item xs={12} md={10}>\r\n      <PageTitle name= {\"Add Friend\"}/>\r\n      {loading?\r\n      <div>{\r\n      contacts.length === 0 ? \r\n        ( <div style= {{textAlign: \"center\", fontSize:\"1.4rem\",\r\n    padding: \"6rem\", fontWeight:\"bold\"}}>No TalkSee User Found😞</div>) \r\n        :\r\n        (<div >\r\n          \r\n            <Grid container  style={{marginTop:\"0.9rem\"}}>\r\n          <Grid item xs ={1} md={1}> </Grid>\r\n          <Grid item xs ={10} md={10} >\r\n            <Grid container   style={{marginBottom:\"1rem\" }}>\r\n          <Grid item xs ={0} md={8}> </Grid>\r\n          <Grid item xs ={12} md={4}  >\r\n            <TextField\r\n                value={searchTerm}\r\n                onChange={onChangeSearch}\r\n                placeholder=\"Search by typing name\"\r\n                 \r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n             <SearchIcon style={{ color: \"black\" ,marginRight:\"0.4rem\",float:\"right\"}}/>\r\n            </InputAdornment>\r\n          ),\r\n         }}\r\n            />\r\n            </Grid>\r\n            </Grid>\r\n     \r\n           { contacts.filter((contact)=>{\r\n             if(searchTerm === \"\") return contact\r\n             else if (contact.firstName.toLowerCase().startsWith(searchTerm.toLowerCase()) || contact.lastName.toLowerCase().startsWith(searchTerm.toLowerCase()) )\r\n                return contact\r\n           }).map((contact, index) => {\r\n              return contact._id === myId ? \r\n              <div></div>\r\n            : <SingleContact key={index} contact={contact}  roomId={roomId.current}/>\r\n                 \r\n            } )\r\n          }\r\n           \r\n           </Grid>\r\n          <Grid item xs={1}   md={1}></Grid>\r\n        </Grid>\r\n         \r\n         \r\n       </div> )\r\n          }\r\n          </div>:\r\n          \r\n       <div class=\"d-flex justify-content-center\">\r\n         <strong style={{marginRight:\"1rem\"}}>Loading...</strong>\r\n  <div class=\"spinner-border\" role=\"status\">\r\n    \r\n  </div>\r\n</div>\r\n  }\r\n        \r\n        \r\n      \r\n        </Grid>\r\n  \r\n      </Grid>\r\n             \r\n    </div>\r\n    );\r\n}\r\n \r\nexport default AllContact;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Profile.js",["320","321","322","323","324","325","326","327","328","329"],"import React, { useState, useEffect,useContext } from \"react\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport Select from \"react-select\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport { grey, cyan,lightBlue} from '@material-ui/core/colors';\r\nimport {Button} from \"@material-ui/core\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Webcam from \"react-webcam\";\r\nimport { SocketContext } from \"../../../context/SocketContext\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport friendService from \"../../../services/friendService\";\r\nconst useStyles = makeStyles({\r\n\r\n  textfield: {\r\n    marginTop: \"2rem\",\r\n  },\r\n  Submitbtn: {\r\n    marginTop: \"0.6rem\",\r\n  },\r\n});\r\n\r\n\r\nconst Profile = ( {match}) => {\r\n     console.log(match.params.id)\r\n     const contactId = match.params.id\r\n     const roomId = '/'+contactId\r\n    const myId=isAuthenticated()._id;\r\n    const myName =isAuthenticated().firstName + \" \" +isAuthenticated().lastName;\r\n    var userData=JSON.parse(localStorage.getItem(\"user\")) \r\n    const [showAddBtn, setAddBtn]=useState(userData.sentRequests.includes(contactId)?false:true)\r\n    const myProfileImg =isAuthenticated().profileImg;\r\n    const myEmail =isAuthenticated().email;\r\n    const myGender =isAuthenticated().gender;\r\n    const myLangPreference =isAuthenticated().langPreference;\r\n    const { clientSocket } = useContext(SocketContext);\r\n    //console.log(\"Props \",props.match)\r\n    const sentFriendRequest=() => {\r\n        console.log(\"contact Id\",contactId)\r\n        friendService.sendRequest(\r\n            {friendId:contactId,\r\n            myId,myName,myProfileImg,myEmail,myGender,myLangPreference})\r\n         .then((data) => {\r\n           localStorage.setItem(\"user\",JSON.stringify(data));\r\n              // dispatch({type:\"FRIEND_REQUESTED\",payload:{sentRequests:data.sentRequests }})\r\n             setAddBtn(false)\r\n\r\n            })\r\n         .catch((err) => {console.log(err);});\r\n\r\n         clientSocket.emit(\r\n            \"friendRequest\",\r\n            { myName,roomId },\r\n            (err) => {\r\n              if (!err) console.log(\"emitted event\");\r\n              else console.log(err);\r\n            }\r\n          );\r\n    }\r\n     const cancelFriendRequest=()=>{\r\n\r\n        friendService.cancelRequest(\r\n            {friendId:contactId,myId})\r\n         .then((data) => {\r\n             localStorage.setItem(\"user\",JSON.stringify(data));\r\n            // dispatch({type:\"FRIEND_REQUESTED\",payload:{sentRequests:data.sentRequests }})\r\n             setAddBtn(true)\r\n\r\n         })\r\n         .catch((err) => {console.log(err);});\r\n    }\r\n\r\nreturn (\r\n    <div>\r\n        {showAddBtn ?  \r\n         <Button className= \"loginbtn\"\r\n             style={{display:\"inline-block\"  ,position:\"relative\",float:\"right\",marginTop:\"1rem\", backgroundColor:lightBlue[600],color:\"white\"}}\r\n            variant=\"contained\" \r\n            onClick={sentFriendRequest}>Add friend</Button>\r\n        : \r\n        <Button className= \"loginbtn\"\r\n              style={{display:\"inline-block\" ,position:\"relative\",float:\"right\" ,marginTop:\"1rem\", backgroundColor:grey[500],color:\"white\"}}\r\n            variant=\"contained\" \r\n            onClick={cancelFriendRequest}>Requested</Button> \r\n             }\r\n\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default Profile;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriends.js",["330","331","332","333","334","335","336","337","338","339"],"import React, { useEffect,useRef,useContext,useState } from \"react\";\r\nimport SingleFriend from \"./SingleFriend\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport { Button, Grid,Hidden,InputAdornment, TextField  } from \"@material-ui/core\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Header from \"./Header\";\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport io from \"socket.io-client\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport SideBar from \"./SideBar\";\r\n\r\nconst AllFriends = ({setLogin}) => {\r\n\r\n  console.log(\"props\",setLogin)\r\n     const myId=isAuthenticated()._id;\r\n     const [friends, setFriends] =React.useState([]);\r\n     const [loading,setLoading]=useState(false);\r\n     let history = useHistory()\r\n      const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const onChangeSearch = (event) => \r\n        setSearchTerm(event.currentTarget.value)\r\n     let clientSocket1 = useRef()\r\n      const {clientSocket,setSocket,roomJoin, messageEvent, friendReq} =  useContext(SocketContext);\r\n     let userEmail = useRef()\r\n     userEmail.current = JSON.parse(localStorage.getItem(\"user\")).email\r\n     const IP_URL = localStorage.getItem('IP_URL')\r\n\r\n     window.onload = () => {\r\n         friendReq()\r\n       messageEvent()\r\n      let did = JSON.parse(localStorage.getItem('user'))._id\r\n      roomJoin(did)\r\n      clientSocket1 = io(process.env.REACT_APP_IP_URL)\r\n      setSocket((s)=>{\r\n        s = clientSocket1\r\n        s.on('connect' , () => {\r\n          console.log(\"connected\",s.id);\r\n          s.emit(\"adduser\",{id:s.id, name: userEmail.current})\r\n          \r\n        });\r\n        return s;\r\n      })\r\n    };\r\n\r\n     const getAllMyFriends = () => \r\n     {\r\n       friendService.getAllFriends(myId)\r\n        .then((data)=>{\r\n         setFriends(data);\r\n         setLoading(true);\r\n        })\r\n      .catch((err=>{console.log(err)}))\r\n   \r\n     }\r\n    useEffect(()=>{\r\n\r\n      getAllMyFriends()\r\n      \r\n    }, []);\r\n    \r\n\r\n     return (\r\n      <div style={{height:\"100vh\"}} className=\"back_divs\">\r\n      <Grid container>\r\n       <Hidden only={['xs', 'sm']}>\r\n          <Grid item xs ={5} md={2}><SideBar/></Grid>\r\n          </Hidden>\r\n            <Hidden only={['md', 'lg']}>\r\n          <Grid item xs={12} ><Header setLogin={setLogin}/></Grid>\r\n          </Hidden>\r\n           <Grid item xs={12} md={10}>\r\n      <PageTitle name= {\"My Friends\"}/>\r\n    {loading?\r\n      <div> {\r\n      friends.length === 0 ? \r\n        ( <div style= {{textAlign: \"center\",fontSize:\"1.4rem\",\r\n    padding: \"6rem\", fontWeight:\"bold\"}}>You have no TalkSee Friend😞</div>) \r\n        :\r\n        (\r\n          <div>\r\n             \r\n        <Grid container   style={{marginTop:\"0.9rem\", display :\"flex\"}}>\r\n          <Grid item xs ={1} md={1}> </Grid>\r\n          <Grid item xs ={10} md={10}>\r\n            <Grid container   style={{marginBottom:\"1rem\"}}>\r\n          <Grid item xs ={0} md={7}> </Grid>\r\n          <Grid item xs ={12} md={5}  >\r\n            <TextField\r\n                value={searchTerm}\r\n                onChange={onChangeSearch}\r\n                placeholder=\"Search by typing name\"\r\n                 \r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n             <SearchIcon style={{ color: \"black\" ,marginRight:\"0.4rem\",float:\"right\"}}/>\r\n            </InputAdornment>\r\n          ),\r\n         }}\r\n            />\r\n            </Grid>\r\n            </Grid>\r\n     \r\n          {\r\n          friends.filter((friend)=>{\r\n             if(searchTerm == \"\") return friend\r\n             else if (friend.name.toLowerCase().startsWith(searchTerm.toLowerCase()))\r\n                return friend\r\n           }).map((friend, index) => (\r\n               <SingleFriend key={index} friend={friend} onRemove={getAllMyFriends} /> )\r\n          )}\r\n            \r\n          </Grid>\r\n          <Grid item xs={1}   md={1}></Grid>\r\n        </Grid>\r\n         </div>)\r\n         \r\n      }\r\n       </div>:\r\n          \r\n       <div class=\"d-flex justify-content-center\">\r\n         <strong style={{marginRight:\"1rem\"}}>Loading...</strong>\r\n  <div class=\"spinner-border\" role=\"status\">\r\n    \r\n  </div>\r\n</div>\r\n  }\r\n      </Grid>\r\n  \r\n      </Grid>\r\n \r\n    </div> \r\n    \r\n    );\r\n\r\n}\r\nexport default AllFriends;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\updateProfileSetup.js",["340","341","342","343","344"],"import React, { useState, useEffect,useContext, useRef } from \"react\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport Select from \"react-select\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport { grey, cyan} from '@material-ui/core/colors';\r\nimport {Button, Grid, Hidden} from \"@material-ui/core\";\r\nimport Header from \"./Header\";\r\nimport axios from 'axios';\r\nimport accountService from \"../../../services/accountService\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport SideBar from \"./SideBar\";\r\n \r\nimport io from \"socket.io-client\";\r\nimport Webcam from \"react-webcam\";\r\nconst useStyles = makeStyles({\r\n  \r\n  textfield: {\r\n    marginTop: \"2rem\",\r\n  },\r\n  Submitbtn: {\r\n    marginTop: \"0.6rem\",\r\n  },\r\n});\r\n\r\n\r\n\r\nconst UpdateProfileSetup = ({setLogin}) => {\r\n    const classes = useStyles();\r\n    const myId=isAuthenticated()._id;\r\n    let uId = JSON.parse(localStorage.getItem(\"user\")).email;\r\n    const {clientSocket,setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n    let clientSocket1 = useRef()\r\n    const webcamRef = React.useRef(null);\r\n    const [capturedPic, setCapturedPic]=React.useState(false);\r\nconst options = [\r\n  { label: 'Afrikaans',value:'af' },\r\n  { label: 'Albanian',value:'sq'},\r\n  { label: 'Amharic',value:'am'},\r\n  { label: 'Arabic',value:'ar'},\r\n  { label: 'Armenian',value:'hy'},\r\n  { label: 'Azerbaijani',value:'az'},\r\n  { label: 'Basque',value:'eu'},\r\n  { label: 'Belarusian',value:'be'},\r\n  { label: 'Bengali',value:'bn'},\r\n  { label: 'Bosnian',value:'bs'},\r\n  { label: 'Bulgarian',value:'bg'},\r\n  { label: 'Catalan',value:'ca'},\r\n  { label: 'Cebuano',value:'ceb'},\r\n  { label: 'Chichewa',value:'ny'},\r\n  { label: 'Chinese',value:'zh-cn'},\r\n  { label: 'Corsican',value:'co'},\r\n  { label: 'Croatian',value:'hr'},\r\n  { label: 'Czech',value:'cs'},\r\n  { label: 'Danish',value:'da'},\r\n  { label: 'Dutch',value:'nl'},\r\n  { label: 'English',value:'en'},\r\n  { label: 'Esperanto',value:'eo'},\r\n  { label: 'Estonian',value:'et'},\r\n  { label: 'Filipino',value:'tl'},\r\n  { label: 'Finnish',value:'fi'},\r\n  { label: 'French',value:'fr'},\r\n  { label: 'Danish',value:'da'},\r\n  {label: 'Frisian',value: \"fy\"},\r\n  {label: 'Galician',value: \"gl\"},\r\n  {label: 'Georgian',value: \"ka\"},\r\n  {label: 'German',value: \"de\"},\r\n  {label: 'Greek',value: \"el\"},\r\n  {label: 'Gujarati',value: \"gu\"},\r\n  {label: 'Haitian creole',value: \"ht\"},\r\n  {label:'Hausa',value: \"ha\"},\r\n  {label:'Hawaiian',value: \"haw\"},\r\n  {label:'Hebrew',value: \"iw\"},\r\n  {label: 'Hindi',value: \"hi\"},\r\n  {label:'Hmong',value: \"hmn\"},\r\n  {label:'Hungarian',value: \"hu\"},\r\n  {label:'Icelandic',value: \"is\"},\r\n  {label:'Igbo',value: \"ig\"},\r\n  {label:'Indonesian',value: \"id\"},\r\n  {label:'Irish',value: \"ga\"},\r\n  {label:'Italian',value: \"it\"},\r\n  {label:'Japanese',value: \"ja\"},\r\n  {label:'Javanese',value: \"jw\"},\r\n  {label:'Kannada',value: \"kn\"},\r\n  {label:'Kazakh',value: \"kk\"},\r\n  {label:'Khmer',value:'km'},\r\n  {label:'Korean',value:'ko'},\r\n  {label:'Kurdish',value:'ku'},\r\n  {label: 'Kyrgyz',value: \"ky\"},\r\n  {label: 'Lao',value: \"lo\"},\r\n  {label: 'Latin',value: \"la\"},\r\n  {label: 'Latvian',value: \"lv\"},\r\n  {label: 'Lithuanian',value: \"lt\"},\r\n  {label: 'Luxembourgish',value: \"lb\"},\r\n  {label: 'Macedonian',value: \"mk\"},\r\n  {label:'Malagasy',value: \"mg\"},\r\n  {label:'Malay',value: \"ms\"},\r\n  {label:'Malayalam',value: \"ml\"},\r\n  {label: 'Maltese',value: \"mt\"},\r\n  {label:'Maori',value: \"mi\"},\r\n  {label:'Marathi',value: \"mr\"},\r\n  {label:'Mongolian',value: \"mn\"},\r\n  {label:'Myanmar (burmese)',value: \"my\"},\r\n  {label:'Nepali',value: \"ne\"},\r\n  {label:'Norwegian',value: \"no\"},\r\n  {label:'Odia',value: \"or\"},\r\n  {label:'Pashto',value: \"ps\"},\r\n  {label:'Persian',value: \"fa\"},\r\n  {label:'Polish',value: \"pl\"},\r\n  {label:'Portuguese',value: \"pt\"},\r\n  {label:'Punjabi',value: \"pa\"},\r\n  {label :'Romanian', value:\"ro\"},\r\n  {label :'Russian', value:\"ru\"},\r\n  {label:'Samoan',value: \"sm\"},\r\n  {label:'Scots gaelic',value: \"gd\"},\r\n  {label:'Serbian',value: \"sr\"},\r\n  {label:'Sesotho',value: \"st\"},\r\n  {label:'Shona',value: \"sn\"},\r\n  {label:'Sindhi',value: \"sd\"},\r\n  {label:'Sinhala',value: \"si\"},\r\n  {label:'Slovak',value: \"sk\"},\r\n  {label:'Slovenian', value:\"sl\"},\r\n  {label:'Somali', value:\"so\"},\r\n  {label:'Spanish', value:'es' },\r\n  {label:'Sundanese',value: \"su\"},\r\n  {label:'Swahili',value: \"sw\"},\r\n  {label:'Swedish',value: \"sv\"},\r\n  {label:'Tajik',value: \"tg\"},\r\n  {label:'Tamil',value: \"ta\"},\r\n  {label:'Telugu',value: \"te\"},\r\n  {label:'Thai',value: \"th\"},\r\n  {label:'Turkish',value: \"tr\"},\r\n  {label :'Ukrainian', value:\"uk\"},\r\n  {label:'Urdu',value: \"ur\"},\r\n  {label :'Uyghur', value:\"ug\"},\r\n  {label:'Uzbek', value:'uz' },\r\n  {label:'Vietnamese',value: \"vi\"},\r\n  {label :'Welsh', value:\"cy\"},\r\n  {label:'Xhosa',value: \"xh\"},\r\n  {label :'Yiddish', value:\"yi\"},\r\n  {label:'Yoruba', value:'yo' },\r\n  {label:'Zulu',value: \"zu\"},\r\n  \r\n];\r\n \r\n    const [values, setValues] = useState({\r\n    img: \"\",\r\n    language:\"\",\r\n    errorMessage: \"\",\r\n    successMsg:\"\",\r\n    infoMessage:\"\",\r\n    loading: false,\r\n  });\r\n  const { img,language, successMsg, errorMessage,infoMessage, loading } = values;\r\n \r\n   window.onload = () => {\r\n    friendReq()\r\n    messageEvent()\r\n    let did = JSON.parse(localStorage.getItem('user'))._id\r\n    roomJoin(did)\r\n    clientSocket1 = io('http://192.168.10.4:5000/')\r\n    setSocket((s)=>{\r\n      s = clientSocket1\r\n      s.on('connect' , () => {\r\n        console.log(\"connected\",s.id);\r\n        s.emit(\"adduser\",{id:s.id, name: uId})\r\n      });\r\n      return s;\r\n    })\r\n  };\r\n\r\n useEffect(() => {\r\n     accountService.getMyAccount(myId).then((data) => {\r\n     setValues({ ...values , img: data.profileImg, language:data.langPreference});\r\n    }).catch((err) => {\r\n           setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n  }, []);\r\n\r\nconst resizeFile = (file) => new Promise(resolve => {\r\n    Resizer.imageFileResizer(file, 300, 300, 'JPEG', 100, 0,\r\n    uri => {resolve(uri);},'base64' );\r\n});\r\nconst capture =  React.useCallback(() => {\r\n   try{\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n       setValues({...values, infoMessage: \"Picture Captured\"}); \r\n       setCapturedPic(true);\r\n       const data = new FormData();\r\n       data.append(\"file\", imageSrc);\r\n       axios.post(process.env.REACT_APP_IP_FACEDET+\"webcam-face-detection\",data)\r\n         .then(async (response) => {\r\n          setValues({ ...values , errorMessage :\"\", successMsg:response.data.successMessage})\r\n           setValues({...values, infoMessage: \"Loading.... \"});\r\n           data.append(\"file\", imageSrc);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n          fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"PUT\",\r\n                body: data,\r\n             } ).then(response => response.json())\r\n      .then(data =>   setValues({ ...values , img: data.url}))\r\n      .catch(err => console.error('Error:', err));;   \r\n           }\r\n        )\r\n         }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n    \r\n    },\r\n    [webcamRef]\r\n  );\r\n const uploadImage = async (e) => {\r\n  try {\r\n           const imageFile = e.target.files[0];\r\n           const data = new FormData();\r\n           data.append(\"file\", imageFile);\r\n           axios.post(process.env.REACT_APP_IP_FACEDET,data).\r\n           then(async (response) => {\r\n           setValues({ ...values , errorMessage :\"\", successMsg:response.data.successMessage})\r\n            const compressedImage = await resizeFile(imageFile);\r\n           setValues({...values, infoMessage: \"Loading....\"});\r\n           data.append(\"file\", compressedImage);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n           const res = await fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"PUT\",\r\n                body: data,\r\n             } );   \r\n           const file =  await res.json();\r\n           setValues({ ...values , img: file.secure_url});\r\n        })\r\n        .catch((err) => {\r\n            setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n      }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n}\r\nconst updateProfile =()=>{\r\n  accountService.updateProfileSetup(myId,{profileImg: img, langPreference: language})\r\n .then((response) => {\r\n          localStorage.setItem(\"user\", JSON.stringify(response.userData));\r\n          setValues({\r\n            ...values,\r\n            errorMessage: false,\r\n            successMsg: response.successMessage,\r\n            loading: false,\r\n          });\r\n           \r\n        })\r\n         .catch((err) => {\r\n           setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n}\r\n \r\n  const ProfilePage = () =>( \r\n    <Grid container>\r\n    <Grid item xs={1} sm={4} md={4}></Grid>\r\n    <Grid item xs={10} sm={4} md={4}>\r\n  <div className=\"profile-page\">\r\n    \r\n      <div className=\"profile-container\">\r\n          <div className=\"img-holder\">\r\n             <img src={img} className=\"profile-img\"/>\r\n              </div>\r\n             <input type=\"file\" accept=\"image/*\" name=\"image-upload\" id=\"input\" onChange={uploadImage}  />\r\n             <div className=\"label\">\r\n            <label className=\"image-upload\" htmlFor=\"input\">\r\n\t\t\t\t\t\t<i className=\"material-icons\">add_photo_alternate</i>\r\n\t\t\t\t\t\tChoose Profile Photo\r\n\t\t\t\t\t</label>\r\n                 </div> \r\n             <div className=\"label\">   \r\n             <button className=\"take-photo loginbtn\"  data-toggle=\"modal\" data-target=\"#exampleModalCenter\" onClick={()=>setCapturedPic(false)}>\r\n               <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>photo_camera</i>\r\n               Take Photo</button> \r\n              </div>\r\n              <Select\r\n                    style={{ width: 210, padding: \"0.4rem\" }}\r\n                    placeholder=\"Select Language ---\"\r\n                    value={options.find(c => c.value === language)}\r\n                    className={classes.textfield}\r\n                    options={options}\r\n                    onChange={(e) => { \r\n                      setValues({\r\n                        ...values,\r\n                        language:e.value ,\r\n                      });\r\n                      \r\n                    }}\r\n                  />\r\n                   <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              fontSize:\"1rem\",\r\n              borderRadius:\"0.5rem\" , \r\n              marginTop: \"1rem\",\r\n              marginBottom: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n              textTransform:\"capitalize\"\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={updateProfile}\r\n            \r\n          >\r\n            Update Profile\r\n          </Button>\r\n                   \r\n      </div> \r\n                \r\n  \r\n<div className=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n    <div className=\"modal-content\">\r\n      <div className=\"modal-header\">\r\n      <div className=\"modal-title\">\r\n        <h3  id=\"exampleModalLongTitle\">Take Photo</h3>\r\n        <p style={{color:\"red\"}}><i>Your picture's quality will be low</i></p>\r\n        </div>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div className=\"modal-body\">\r\n        <div  className=\"webcam-container\">\r\n         <Webcam  \r\n        audio={false}\r\n        height= {200}\r\n       width ={460}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\" />\r\n        </div>\r\n      </div>\r\n       \r\n        {capturedPic ? (<div className=\"modal-footer\"> \r\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n        </div> ):\r\n        (<div className=\"modal-footer\"> \r\n        <button  className=\"take-photo loginbtn\" onClick ={capture}>\r\n          <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>\r\n            photo_camera</i>Capture photo</button> </div>)\r\n        }\r\n    </div>\r\n  </div>\r\n</div>             \r\n  </div>\r\n  </Grid>\r\n  <Grid item xs={1} sm={4} md={3}></Grid>\r\n  </Grid>\r\n)\r\nreturn (\r\n    <div  style={{height:\"100vh\"}} className=\"back_divs\">    \r\n    {loading && <LinearBuffer />}\r\n        <Grid container>\r\n          <Hidden only={['xs', 'sm']}>\r\n          <Grid item     md={2}><SideBar/></Grid>\r\n          </Hidden>\r\n           <Hidden only={['md', 'lg']}>\r\n          <Grid item xs={12} sm={12}><Header setLogin={setLogin}/></Grid>\r\n          </Hidden>\r\n       <Grid item  xs={12} sm={12} md={10}>\r\n     <PageTitle name= {\"Update Profile \"}/>\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={3000} />\r\n      )}\r\n       {infoMessage && (\r\n        <AlertBar type=\"info\" message={infoMessage} autoClose={8000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={2500} />\r\n      )}\r\n      {ProfilePage()}\r\n      </Grid>\r\n       </Grid>\r\n    </div>\r\n     )\r\n};\r\n\r\nexport default UpdateProfileSetup;\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\pageTitle.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\UserService.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\AlertBar.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\ProgressBar.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\api\\auth.js",["345","346","347"],"import axios from \"axios\";\r\naxios.defaults.headers.common[\"x-auth-token\"] =localStorage.getItem(\"token\");\r\nconst IP_URL = localStorage.getItem('IP_URL')\r\nexport const signup = async (data) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  const response = await axios.post(process.env.REACT_APP_IP_URL+\"api/users/signup\", data);\r\n  return response;\r\n};\r\nexport const login = async (data) => {\r\n  //console.log(process.env.REACT_APP_IP_URL)\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  const response = await axios.post(process.env.REACT_APP_IP_URL+\"api/users/login\", data);\r\n  return response;\r\n};\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\ChatService.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\accountService.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\RenderChat.js",["348","349","350","351","352"],"import TypeMessage from \"./TypeMessage\";\r\nimport React , {useEffect,useState}from \"react\";\r\nimport \"./chat.css\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Alert from '../FrontendComponents/Alerts/AlertBar'\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { useHistory } from 'react-router-dom';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Header from \"../FrontendComponents/components/Header\";\r\nimport {Button, Grid ,Hidden,InputAdornment, TextField} from \"@material-ui/core\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport SideBar from \"../FrontendComponents/components/SideBar\";\r\nimport KeyboardBackspaceIcon from '@material-ui/icons/KeyboardBackspace';\r\nimport {isAuthenticated} from '../FrontendComponents/clientStorages/auth'\r\nimport { grey } from '@material-ui/core/colors';\r\nimport ReactTooltip from 'react-tooltip';\r\n \r\n\r\nexport default function RenderChat(props) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [isSearch, setSearch] = useState(false)\r\n  const open = Boolean(anchorEl);\r\n  const options = [\r\n    'Search',\r\n    'Delete'\r\n  ];\r\n  const [openMenu, setMenu] = useState(true)\r\n  const [open1, setOpen] = useState(false)\r\n  let history = useHistory()\r\n  let myId = isAuthenticated()._id\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    //props.setMyOpen(true)\r\n    setOpen(true)\r\n  };\r\n\r\n  const handleClose = (option) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const itemClickHandler= (option)=>{\r\n   if(option === 'Delete'){\r\n      props.setDel(true)\r\n      setMenu(false)\r\n   }\r\n    else if(option === 'Search')\r\n      setSearch(!isSearch)\r\n  }\r\n\r\n\r\n   const onChangeSearch = (event)=>{\r\n    //props.setTerm(event.currentTarget.value)\r\n    props.searchHandler(event.currentTarget.value)\r\n  }\r\n  useEffect(()=>{\r\n    let imgUrl = props.recipientInfo.url;\r\n\r\n  })\r\n  let elem = null;\r\n  if(openMenu){\r\n    elem = (\r\n      <div  style={{display:\"inline\",float:\"right\",marginTop:\"0.6rem\"}}>\r\n      <IconButton\r\n    className =\"Allbtn\" \r\n    aria-label=\"more\"\r\n    aria-controls=\"long-menu\"\r\n    aria-haspopup=\"true\"\r\n    onClick={handleClick}\r\n    >\r\n    <MoreVertIcon />\r\n    </IconButton>\r\n    {open1 ?\r\n      <Menu\r\n        id=\"long-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={open}\r\n        onClose={handleClose}\r\n        PaperProps={{\r\n        style: {\r\n            marginTop: '40px',\r\n            maxHeight: 48 * 4.5,\r\n            width: '20ch',\r\n            \r\n        },\r\n      }}\r\n      >\r\n        <MenuItem className =\"Menu_div\" onClick={()=>itemClickHandler('Search')}>\r\n          <div >\r\n            <SearchIcon fontSize=\"small\" style={{width:\"2rem\"}}/>\r\n            <p style={{display:\"inline\"}}>Search</p>\r\n          </div>\r\n        </MenuItem>\r\n        <MenuItem  className =\"Menu_div\" onClick={()=>itemClickHandler('Delete')}>\r\n          <div>\r\n            <DeleteIcon fontSize=\"small\" style={{width:\"2rem\",paddingBottom:\"0.1rem\"}} />\r\n               <p style={{display:\"inline\"}}>Delete</p>\r\n          </div>\r\n      \r\n        </MenuItem>\r\n    </Menu>\r\n    :\r\n    null\r\n    }\r\n      \r\n    \r\n      </div>\r\n    )\r\n  }\r\n  if(props.isDel){\r\n    elem = (\r\n      <div style={{color:\"gray\",cursor:\"pointer\",float:\"right\",marginTop:\"1rem\",marginRight:\"1rem\"}} data-tip='Close delete Menu' data-for='delete'>\r\n          <CancelIcon onClick={() => {\r\n            console.log(props.isDel)\r\n            props.setDel(false)\r\n            setOpen(false)\r\n            setMenu(true)\r\n            }} />\r\n          \r\n            </div>\r\n\r\n    )\r\n  }\r\n  if(isSearch){\r\n    elem = (\r\n      <TextField\r\n       style={{float:\"right\",marginRight:\"1rem\",marginTop:\"0.8rem\",backgroundColor:\"white\",borderRadius:\"1rem\"}}\r\n       value={props.searchTerm}\r\n       onChange={onChangeSearch}\r\n        placeholder=\"Search Message\"\r\n        size=\"medium\"\r\n          \r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <SearchIcon style={{ color: grey[600] ,marginRight:\"0.2rem\",float:\"right\"}}/>\r\n       \r\n            </InputAdornment>\r\n          ),\r\n          endAdornment :(\r\n               <CancelIcon style={{color:\"gray\",cursor:\"pointer\",marginRight:\"0.4rem\"}} onClick={() => {\r\n            console.log(props.isDel)\r\n            props.setTerm(\"\")\r\n            setSearch(false)\r\n            setOpen(false)\r\n            setMenu(true)\r\n            }} />\r\n      \r\n          ),\r\n          disableUnderline: true \r\n         }}\r\n         \r\n      />\r\n      \r\n    )\r\n  }\r\n  return (\r\n    /* <React.Fragment> \r\n       <div  style={{ height:\"100vh\"}} className=\"chat_div\"> \r\n      <Header setLogin={props.setLogin} />     \r\n        <ReactTooltip id='delete'/>\r\n            <Grid container spacing={0} style={{display:\"flex\"}}>\r\n              <Grid item xs ={1} md={2}></Grid>\r\n              <Grid item xs ={10} md={8} style={{marginTop:\"1rem\" }}>\r\n                <div className='profilediv'>\r\n\r\n              <img\r\n                className='profile'\r\n                src={props.recipientInfo.url}\r\n                alt='dp'\r\n              />\r\n \r\n              <span   style={{display:\"inline\",fontWeight:\"bold\", fontSize: \"21px\" }}>{props.recipientInfo.name}</span>\r\n              \r\n              {      \r\n                 elem\r\n              }\r\n            </div>\r\n            <div className=\"content_body \">\r\n              \r\n             {props.element}\r\n             {props.loading ? (\r\n              <div className='load'>\r\n                <CircularProgress color='secondary' />\r\n              </div>\r\n            ) : null}\r\n \r\n            </div>\r\n           { props.isFriend === true?\r\n            <TypeMessage sendMessage={props.sendMessage} />\r\n            :\r\n            <Alert\r\n            type='error' \r\n            message='This person is not your friend anymore. Add them again to start a chat.'\r\n            autoClose={5000}\r\n            />\r\n          }\r\n              </Grid>\r\n              <Grid item xs ={1} md={2}></Grid>\r\n              </Grid>\r\n              </div>\r\n              </React.Fragment>\r\n  */\r\n  <React.Fragment>\r\n       <div  style={{ height:\"100vh\"}} className=\"chat_div\"> \r\n       <Grid container>\r\n           <Hidden only={['sm', 'xs']}>\r\n          <Grid item  md={2}><SideBar/></Grid>\r\n          </Hidden>\r\n            \r\n       <Grid item xs={12} md={10}>\r\n        <ReactTooltip id='delete'/>\r\n            <Grid container spacing={0} style={{display:\"flex\",marginTop:\"1rem\"}}>\r\n               <Grid xs={0} md={1}></Grid>\r\n              <Grid item xs={12} md ={10}   >\r\n                <div className='profilediv'>\r\n                  <Hidden only={['md','lg']}>\r\n                   <KeyboardBackspaceIcon style={{marginRight:\"0.1rem\",marginLeft:\"0.1rem\",cursor:\"pointer\"}}  onClick={event =>  history.push('/mychats/'+myId)} /> \r\n                  </Hidden>\r\n              <img\r\n                className='profile'\r\n                src={props.recipientInfo.url}\r\n                alt='dp'\r\n              />\r\n \r\n              <span   style={{display:\"inline\",fontWeight:\"bold\", fontSize: \"21px\" }}>{props.recipientInfo.name}</span>\r\n              \r\n              {      \r\n                 elem\r\n              }\r\n            </div>\r\n            <div className=\"content_body \">\r\n              \r\n             {props.element}\r\n             {props.loading ? (\r\n              <div className='load'>\r\n                <CircularProgress color='secondary' />\r\n              </div>\r\n            ) : null}\r\n \r\n            </div>\r\n           { props.isFriend === true?\r\n            <TypeMessage sendMessage={props.sendMessage} />\r\n            :\r\n            <Alert\r\n            type='error' \r\n            message='This person is not your friend anymore. Add them again to start a chat.'\r\n            autoClose={5000}\r\n            />\r\n          }\r\n              </Grid>\r\n              <Grid xs={0} md={1}></Grid>\r\n              </Grid>\r\n              </Grid>\r\n       </Grid>\r\n              </div>\r\n              </React.Fragment>\r\n \r\n  );\r\n}\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\auth.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\friendService.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Header.js",["353","354","355"],"import React, { Fragment,useContext } from \"react\";\r\nimport { Link, withRouter, useHistory } from \"react-router-dom\";\r\nimport { isAuthenticated, logout } from \"../clientStorages/auth\";\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport { Grid ,Typography} from \"@material-ui/core\"\r\nimport { brown } from \"@material-ui/core/colors\";\r\nconst Header = ({ history,setLogin }) => {\r\n  history = useHistory();\r\n  const firstName= isAuthenticated().firstName;\r\n  const lastName = isAuthenticated().lastName;\r\n  const myId = isAuthenticated()._id;\r\n  const myEmail = isAuthenticated().email\r\n  const myProfileImg =isAuthenticated().profileImg;\r\n  const {clientSocket} = useContext(SocketContext);\r\n  const handleLogOut = (evt) => {\r\n    logout(() => { \r\n      //setLogin(false)'\r\n      localStorage.setItem('isLogin',false)\r\n      if(clientSocket!==undefined){\r\n        clientSocket.emit(\"removeuser\",{id:clientSocket.id, name: myEmail})\r\n        clientSocket.off(\"newMessage\");\r\n        clientSocket.off(\"newrequest\");\r\n        clientSocket.off(\"messageSend1\");\r\n      }\r\n      else{\r\n        console.log(\"no socket\")\r\n      }\r\n      history.push(\"/login\");\r\n    });\r\n  };\r\n\r\n  const showNavbar = () => (\r\n    <div>\r\n      {/* <Grid item xs={1} sm={2} xm={5} md={4}></Grid>\r\n      <Grid item xs={10} sm={8} xm={2} md={6}>\r\n        \r\n     <Typography variant=\"headline\" \r\n         style={{ \r\n          marginTop:\"1rem\",\r\n         position: \"relative\",\r\n         fontSize:\"2rem\",\r\n         color:brown[300],\r\n          marginBottom:\"1rem\",\r\n         fontFamily:\"Brush Script MT, Brush Script Std, cursive\"}}\r\n          component=\"h1\">\r\n               <img className=\"loginImg\" src={process.env.PUBLIC_URL + '/images/logo.png'} />TalkSee\r\n          </Typography>\r\n      \r\n      </Grid> */}\r\n      <nav id=\"nav\" className=\"navbar navbar-expand-lg navbar-light mt-0\">\r\n         \r\n        <div className=\"navbar-brand\"> \r\n       <Link to={{ pathname: `/update-my-profile-setup/${myId}` }} style={{textDecoration:\"none\"}}>\r\n        <img\r\n          src= {myProfileImg}\r\n          alt=\"Profile\"\r\n           \r\n          style={{ height: \"50px\", width: \"50px\", borderRadius: \"50%\",display:\"inline\" }}\r\n         onclick={()=>history.push('/update-my-profile-setup/'+myId)}\r\n        /> </Link> \r\n        <span className=\"header_name\">{firstName +\" \" + lastName}</span>\r\n        </div>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-toggle=\"collapse\"\r\n          data-target=\"#navbarNavDropdown\"\r\n          aria-controls=\"navbarNavDropdown\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button> \r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\r\n          <ul\r\n            className=\"\r\n              navbar-nav\r\n              ml-auto\r\n              mt-2\r\n              mt-lg-0\"\r\n           \r\n          >\r\n            \r\n\r\n            {isAuthenticated() && isAuthenticated().role === 0 && (\r\n              <Fragment>\r\n                <li className=\"nav-item\">\r\n                  <Link to=\"/notFound\" className=\"nav-link \">\r\n                     \r\n                  </Link>\r\n                </li>\r\n                 <li className=\"nav-item\" style ={{marginRight:\"1rem\"}}>\r\n                  <Link to={{pathname: '/dashboard/'+myId}} className=\"nav-link\">\r\n                     <i className=\"fa fa-home\" aria-hidden=\"true\"></i>  Dashboard\r\n                  </Link>\r\n                </li>\r\n                 <li className=\"nav-item\">\r\n                  <button\r\n                    className=\"btn text-decoration-none btn-link   pl-0 nav-link\"\r\n                    style={{textDecoration:\"none\"}}\r\n                    onClick={handleLogOut}\r\n                  >\r\n                    <i className=\"fas fa-sign-out-alt\" aria-hidden=\"true\"></i> Logout\r\n                  </button> \r\n                </li>\r\n              </Fragment>\r\n            )}\r\n             \r\n            \r\n          </ul>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n  return <header>{showNavbar()}</header>;\r\n};\r\n\r\nexport default withRouter(Header);","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\GenericService.js",["356"],"import axios from \"axios\";\r\nconst IP_URL = localStorage.getItem('IP_URL')\r\nconsole.log(process.env.REACT_APP_IP_URL+\"api/\")\r\naxios.defaults.baseURL = process.env.REACT_APP_IP_URL+\"api/\";\r\naxios.defaults.headers.common[\"x-auth-token\"] = localStorage.getItem(\"token\");\r\nclass GenericService {\r\n    get = (url) => {\r\n       return new Promise((resolve,reject) => {\r\n            axios.get(url)\r\n            .then((res) => {\r\n              resolve(res.data);\r\n            })\r\n            .catch((err) => {\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    getMessage = (url,email) => {\r\n        return new Promise((resolve,reject) => {\r\n             axios.get(url,{params:{email: email}})\r\n             .then((res) => {\r\n               resolve(res.data);\r\n             })\r\n             .catch((err) => {\r\n                 reject(err);\r\n             });\r\n         });\r\n     }\r\n\r\n    post = (url,data) => {\r\n        return new Promise((resolve,reject) => {\r\n            axios.post(url,data).then((res) => {\r\n                resolve(res.data);\r\n            }).catch((err) => {\r\n                console.log(\"Errrr\");\r\n                reject(err);\r\n            });\r\n            });\r\n        }\r\n    put = (url,data)=>{\r\n        return new Promise((resolve,reject)=>{\r\n            axios.put(url,data).then((res)=>{\r\n                resolve(res.data)\r\n            }).catch((err)=>{\r\n                reject(err)\r\n            });\r\n            });\r\n    }\r\n    delete = (url)=>{\r\n        return new Promise((resolve,reject)=>{\r\n            axios.delete(url).then((res)=>{\r\n                resolve(res.data)\r\n            }).catch((err)=>{\r\n                reject(err)\r\n            });\r\n            });\r\n    }\r\n}\r\nexport default GenericService;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriend.js",["357","358"],"import { Button, Grid, Paper } from \"@material-ui/core\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport React from \"react\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport chatservice from \"../../../services/ChatService\";\r\nimport { red, lightGreen } from '@material-ui/core/colors';\r\nimport { SocketContext } from '../../../context/SocketContext';\r\n\r\n\r\nconst SingleFriend = (props) => {\r\n  const { friend, onRemove, chatRec } = props;\r\n  console.log(chatRec)\r\n  const myId = isAuthenticated()._id;\r\n  var userEmail = JSON.parse(localStorage.getItem(\"user\")).email;\r\n  //const myEmail= isAuthenticated().email;\r\n  const { msgNotify } = React.useContext(SocketContext);\r\n  const friendEmail = friend.email;\r\n  let messages = React.useRef([]);\r\n  const [show,setShow] = React.useState(false);\r\n  const [friends,setFriends]=React.useState();\r\n\r\n  const RemoveFriend = (friend) => {\r\n    friendService.deleteFriend({ friendId: friend.id, myId })\r\n      .then((data) => {\r\n        //console.log(data)\r\n        onRemove()\r\n        localStorage.setItem(\"user\", JSON.stringify(data));\r\n        setShow(false)\r\n      })\r\n      .catch((err) => { console.log(err); });\r\n  }\r\n  const handleClose = () => {\r\n    setShow(false);\r\n};\r\n\r\n  const chatButtonHandler = (fr) => {\r\n    chatservice.getMessagesbyEmail(userEmail, fr.email).then((res) => {\r\n      messages.current = res;\r\n      messages.current.map((m) => {\r\n        if (m.type === \"offline\" && m.from !== userEmail) {\r\n          chatservice\r\n            .changeMessageType({ type: \"read\" }, m._id)\r\n            .then((res) => {\r\n              console.log(\"The response is here\", res)\r\n              msgNotify();\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n        console.log(\"user matched\")\r\n      });\r\n    });\r\n    console.log(\"Fr\", fr)\r\n    console.log(\"pth\", \"/chat/\" + friendEmail + '/ ' + fr.id)\r\n    localStorage.setItem(\"friendId\", fr.id)\r\n    localStorage.setItem(\"recName\", fr.name)\r\n    localStorage.setItem(\"recLang\", fr.langPreference)\r\n    localStorage.setItem(\"profileUrl\", fr.profileImg)\r\n    history.push(\"/chat/\" + friendEmail + ' ' + fr.id)\r\n  }\r\n\r\n  const handleClickOpen= (frnd)=>{\r\n    setShow(true)\r\n    setFriends(frnd);\r\n    console.log(frnd);\r\n\r\n }\r\n\r\n  let history = useHistory()\r\n  return (\r\n    <Paper style={{ padding: '20px 10px', marginBottom: \"1rem\" }}  >\r\n      <Grid container style={{ display: \"flex\" }}>\r\n        <Grid item xs={12} sm={12} md={9}>\r\n          <img src={friend.profileImg}\r\n            style={{ marginRight: \"0.5rem\", height: \"60px\", width: \"60px\", borderRadius: \"20%\", display: \"inline\", padding: \"0.2rem\" }} alt=\"img\" />\r\n          <p className=\"user_names\"  >{friend.name}</p>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} md={3}  >\r\n          <Button className=\"loginbtn\"\r\n            style={{ backgroundColor: lightGreen[700], color: \"white\", margin: \"0.4rem\" }}\r\n            variant=\"contained\"\r\n            size=\"medium\"\r\n          >Chat</Button>\r\n\r\n          <Button className=\"loginbtn\"\r\n            style={{ backgroundColor: red[400], color: \"white\" }}\r\n            variant=\"contained\"\r\n            onClick={()=> handleClickOpen(friend)}\r\n          >Remove</Button>\r\n        </Grid>\r\n        {show?\r\n        <Dialog open={show} onClose={handleClose} \r\n          aria-labelledby=\"form-dialog-title\">\r\n              <DialogTitle id=\"form-dialog-title\"><WarningIcon  style={{color:\"red\",marginRight:\"0.3rem\",paddingBottom:'0.3rem'}}/><p style={{fontWeight:\"bold\",display:\"inline\" }}>Remove Friend Warning</p></DialogTitle>\r\n              <DialogContent>\r\n                <DialogContentText>\r\n                <strong>{friend.name}</strong>  will no longer be your friend. Are you sure you want to continue ?\r\n                </DialogContentText>\r\n                <hr/>\r\n              </DialogContent>\r\n              <DialogActions style={{padding:\"0rem 1rem 1rem 1rem\"}}>\r\n                <Button onClick={handleClose}  \r\n                style={{backgroundColor:\"gray\",color:\"white\"}}>\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={()=>RemoveFriend(friends)} \r\n                style={{backgroundColor:\"#0e7be9\",color:\"white\"}}>\r\n                  Yes,Continue\r\n                </Button>\r\n              </DialogActions>\r\n            </Dialog> \r\n          :null}\r\n      </Grid>\r\n    </Paper>\r\n\r\n  );\r\n}\r\n\r\nexport default SingleFriend;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\localStorage.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\cookies.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\contactService.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\TypeMessage.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleContact.js",["359"],"import { Button, Typography,Paper, Grid, Hidden } from \"@material-ui/core\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport React, { useState, useContext} from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { SocketContext } from \"../../../context/SocketContext\";\r\nimport { lightBlue, grey} from '@material-ui/core/colors';\r\n\r\nconst SingleContact = (props) => {\r\n    const { contact } = props;\r\n    const roomId = '/'+contact._id\r\n    let history = useHistory()\r\n    var userData=JSON.parse(localStorage.getItem(\"user\")) \r\n    const [showAddBtn, setAddBtn]=useState(userData.sentRequests.includes(contact._id)?false:true)\r\n    const { clientSocket } = useContext(SocketContext);\r\n    //const [showAddBtn, setAddBtn]=useState(state?!state.sentRequests.includes(contact._id):true);\r\n    const myId=isAuthenticated()._id;\r\n    const myName =isAuthenticated().firstName + \" \" +isAuthenticated().lastName;\r\n    const myProfileImg =isAuthenticated().profileImg;\r\n    const myEmail =isAuthenticated().email;\r\n    const myGender =isAuthenticated().gender;\r\n    const myLangPreference =isAuthenticated().langPreference;\r\n    const sentFriendRequest=() => {\r\n        console.log(\"contact Id\",contact._id)\r\n        friendService.sendRequest(\r\n            {friendId:contact._id,\r\n            myId,myName,myProfileImg,myEmail,myGender,myLangPreference})\r\n         .then((data) => {\r\n           localStorage.setItem(\"user\",JSON.stringify(data));\r\n              // dispatch({type:\"FRIEND_REQUESTED\",payload:{sentRequests:data.sentRequests }})\r\n             setAddBtn(false)\r\n            \r\n            })\r\n         .catch((err) => {console.log(err);});\r\n\r\n         clientSocket.emit(\r\n            \"friendRequest\",\r\n            { myName,roomId },\r\n            (err) => {\r\n              if (!err) console.log(\"emitted event\");\r\n              else console.log(err);\r\n            }\r\n          );\r\n    }\r\n\r\n     const cancelFriendRequest=()=>{\r\n         \r\n        friendService.cancelRequest(\r\n            {friendId:contact._id,myId})\r\n         .then((data) => {\r\n             localStorage.setItem(\"user\",JSON.stringify(data));\r\n            // dispatch({type:\"FRIEND_REQUESTED\",payload:{sentRequests:data.sentRequests }})\r\n             setAddBtn(true)\r\n             \r\n         })\r\n         .catch((err) => {console.log(err);});\r\n\r\n         clientSocket.emit(\r\n            \"rejectfriendRequest\",\r\n            { myName,roomId },\r\n            (err) => {\r\n              if (!err) console.log(\"emitted event\");\r\n              else console.log(err);\r\n            }\r\n          );\r\n    }\r\n \r\n    const contactClickHandler = ()=>{\r\n        localStorage.setItem('contact',JSON.stringify(contact))\r\n        //console.log(\"clicked\",'/profile'+props.roomId+'/'+contact._id)\r\n        history.push('/profile'+props.roomId+'/'+contact._id)\r\n    }\r\n    return (\r\n        <div>\r\n       <Paper style={{padding: '10px 20px', marginBottom:\"1rem\"}} //onClick={contactClickHandler}\r\n        >\r\n            <Grid container>\r\n                 <Grid item xs={3} md={1}>  <img src={contact.profileImg}   \r\n          style={{ height: \"60px\", width: \"60px\", borderRadius: \"20%\" ,display:\"inline\" }} alt=\"img\"/> </Grid>\r\n                <Grid item xs={9} md={9}> \r\n            \r\n             <div style={{display:\"inline\"}}><p  className=\"user_names\"   >{contact.firstName + \" \"+ contact.lastName}</p>\r\n               <Typography style={{color:\"gray\", fontSize:\"0.9rem\" }}>{contact.email}</Typography>\r\n               </div>\r\n               </Grid>\r\n               <Hidden only={['md', 'lg']}> \r\n                   <Grid item xs={3}></Grid></Hidden>\r\n               <Grid item xs={9} md={2}>\r\n        {showAddBtn ?  \r\n         <Button className= \"loginbtn\"\r\n             style={{marginTop:\"0.7rem\",backgroundColor:lightBlue[600],color:\"white\"}}\r\n            variant=\"contained\" \r\n            onClick={sentFriendRequest}>Add friend</Button>\r\n        : \r\n        <Button className= \"loginbtn\"\r\n              style={{marginTop:\"0.7rem\",backgroundColor:grey[500],color:\"white\"}}\r\n            variant=\"contained\" \r\n            onClick={cancelFriendRequest}>Requested</Button> \r\n             }\r\n             </Grid>\r\n      </Grid>\r\n     </Paper>       \r\n   \r\n    </div>\r\n    );\r\n}\r\n \r\nexport default SingleContact;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriendRequest.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SingleChat.js",["360","361","362","363","364"],"import React, { useEffect, useRef, useState,useContext } from \"react\";\r\n\r\nimport { Grid, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport chatservice from \"../../services/ChatService\";\r\nimport { format } from \"timeago.js\";\r\nimport {SocketContext} from '../../context/SocketContext';\r\n\r\nimport \"./chat.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  subheader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n  },\r\n  globe: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  subheaderText: {\r\n    color: theme.palette.primary.dark,\r\n  },\r\n  list: {\r\n    maxHeight: \"calc(100vh - 112px)\",\r\n    overflowY: \"auto\",\r\n  },\r\n   \r\n  listText: {\r\n    fontSize: \"1.5rem\",\r\n    fontFamily: \"Roboto\",\r\n    marginLeft: \"0.5rem\",\r\n    marginTop:\"2rem\",\r\n    fontWeight:\"bold\",\r\n    display:\"inline\"\r\n   \r\n  },\r\n  listText1: {\r\n    fontSize: \"1.3rem\",\r\n    fontFamily: \"Roboto\",\r\n    color: \"#808284\",\r\n    width:\"80%\",\r\n    marginLeft: \"0.5rem\",\r\n    display:\"block\",\r\n    cursor:\"pointer\",\r\n    overflow:\"hidden\",\r\n    textOverflow:\"ellipsis\"\r\n    \r\n    \r\n  },\r\n  listTime:{\r\n    fontSize: \"0.8rem\",\r\n    fontFamily: \"Roboto\",\r\n    color: \"gray\",\r\n    marginLeft: \"0.5rem\",\r\n    display:\"inline\"\r\n     \r\n  },\r\n  listBtn: {\r\n    backgroundColor: \"rgb(0, 172, 193)\",\r\n    color: \"white\",\r\n    fontSize: \"1rem\",\r\n  },\r\n  mygrid: {\r\n    marginTop: \"50px\",\r\n    marginLeft: \"350px\",\r\n    width: \"650px\",\r\n  },\r\n  mygrid1: {\r\n    padding: \"20px\",\r\n  },\r\n  img: {\r\n    width: \"4rem\",\r\n    height: \"4rem\",\r\n    borderRadius: \"60px\",\r\n  },\r\n}));\r\nconst SingleChat = (props) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  let elem = null;\r\n  let user = JSON.parse(localStorage.getItem(\"user\"));\r\n  let messages = useRef([]);\r\n  const {msgNotify}=useContext(SocketContext);\r\n  \r\n  const recipientClickHandler = (frEmail,frName, frId, frLang, frImg, type) => {\r\n    //console.log(\"fr\",frEmail,frId,frName,frLang,frImg,type)\r\n    chatservice.getMessagesbyEmail(user.email, frEmail).then((res) => {\r\n      messages.current = res;\r\n      messages.current.map((m) => {\r\n        if (m.type === \"offline\" && m.from !== user.email) {\r\n          chatservice\r\n            .changeMessageType({ type: \"read\" }, m._id)\r\n            .then((res) => {\r\n              msgNotify();\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n        console.log(\"user matched\")\r\n      });\r\n    });\r\n    //console.log(\"fr\", fr);\r\n    localStorage.setItem(\"friendId\", frId);\r\n    localStorage.setItem(\"recName\", frName);\r\n    localStorage.setItem(\"recLang\", frLang);\r\n    localStorage.setItem(\"profileUrl\", frImg);\r\n    history.push(\"/chat/\" + frEmail + \" \" + frId);\r\n  };\r\n  let myElem = null\r\n  let obj = {}\r\n  return (\r\n    <div>\r\n      {props.lastMsg.emails.map((r, ind) => {\r\n        console.log(ind)\r\n        \r\n          if (props.lastMsg.types[ind] === \"read\") {\r\n            //console.log(\"in 1\",props.lastMsg.msgs[ind])\r\n            obj = {id: props.lastMsg.userId[ind], name: props.lastMsg.userName[ind], \r\n              lang: props.lastMsg.userLang[ind], img: props.lastMsg.userImg[ind]}\r\n            elem = (\r\n              <div>\r\n                  <Typography\r\n                    className={classes.listText1}\r\n                    onClick={() =>\r\n                      recipientClickHandler(\r\n                        r,\r\n                        props.lastMsg.userName[ind],\r\n                        props.lastMsg.userId[ind],\r\n                        props.lastMsg.userLang[ind],\r\n                        props.lastMsg.userImg[ind],\r\n                        props.lastMsg.types[ind],\r\n                        \r\n                      )\r\n                    }\r\n                  >\r\n                    {props.lastMsg.msgs[ind]}\r\n                    \r\n                  </Typography>\r\n                  <Typography className={classes.listTime}>\r\n                  {format(props.lastMsg.time[ind])}\r\n                  </Typography>\r\n              </div>\r\n              \r\n            );\r\n          } else if (\r\n            props.lastMsg.types[ind] === \"offline\" &&\r\n            props.lastMsg.senders[ind] !== user.email\r\n          ) {\r\n            //console.log(\"in 3\")\r\n            elem = (\r\n              <div>\r\n              <Typography\r\n             style={{ fontWeight: \"bold\", color: \"black\" }}\r\n                className={classes.listText1}\r\n                onClick={() =>\r\n                  recipientClickHandler(\r\n                    r,\r\n                    props.lastMsg.userName[ind],\r\n                    props.lastMsg.userId[ind],\r\n                    props.lastMsg.userLang[ind],\r\n                    props.lastMsg.userImg[ind],\r\n                    props.lastMsg.types[ind]\r\n                  )\r\n                }\r\n              >\r\n                {props.lastMsg.msgs[ind]}\r\n              </Typography>\r\n              <Typography className={classes.listTime}>\r\n                {format(props.lastMsg.time[ind])}\r\n              </Typography>\r\n              </div>\r\n              \r\n            );\r\n          } else {\r\n            console.log(\"in nothing\", props.lastMsg.types[ind]);\r\n             console.log(\"in nothing1\", props.lastMsg.senders[ind]);\r\n            elem = (\r\n              <div>\r\n                <Typography\r\n               //  style={{ fontWeight: \"bold\", color: \"black\" }}\r\n                  className={classes.listText1}\r\n                  onClick={() =>\r\n                    recipientClickHandler(\r\n                      r,\r\n                      props.lastMsg.userName[ind],\r\n                      props.lastMsg.userId[ind],\r\n                      props.lastMsg.userLang[ind],\r\n                      props.lastMsg.userImg[ind],\r\n                      props.lastMsg.types[ind],\r\n                    )\r\n                  }\r\n                >\r\n                  {props.lastMsg.msgs[ind]}\r\n                </Typography>\r\n                <Typography className={classes.listTime}>\r\n                    {format(props.lastMsg.time[ind])}\r\n                </Typography>\r\n              </div>\r\n            );\r\n          }\r\n        \r\n        //console.log(\"last Msg Obj\",props.lastMsg)\r\n        return (\r\n             \r\n             <Paper style={{padding:  '12px 10px', marginBottom:\"1rem\" }}  >\r\n              <Grid container>\r\n               <Grid item xs={1}  >\r\n                  <img src={props.lastMsg.userImg[ind]} alt='img'    style={{ height: \"50px\", width: \"50px\", borderRadius: \"50%\",display:\"inline\" }}/>\r\n               </Grid>\r\n           <Grid item    xs ={11}  >\r\n              <Typography className={classes.listText}>{props.lastMsg.userName[ind]}</Typography>\r\n                 \r\n\r\n                {elem}\r\n           </Grid>\r\n               \r\n               \r\n                \r\n              <div>\r\n                {/*  {setText(r,chatRecipients.lastMsg[index],chatRecipients.msgType[index])}\r\n                {elem}*/\r\n                 }\r\n              </div>\r\n              \r\n          \r\n           </Grid>\r\n          </Paper>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\nexport default SingleChat;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SettingMessage.js",["365","366","367"],"import React, {useState,useRef} from \"react\";\r\nimport \"./chat.css\"\r\nimport { Player } from 'video-react';\r\nimport \"video-react/dist/video-react.css\"\r\nimport {  Grid, Button } from \"@material-ui/core\";\r\nimport DeleteMessage from './DeleteMsg'\r\nimport chatservice from \"../../services/ChatService\";\r\nexport default function SettingMessage(props) {\r\n \r\n  var boxchecked = JSON.parse(localStorage.getItem(\"deletion\"));\r\n  const [open, setOpen] = React.useState(false);\r\n  const [show,setShow] = React.useState(false)\r\n  const [messageId, setId] = useState()\r\n \r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  let elem = null;\r\n  \r\n  const handleClickOpen= (msgId)=>{\r\n    if(boxchecked.state === true){\r\n      console.log(\"mid in settingmsg1\",msgId);\r\n      setShow(false)\r\n         chatservice.deleteMessage(msgId).then((res)=>{\r\n        console.log(\"response: \",res)\r\n        props.getData()\r\n      })\r\n      .catch((err)=>  console.log(err))\r\n   }\r\n   else{\r\n  setShow(true)\r\n  console.log(\"mid in settingmsg2\",msgId);\r\n  setId(msgId)}\r\n  }\r\n\r\n  if (props.message.to === props.user) {\r\n    console.log(props.message.msgId)\r\n         elem = (\r\n          <div >\r\n            <div className='incoming_msg_img'>\r\n              \r\n            </div>\r\n            <Grid container >\r\n                  <Grid item xs={6} md={4}>  \r\n                  <div  style={{ margin:\"12px 15px 4px 8px\",overflow:\"hidden\"}}> \r\n                    <Player   >\r\n                     <source src={props.message.messageVideo} />\r\n                  </Player>\r\n    \r\n                  \r\n                    </div>\r\n                    </Grid>\r\n                  <Grid item xs={6} md={8}  >  {\r\n                props.isDel ?\r\n                <Button className=\"Allbtn\"  style={{textTransform:\"capitalize\" ,marginTop:\"0.8rem\", color:\"#EC5454\",fontSize:\"1.2rem\"}}>\r\n                  <i class=\"fas fa-trash-alt\"   onClick={()=>handleClickOpen(props.message.msgId)}></i>\r\n                </Button>\r\n    \r\n                : null\r\n              }</Grid> \r\n                  </Grid>\r\n                   <div class=\"chat-message is-received\">\r\n                    <div class=\"message-block\">\r\n                   <div class=\"message-text\"><span>{props.message.messageBody}</span></div>\r\n                       <span className=\"received_time_date\"> {props.message.time}</span>\r\n                    </div>\r\n                    </div>\r\n          </div>\r\n        );\r\n      \r\n      }\r\n      else if (props.message.from === props.user) {\r\n        console.log(props.message.msgId)\r\n        console.log(\"url\",props.message.messageVideo)\r\n        elem = (\r\n          <div >\r\n            \r\n             \r\n              <Grid container >\r\n                  <Grid item xs={6} md={8}>  {\r\n                props.isDel ?\r\n                <Button className=\"Allbtn\" style={{textTransform:\"capitalize\" ,float:\"right\",marginTop:\"0.8rem\",color:\"#EC5454\",fontSize:\"1.2rem\"}}  >\r\n                   <i class=\"fas fa-trash-alt\"  onClick={()=>handleClickOpen(props.message.msgId)}></i>\r\n                </Button>\r\n                : null\r\n                   }</Grid>\r\n                  <Grid item xs={6} md={4}  >\r\n                     <div style={{ margin:\"12px 15px 4px 8px\",overflow:\"hidden\"}}> \r\n                    <Player   >\r\n                      <source src={props.message.messageVideo} />\r\n                  </Player>\r\n                  \r\n                    </div></Grid>\r\n                  </Grid>\r\n                   <div class=\"chat-message is-sent\" >\r\n                     <div class=\"message-block\">  \r\n                     <div class=\"message-text\"> {props.message.messageBody}</div>\r\n                      <span class=\"sent_time_date\"> {props.message.time}</span>\r\n                     </div>\r\n                    </div>\r\n          </div>\r\n        );\r\n      } \r\n       else {\r\n    \r\n        console.log(\"nothing\");\r\n      }\r\n  return (\r\n    <div>\r\n        \r\n        {elem}\r\n        {\r\n        show ?\r\n        <DeleteMessage open ={show} setShow={setShow} msgId = {messageId} getData={props.getData}/>\r\n        : null}\r\n    </div>\r\n  );\r\n}\r\n","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\DeleteMsg.js",["368","369","370","371"],"import React,{useContext,useState} from \"react\";\r\nimport \"./chat.css\"\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport \"video-react/dist/video-react.css\"\r\nimport { Button } from \"@material-ui/core\";\r\nimport chatservice from \"../../services/ChatService\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Typography } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { DeletePermission } from \"../../context/DeletePermissionContext\";\r\n\r\n\r\nconst DeleteMsg = (props) => {\r\n \r\n   var boxchecked = JSON.parse(localStorage.getItem(\"deletion\"));\r\n    const [open, setOpen] = useState(true);\r\n     const { dispatch } = useContext(DeletePermission);\r\n    const [checked , setChecked] = useState(boxchecked.state)\r\n    const handleClose = () => {\r\n        props.setShow(false);\r\n    };\r\n\r\n    const checkedHandler = (e)=>{\r\n        console.log(e.target.checked)\r\n        setChecked(e.target.checked)\r\n      dispatch({ type: \"updatePermission\", value: e.target.checked })\r\n    }\r\n\r\n    const deleteMsgHandler = (msgId) =>{\r\n        console.log(\"mid in deleteMsg\",msgId)\r\n        chatservice.deleteMessage(msgId).then((res)=>{\r\n          console.log(\"response: \",res)\r\n          props.setShow(false)\r\n          props.getData()\r\n        })\r\n        .catch((err)=>  console.log(err))\r\n      \r\n       }\r\n\r\n       return (\r\n         \r\n        <Dialog open={props.open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\"><WarningIcon  style={{color:\"red\",marginRight:\"0.3rem\",paddingBottom:'0.3rem'}}/><p style={{fontWeight:\"bold\",display:\"inline\" }}>Delete Warning</p></DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            This message will be permanently deleted. Are you sure you want to continue?\r\n          </DialogContentText>\r\n          <div>\r\n          <input type='checkbox' value = {checked}  defaultChecked={checked} onClick={(e)=>checkedHandler(e)}/>\r\n          <p style={{color: \"black\", fontSize: '16px',display:\"inline\",marginLeft:\"0.7rem\"}}>Do not ask me again?</p>\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose}  style={{backgroundColor:\"gray\",color:\"white\"}}>\r\n            No\r\n          </Button>\r\n          <Button onClick={()=>deleteMsgHandler(props.msgId)}  style={{backgroundColor:\"#0e7be9\",color:\"white\"}}>\r\n            Yes\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog> \r\n     );\r\n}\r\n \r\nexport default DeleteMsg;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\DeletePermissionContext.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\userRoutes.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\reducers\\DeletePermissionReducer.js",[],"C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\LogoPage.js",["372"],"import React from \"react\"\r\nimport { Grid ,Typography} from \"@material-ui/core\"\r\nimport { brown } from \"@material-ui/core/colors\";\r\n\r\nconst LogoPage = ({ name }) => {\r\nreturn(\r\n <Grid container >\r\n      <Grid item xs={1} sm={2} xm={5} md={4}></Grid>\r\n      <Grid item xs={10} sm={8} xm={2} md={6}>\r\n        \r\n     <Typography variant=\"headline\" \r\n         style={{ \r\n          marginTop:\"1rem\",\r\n         position: \"relative\",\r\n         fontSize:\"5rem\",\r\n         color:brown[300],\r\n          marginBottom:\"1rem\",\r\n         fontFamily:\"Brush Script MT, Brush Script Std, cursive\"}}\r\n          component=\"h1\">\r\n               <img className=\"loginImg\" src={process.env.PUBLIC_URL + '/images/logo.png'} />{name}\r\n          </Typography>\r\n      \r\n      </Grid>\r\n      \r\n    <Grid item  xs={1} sm={2} xm={5} md={2}></Grid>\r\n    </Grid>\r\n    )}\r\nexport default LogoPage;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SideBar.js",["373","374","375","376","377"],"import React,{useEffect,useContext} from 'react';\r\nimport { Link, withRouter, useHistory } from \"react-router-dom\";\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport { isAuthenticated, logout } from \"../clientStorages/auth\";\r\n\r\nconst SideBar = ({ history }) => {\r\n     history = useHistory();\r\n    \r\n      const myId = isAuthenticated()._id;\r\n      const myEmail= isAuthenticated().email\r\n      const myProfileImg =isAuthenticated().profileImg;\r\n      const firstName= isAuthenticated().firstName;\r\n      const lastName = isAuthenticated().lastName;\r\n      const {clientSocket,setSocket,messageEvent,roomJoin,friendReq,getRequest,frndcounter,msgCounter} = useContext(SocketContext);\r\n      const handleLogOut = (evt) => {\r\n    logout(() => {\r\n      localStorage.setItem('isLogin',false)\r\n      if(clientSocket!==undefined){\r\n        clientSocket.emit(\"removeuser\",{id:clientSocket.id, name: myEmail})\r\n        clientSocket.off(\"newMessage\");\r\n        clientSocket.off(\"newrequest\");\r\n        clientSocket.off(\"messageSend1\");\r\n      }\r\n      else{\r\n        console.log(\"no socket\")\r\n      }\r\n      history.push(\"/login\");\r\n    });\r\n  };\r\n  useEffect(()=>{\r\n    getRequest()\r\n  },[frndcounter])\r\n     useEffect (()=>{\r\n    roomJoin(myId)\r\n  },[]);\r\n  \r\n    return (<div class=\"wrapper\">\r\n    <div class=\"sidebar\">\r\n         <div id =\"profile_div\">\r\n        <img\r\n          src= {myProfileImg}\r\n          alt=\"Profile\"\r\n          style={{ height: \"90px\", width: \"90px\", borderRadius: \"50%\" ,cursor:\"pointer\" }}\r\n         onClick={()=>history.push('/update-my-profile-setup/'+myId)}\r\n        /> \r\n        </div>  \r\n         <h4>{firstName +\" \"+lastName}</h4>\r\n        <ul>\r\n          \r\n            <li>\r\n               \r\n                 {msgCounter >= 1 ?\r\n                 <Link to={{pathname: '/mychats/'+myId}} style={{textDecoration:\"none\"}}  >\r\n                     <i class=\"fas fa-comments\"  ><span className=\"friendCounter\">{msgCounter}</span></i> My Chats\r\n                  </Link>\r\n                  :<Link to={{pathname: '/mychats/'+myId}} style={{textDecoration:\"none\"}}  >\r\n                     <i class=\"fas fa-comments\"  ></i> My Chats\r\n                  </Link>}\r\n                 \r\n            </li>\r\n          \r\n            <li>\r\n              {frndcounter >=1   ?\r\n               <Link to={{pathname: '/my-contact-list/'+myId}} style={{textDecoration:\"none\"}}  >\r\n                     <i class=\"fas fa-address-book\"  ><span className=\"friendCounter\">{frndcounter}</span></i> Contacts\r\n                  </Link>:\r\n                   \r\n                <Link to={{pathname: '/my-contact-list/'+myId}} style={{textDecoration:\"none\"}}  >\r\n                     <i class=\"fas fa-address-book\"></i> My Contacts\r\n                  </Link>}\r\n            </li>\r\n              <li> \r\n                <Link to={{pathname: `/my-account-settings/${myId}`}} style={{textDecoration:\"none\"}} >\r\n                     <i class=\"fas fa-user-cog\"  ></i> Account Settings\r\n                  </Link>\r\n            </li>\r\n            \r\n            \r\n        </ul> \r\n        <div class=\"social_media\">\r\n        <button\r\n                    className=\"btn text-decoration-none btn-link\"\r\n                    onClick={handleLogOut}\r\n                  >\r\n                    <i className=\"fas fa-sign-out-alt\" ></i> Logout\r\n                  </button> \r\n          \r\n      </div>\r\n    </div>\r\n   {/*  <div class=\"main_content\">\r\n        <div class=\"header\">Welcome!! Have a nice day.</div>  \r\n        <div class=\"info\">\r\n           \r\n                </div>\r\n    </div>  */}\r\n</div>  );\r\n}\r\n \r\nexport default  withRouter(SideBar);","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\ContactManagement.js",["378","379"],"import React, { useEffect, useState,useContext  } from \"react\";\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport Header from \"./Header\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport GroupAddRoundedIcon from '@material-ui/icons/GroupAddRounded';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { Button, Grid, Hidden } from \"@material-ui/core\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport PageTitle from \"./pageTitle\";\r\nimport SideBar from \"./SideBar\";\r\nimport io from \"socket.io-client\";\r\n\r\nconst ContactManagement = () => {\r\n    let history = useHistory()\r\n    let clientSocket1 = React.useRef()\r\n    const {setSocket,roomJoin,messageEvent, friendReq, frndcounter} = useContext(SocketContext);\r\n    const myId= isAuthenticated()._id;\r\n    const myEmail = isAuthenticated().email\r\n\r\n    window.onload = () => {\r\n      friendReq()\r\n     messageEvent()\r\n     let did = JSON.parse(localStorage.getItem('user'))._id\r\n     roomJoin(did)\r\n     clientSocket1 = io(process.env.REACT_APP_IP_URL)\r\n     setSocket((s)=>{\r\n       s = clientSocket1\r\n       s.on('connect' , () => {\r\n         console.log(\"connected\",s.id);\r\n         s.emit(\"adduser\",{id:s.id, name: myEmail})\r\n         \r\n       });\r\n       return s;\r\n     })\r\n   };\r\n\r\n    return(\r\n    <div div style={{height:\"100vh\"}} className=\"back_divs\">\r\n    \r\n     <Grid container>\r\n         <Hidden only={['xs', 'sm']}>\r\n          <Grid item xs ={5} md={2}><SideBar/></Grid>\r\n          </Hidden>\r\n            <Hidden only={['md', 'lg']}>\r\n          <Grid item xs={12} ><Header/></Grid>\r\n          </Hidden>\r\n          \r\n       \r\n          <Grid item xs={12} md={10}>\r\n            <PageTitle name={\"My Contacts\"}/> \r\n            <Grid container style={{marginTop:\"1.5rem\"}}>\r\n                <Grid item xs={1} md={3}></Grid>\r\n                 <Grid item xs={10} md={6}>\r\n             <Button className= \"loginbtn myFriendsBtn\"\r\n               variant=\"contained\" \r\n            fullWidth\r\n            onClick={event =>  history.push('/all-my-friends/'+myId)}>\r\n              < PeopleAltIcon className='contactManagementIcon'\r\n              color = \"white\"/> My Friends\r\n            </Button>\r\n             {\r\n          frndcounter >= 1?\r\n           <Button className= \"loginbtn friendRequestBtn\"\r\n               variant=\"contained\" \r\n             fullWidth\r\n             onClick={event =>  history.push('/all-friend-requests/'+myId)}>\r\n               <GroupAddRoundedIcon className='contactManagementIcon'\r\n              onClick={event =>  history.push('/all-friend-requests/'+myId)}\r\n              />  \r\n              <Badge badgeContent= {frndcounter} color=\"secondary\" style={{margin:\" -28px 0.8rem 0 -3px\"}}></Badge>\r\n            My Friend Requests\r\n            </Button>\r\n          :\r\n         <Button className= \"loginbtn friendRequestBtn\"\r\n              variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/all-friend-requests/'+myId)}>\r\n              <GroupAddRoundedIcon className='contactManagementIcon'\r\n              onClick={event =>  history.push('/all-friend-requests/'+myId)}\r\n              />  \r\n              \r\n             My Friend Requests\r\n            </Button>\r\n            \r\n        }\r\n        <Button className= \"loginbtn addFriendBtn\"\r\n               variant=\"contained\" \r\n            color=\"Secondary\"\r\n             fullWidth\r\n            onClick={event =>  history.push('/all-contacts/'+myId)}>\r\n              <PersonAddIcon className='contactManagementIcon'\r\n              color = \"white\"/> Add New friend\r\n            </Button>\r\n            </Grid>\r\n            </Grid>\r\n             <Grid item xs={1} md={3}></Grid>\r\n       </Grid>\r\n       \r\n       </Grid>\r\n    </div>)\r\n}\r\nexport default ContactManagement;","C:\\Users\\Akram Farooq\\Documents\\GitHub\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Settings.js",[],{"ruleId":"380","replacedBy":"381"},{"ruleId":"382","replacedBy":"383"},{"ruleId":"384","severity":1,"message":"385","line":155,"column":8,"nodeType":"386","endLine":155,"endColumn":10,"suggestions":"387"},{"ruleId":"384","severity":1,"message":"388","line":185,"column":5,"nodeType":"386","endLine":185,"endColumn":16,"suggestions":"389"},{"ruleId":"390","severity":1,"message":"391","line":234,"column":14,"nodeType":"392","endLine":234,"endColumn":54},{"ruleId":"393","severity":1,"message":"394","line":19,"column":32,"nodeType":"395","messageId":"396","endLine":19,"endColumn":37},{"ruleId":"384","severity":1,"message":"397","line":46,"column":9,"nodeType":"386","endLine":46,"endColumn":23,"suggestions":"398"},{"ruleId":"393","severity":1,"message":"399","line":10,"column":8,"nodeType":"395","messageId":"396","endLine":10,"endColumn":17},{"ruleId":"393","severity":1,"message":"399","line":34,"column":8,"nodeType":"395","messageId":"396","endLine":34,"endColumn":17},{"ruleId":"393","severity":1,"message":"399","line":23,"column":8,"nodeType":"395","messageId":"396","endLine":23,"endColumn":17},{"ruleId":"384","severity":1,"message":"385","line":66,"column":8,"nodeType":"386","endLine":66,"endColumn":10,"suggestions":"400"},{"ruleId":"393","severity":1,"message":"401","line":6,"column":10,"nodeType":"395","messageId":"396","endLine":6,"endColumn":15},{"ruleId":"393","severity":1,"message":"402","line":6,"column":23,"nodeType":"395","messageId":"396","endLine":6,"endColumn":27},{"ruleId":"393","severity":1,"message":"403","line":6,"column":29,"nodeType":"395","messageId":"396","endLine":6,"endColumn":35},{"ruleId":"393","severity":1,"message":"404","line":7,"column":10,"nodeType":"395","messageId":"396","endLine":7,"endColumn":25},{"ruleId":"393","severity":1,"message":"405","line":11,"column":9,"nodeType":"395","messageId":"396","endLine":11,"endColumn":13},{"ruleId":"393","severity":1,"message":"406","line":13,"column":9,"nodeType":"395","messageId":"396","endLine":13,"endColumn":14},{"ruleId":"393","severity":1,"message":"407","line":14,"column":17,"nodeType":"395","messageId":"396","endLine":14,"endColumn":23},{"ruleId":"384","severity":1,"message":"408","line":26,"column":7,"nodeType":"386","endLine":26,"endColumn":16,"suggestions":"409"},{"ruleId":"384","severity":1,"message":"410","line":30,"column":7,"nodeType":"386","endLine":30,"endColumn":16,"suggestions":"411"},{"ruleId":"393","severity":1,"message":"404","line":4,"column":10,"nodeType":"395","messageId":"396","endLine":4,"endColumn":25},{"ruleId":"393","severity":1,"message":"401","line":7,"column":10,"nodeType":"395","messageId":"396","endLine":7,"endColumn":15},{"ruleId":"393","severity":1,"message":"412","line":7,"column":17,"nodeType":"395","messageId":"396","endLine":7,"endColumn":21},{"ruleId":"393","severity":1,"message":"402","line":7,"column":23,"nodeType":"395","messageId":"396","endLine":7,"endColumn":27},{"ruleId":"393","severity":1,"message":"413","line":18,"column":7,"nodeType":"395","messageId":"396","endLine":18,"endColumn":12},{"ruleId":"384","severity":1,"message":"414","line":37,"column":5,"nodeType":"386","endLine":37,"endColumn":7,"suggestions":"415"},{"ruleId":"384","severity":1,"message":"416","line":69,"column":5,"nodeType":"386","endLine":69,"endColumn":14,"suggestions":"417"},{"ruleId":"393","severity":1,"message":"418","line":73,"column":9,"nodeType":"395","messageId":"396","endLine":73,"endColumn":16},{"ruleId":"393","severity":1,"message":"419","line":7,"column":10,"nodeType":"395","messageId":"396","endLine":7,"endColumn":21},{"ruleId":"393","severity":1,"message":"420","line":25,"column":7,"nodeType":"395","messageId":"396","endLine":25,"endColumn":12},{"ruleId":"393","severity":1,"message":"413","line":35,"column":11,"nodeType":"395","messageId":"396","endLine":35,"endColumn":16},{"ruleId":"393","severity":1,"message":"421","line":35,"column":18,"nodeType":"395","messageId":"396","endLine":35,"endColumn":28},{"ruleId":"393","severity":1,"message":"422","line":40,"column":9,"nodeType":"395","messageId":"396","endLine":40,"endColumn":15},{"ruleId":"384","severity":1,"message":"423","line":163,"column":6,"nodeType":"386","endLine":163,"endColumn":8,"suggestions":"424"},{"ruleId":"393","severity":1,"message":"425","line":166,"column":11,"nodeType":"395","messageId":"396","endLine":166,"endColumn":17},{"ruleId":"426","severity":1,"message":"427","line":172,"column":17,"nodeType":"428","messageId":"429","endLine":172,"endColumn":19},{"ruleId":"384","severity":1,"message":"430","line":275,"column":4,"nodeType":"386","endLine":275,"endColumn":16,"suggestions":"431"},{"ruleId":"426","severity":1,"message":"427","line":288,"column":32,"nodeType":"428","messageId":"429","endLine":288,"endColumn":34},{"ruleId":"393","severity":1,"message":"432","line":1,"column":28,"nodeType":"395","messageId":"396","endLine":1,"endColumn":36},{"ruleId":"393","severity":1,"message":"433","line":4,"column":23,"nodeType":"395","messageId":"396","endLine":4,"endColumn":29},{"ruleId":"393","severity":1,"message":"419","line":6,"column":9,"nodeType":"395","messageId":"396","endLine":6,"endColumn":20},{"ruleId":"393","severity":1,"message":"434","line":9,"column":8,"nodeType":"395","messageId":"396","endLine":9,"endColumn":16},{"ruleId":"393","severity":1,"message":"435","line":10,"column":8,"nodeType":"395","messageId":"396","endLine":10,"endColumn":21},{"ruleId":"393","severity":1,"message":"436","line":11,"column":8,"nodeType":"395","messageId":"396","endLine":11,"endColumn":21},{"ruleId":"393","severity":1,"message":"437","line":12,"column":8,"nodeType":"395","messageId":"396","endLine":12,"endColumn":20},{"ruleId":"393","severity":1,"message":"438","line":13,"column":8,"nodeType":"395","messageId":"396","endLine":13,"endColumn":27},{"ruleId":"393","severity":1,"message":"439","line":14,"column":8,"nodeType":"395","messageId":"396","endLine":14,"endColumn":18},{"ruleId":"393","severity":1,"message":"440","line":16,"column":8,"nodeType":"395","messageId":"396","endLine":16,"endColumn":19},{"ruleId":"393","severity":1,"message":"441","line":17,"column":8,"nodeType":"395","messageId":"396","endLine":17,"endColumn":22},{"ruleId":"393","severity":1,"message":"442","line":18,"column":8,"nodeType":"395","messageId":"396","endLine":18,"endColumn":21},{"ruleId":"393","severity":1,"message":"443","line":31,"column":7,"nodeType":"395","messageId":"396","endLine":31,"endColumn":14},{"ruleId":"393","severity":1,"message":"422","line":35,"column":9,"nodeType":"395","messageId":"396","endLine":35,"endColumn":15},{"ruleId":"384","severity":1,"message":"444","line":42,"column":27,"nodeType":"386","endLine":42,"endColumn":29,"suggestions":"445"},{"ruleId":"384","severity":1,"message":"446","line":43,"column":37,"nodeType":"386","endLine":43,"endColumn":39,"suggestions":"447"},{"ruleId":"384","severity":1,"message":"448","line":115,"column":6,"nodeType":"386","endLine":115,"endColumn":8,"suggestions":"449"},{"ruleId":"384","severity":1,"message":"450","line":126,"column":5,"nodeType":"386","endLine":126,"endColumn":7,"suggestions":"451"},{"ruleId":"452","severity":1,"message":"453","line":209,"column":13,"nodeType":"454","messageId":"455","endLine":334,"endColumn":15},{"ruleId":"456","severity":1,"message":"457","line":209,"column":13,"nodeType":"454","messageId":"458","endLine":334,"endColumn":15},{"ruleId":"393","severity":1,"message":"399","line":26,"column":8,"nodeType":"395","messageId":"396","endLine":26,"endColumn":17},{"ruleId":"393","severity":1,"message":"459","line":27,"column":8,"nodeType":"395","messageId":"396","endLine":27,"endColumn":10},{"ruleId":"393","severity":1,"message":"460","line":49,"column":10,"nodeType":"395","messageId":"396","endLine":49,"endColumn":19},{"ruleId":"393","severity":1,"message":"461","line":49,"column":20,"nodeType":"395","messageId":"396","endLine":49,"endColumn":28},{"ruleId":"393","severity":1,"message":"462","line":49,"column":29,"nodeType":"395","messageId":"396","endLine":49,"endColumn":41},{"ruleId":"393","severity":1,"message":"463","line":49,"column":43,"nodeType":"395","messageId":"396","endLine":49,"endColumn":52},{"ruleId":"393","severity":1,"message":"464","line":52,"column":11,"nodeType":"395","messageId":"396","endLine":52,"endColumn":24},{"ruleId":"393","severity":1,"message":"465","line":53,"column":7,"nodeType":"395","messageId":"396","endLine":53,"endColumn":20},{"ruleId":"426","severity":1,"message":"427","line":137,"column":18,"nodeType":"428","messageId":"429","endLine":137,"endColumn":20},{"ruleId":"393","severity":1,"message":"466","line":23,"column":9,"nodeType":"395","messageId":"396","endLine":23,"endColumn":16},{"ruleId":"393","severity":1,"message":"467","line":24,"column":7,"nodeType":"395","messageId":"396","endLine":24,"endColumn":14},{"ruleId":"393","severity":1,"message":"468","line":30,"column":21,"nodeType":"395","messageId":"396","endLine":30,"endColumn":28},{"ruleId":"393","severity":1,"message":"469","line":47,"column":7,"nodeType":"395","messageId":"396","endLine":47,"endColumn":17},{"ruleId":"393","severity":1,"message":"470","line":49,"column":7,"nodeType":"395","messageId":"396","endLine":49,"endColumn":14},{"ruleId":"393","severity":1,"message":"471","line":50,"column":7,"nodeType":"395","messageId":"396","endLine":50,"endColumn":14},{"ruleId":"393","severity":1,"message":"420","line":51,"column":7,"nodeType":"395","messageId":"396","endLine":51,"endColumn":12},{"ruleId":"384","severity":1,"message":"472","line":195,"column":6,"nodeType":"386","endLine":195,"endColumn":8,"suggestions":"473"},{"ruleId":"384","severity":1,"message":"423","line":205,"column":5,"nodeType":"386","endLine":205,"endColumn":7,"suggestions":"474"},{"ruleId":"384","severity":1,"message":"475","line":241,"column":6,"nodeType":"386","endLine":241,"endColumn":15,"suggestions":"476"},{"ruleId":"393","severity":1,"message":"477","line":4,"column":10,"nodeType":"395","messageId":"396","endLine":4,"endColumn":16},{"ruleId":"393","severity":1,"message":"478","line":9,"column":8,"nodeType":"395","messageId":"396","endLine":9,"endColumn":21},{"ruleId":"393","severity":1,"message":"479","line":10,"column":10,"nodeType":"395","messageId":"396","endLine":10,"endColumn":14},{"ruleId":"393","severity":1,"message":"422","line":28,"column":12,"nodeType":"395","messageId":"396","endLine":28,"endColumn":18},{"ruleId":"393","severity":1,"message":"467","line":29,"column":10,"nodeType":"395","messageId":"396","endLine":29,"endColumn":17},{"ruleId":"384","severity":1,"message":"480","line":58,"column":34,"nodeType":"386","endLine":58,"endColumn":36,"suggestions":"481"},{"ruleId":"482","severity":1,"message":"483","line":123,"column":41,"nodeType":"484","messageId":"485","endLine":123,"endColumn":43},{"ruleId":"426","severity":1,"message":"427","line":124,"column":29,"nodeType":"428","messageId":"429","endLine":124,"endColumn":31},{"ruleId":"393","severity":1,"message":"477","line":4,"column":10,"nodeType":"395","messageId":"396","endLine":4,"endColumn":16},{"ruleId":"393","severity":1,"message":"478","line":9,"column":8,"nodeType":"395","messageId":"396","endLine":9,"endColumn":21},{"ruleId":"393","severity":1,"message":"479","line":13,"column":10,"nodeType":"395","messageId":"396","endLine":13,"endColumn":14},{"ruleId":"393","severity":1,"message":"467","line":21,"column":9,"nodeType":"395","messageId":"396","endLine":21,"endColumn":16},{"ruleId":"393","severity":1,"message":"422","line":29,"column":11,"nodeType":"395","messageId":"396","endLine":29,"endColumn":17},{"ruleId":"393","severity":1,"message":"486","line":30,"column":12,"nodeType":"395","messageId":"396","endLine":30,"endColumn":24},{"ruleId":"384","severity":1,"message":"487","line":67,"column":5,"nodeType":"386","endLine":67,"endColumn":7,"suggestions":"488"},{"ruleId":"482","severity":1,"message":"483","line":116,"column":39,"nodeType":"484","messageId":"485","endLine":116,"endColumn":41},{"ruleId":"393","severity":1,"message":"489","line":1,"column":27,"nodeType":"395","messageId":"396","endLine":1,"endColumn":36},{"ruleId":"393","severity":1,"message":"490","line":2,"column":8,"nodeType":"395","messageId":"396","endLine":2,"endColumn":16},{"ruleId":"393","severity":1,"message":"491","line":3,"column":8,"nodeType":"395","messageId":"396","endLine":3,"endColumn":20},{"ruleId":"393","severity":1,"message":"399","line":4,"column":8,"nodeType":"395","messageId":"396","endLine":4,"endColumn":17},{"ruleId":"393","severity":1,"message":"492","line":5,"column":8,"nodeType":"395","messageId":"396","endLine":5,"endColumn":14},{"ruleId":"393","severity":1,"message":"493","line":7,"column":8,"nodeType":"395","messageId":"396","endLine":7,"endColumn":15},{"ruleId":"393","severity":1,"message":"494","line":8,"column":16,"nodeType":"395","messageId":"396","endLine":8,"endColumn":20},{"ruleId":"393","severity":1,"message":"495","line":10,"column":10,"nodeType":"395","messageId":"396","endLine":10,"endColumn":20},{"ruleId":"393","severity":1,"message":"496","line":11,"column":8,"nodeType":"395","messageId":"396","endLine":11,"endColumn":14},{"ruleId":"393","severity":1,"message":"497","line":15,"column":7,"nodeType":"395","messageId":"396","endLine":15,"endColumn":16},{"ruleId":"393","severity":1,"message":"477","line":4,"column":10,"nodeType":"395","messageId":"396","endLine":4,"endColumn":16},{"ruleId":"393","severity":1,"message":"435","line":9,"column":8,"nodeType":"395","messageId":"396","endLine":9,"endColumn":21},{"ruleId":"393","severity":1,"message":"478","line":11,"column":8,"nodeType":"395","messageId":"396","endLine":11,"endColumn":21},{"ruleId":"393","severity":1,"message":"479","line":12,"column":10,"nodeType":"395","messageId":"396","endLine":12,"endColumn":14},{"ruleId":"393","severity":1,"message":"467","line":23,"column":10,"nodeType":"395","messageId":"396","endLine":23,"endColumn":17},{"ruleId":"393","severity":1,"message":"486","line":28,"column":14,"nodeType":"395","messageId":"396","endLine":28,"endColumn":26},{"ruleId":"393","severity":1,"message":"422","line":31,"column":12,"nodeType":"395","messageId":"396","endLine":31,"endColumn":18},{"ruleId":"384","severity":1,"message":"498","line":64,"column":8,"nodeType":"386","endLine":64,"endColumn":10,"suggestions":"499"},{"ruleId":"482","severity":1,"message":"483","line":110,"column":34,"nodeType":"484","messageId":"485","endLine":110,"endColumn":36},{"ruleId":"426","severity":1,"message":"427","line":111,"column":28,"nodeType":"428","messageId":"429","endLine":111,"endColumn":30},{"ruleId":"393","severity":1,"message":"486","line":35,"column":12,"nodeType":"395","messageId":"396","endLine":35,"endColumn":24},{"ruleId":"384","severity":1,"message":"500","line":181,"column":6,"nodeType":"386","endLine":181,"endColumn":8,"suggestions":"501"},{"ruleId":"384","severity":1,"message":"388","line":213,"column":5,"nodeType":"386","endLine":213,"endColumn":16,"suggestions":"502"},{"ruleId":"503","severity":1,"message":"504","line":220,"column":61,"nodeType":"505","messageId":"506","endLine":220,"endColumn":62,"fix":"507"},{"ruleId":"390","severity":1,"message":"391","line":266,"column":14,"nodeType":"392","endLine":266,"endColumn":54},{"ruleId":"393","severity":1,"message":"422","line":3,"column":7,"nodeType":"395","messageId":"396","endLine":3,"endColumn":13},{"ruleId":"393","severity":1,"message":"425","line":5,"column":9,"nodeType":"395","messageId":"396","endLine":5,"endColumn":15},{"ruleId":"393","severity":1,"message":"425","line":15,"column":9,"nodeType":"395","messageId":"396","endLine":15,"endColumn":15},{"ruleId":"393","severity":1,"message":"508","line":10,"column":8,"nodeType":"395","messageId":"396","endLine":10,"endColumn":20},{"ruleId":"393","severity":1,"message":"509","line":14,"column":8,"nodeType":"395","messageId":"396","endLine":14,"endColumn":14},{"ruleId":"393","severity":1,"message":"477","line":15,"column":9,"nodeType":"395","messageId":"396","endLine":15,"endColumn":15},{"ruleId":"393","severity":1,"message":"510","line":29,"column":9,"nodeType":"395","messageId":"396","endLine":29,"endColumn":16},{"ruleId":"393","severity":1,"message":"511","line":62,"column":9,"nodeType":"395","messageId":"396","endLine":62,"endColumn":15},{"ruleId":"393","severity":1,"message":"512","line":5,"column":10,"nodeType":"395","messageId":"396","endLine":5,"endColumn":14},{"ruleId":"393","severity":1,"message":"513","line":5,"column":16,"nodeType":"395","messageId":"396","endLine":5,"endColumn":26},{"ruleId":"393","severity":1,"message":"514","line":6,"column":10,"nodeType":"395","messageId":"396","endLine":6,"endColumn":15},{"ruleId":"393","severity":1,"message":"422","line":2,"column":7,"nodeType":"395","messageId":"396","endLine":2,"endColumn":13},{"ruleId":"393","severity":1,"message":"515","line":43,"column":9,"nodeType":"395","messageId":"396","endLine":43,"endColumn":26},{"ruleId":"482","severity":1,"message":"516","line":46,"column":32,"nodeType":"484","messageId":"517","endLine":46,"endColumn":34},{"ruleId":"393","severity":1,"message":"518","line":68,"column":11,"nodeType":"395","messageId":"396","endLine":68,"endColumn":30},{"ruleId":"393","severity":1,"message":"489","line":1,"column":17,"nodeType":"395","messageId":"396","endLine":1,"endColumn":26},{"ruleId":"393","severity":1,"message":"432","line":1,"column":36,"nodeType":"395","messageId":"396","endLine":1,"endColumn":44},{"ruleId":"482","severity":1,"message":"516","line":91,"column":32,"nodeType":"484","messageId":"517","endLine":91,"endColumn":34},{"ruleId":"393","severity":1,"message":"519","line":110,"column":7,"nodeType":"395","messageId":"396","endLine":110,"endColumn":13},{"ruleId":"393","severity":1,"message":"520","line":119,"column":13,"nodeType":"395","messageId":"396","endLine":119,"endColumn":16},{"ruleId":"393","severity":1,"message":"521","line":1,"column":25,"nodeType":"395","messageId":"396","endLine":1,"endColumn":31},{"ruleId":"393","severity":1,"message":"522","line":11,"column":10,"nodeType":"395","messageId":"396","endLine":11,"endColumn":14},{"ruleId":"393","severity":1,"message":"523","line":15,"column":9,"nodeType":"395","messageId":"396","endLine":15,"endColumn":20},{"ruleId":"393","severity":1,"message":"524","line":3,"column":8,"nodeType":"395","messageId":"396","endLine":3,"endColumn":16},{"ruleId":"393","severity":1,"message":"513","line":12,"column":10,"nodeType":"395","messageId":"396","endLine":12,"endColumn":20},{"ruleId":"393","severity":1,"message":"522","line":20,"column":12,"nodeType":"395","messageId":"396","endLine":20,"endColumn":16},{"ruleId":"393","severity":1,"message":"525","line":20,"column":18,"nodeType":"395","messageId":"396","endLine":20,"endColumn":25},{"ruleId":"390","severity":1,"message":"391","line":20,"column":16,"nodeType":"392","endLine":20,"endColumn":94},{"ruleId":"393","severity":1,"message":"460","line":14,"column":27,"nodeType":"395","messageId":"396","endLine":14,"endColumn":36},{"ruleId":"393","severity":1,"message":"462","line":14,"column":37,"nodeType":"395","messageId":"396","endLine":14,"endColumn":49},{"ruleId":"393","severity":1,"message":"463","line":14,"column":59,"nodeType":"395","messageId":"396","endLine":14,"endColumn":68},{"ruleId":"384","severity":1,"message":"526","line":32,"column":5,"nodeType":"386","endLine":32,"endColumn":18,"suggestions":"527"},{"ruleId":"384","severity":1,"message":"450","line":35,"column":5,"nodeType":"386","endLine":35,"endColumn":7,"suggestions":"528"},{"ruleId":"393","severity":1,"message":"489","line":1,"column":17,"nodeType":"395","messageId":"396","endLine":1,"endColumn":26},{"ruleId":"393","severity":1,"message":"432","line":1,"column":28,"nodeType":"395","messageId":"396","endLine":1,"endColumn":36},"no-native-reassign",["529"],"no-negated-in-lhs",["530"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'match.params.token' and 'values'. Either include them or remove the dependency array. You can also do a functional update 'setValues(v => ...)' if you only need 'values' in the 'setValues' call.","ArrayExpression",["531"],"React Hook React.useCallback has a missing dependency: 'values'. Either include it or remove the dependency array. You can also do a functional update 'setValues(v => ...)' if you only need 'values' in the 'setValues' call.",["532"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-unused-vars","'token' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'formData'. Either include it or remove the dependency array. You can also do a functional update 'setFormData(f => ...)' if you only need 'formData' in the 'setFormData' call.",["533"],"'PageTitle' is defined but never used.",["534"],"'Slide' is defined but never used.","'Flip' is defined but never used.","'Bounce' is defined but never used.","'isAuthenticated' is defined but never used.","'elem' is assigned a value but never used.","'email' is defined but never used.","'setObj' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'getUnreadMsgs' and 'userId'. Either include them or remove the dependency array.",["535"],"React Hook useEffect has a missing dependency: 'users'. Either include it or remove the dependency array.",["536"],"'Zoom' is defined but never used.","'count' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["537"],"React Hook useEffect has missing dependencies: 'friendReqEvent', 'messageCounter', and 'newMessageEvent'. Either include them or remove the dependency array.",["538"],"'counter' is assigned a value but never used.","'ChatContext' is defined but never used.","'dummy' is assigned a value but never used.","'setCounter' is assigned a value but never used.","'IP_URL' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'clientSocket'. Either include it or remove the dependency array.",["539"],"'config' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has a missing dependency: 'chat.messages'. Either include it or remove the dependency array.",["540"],"'useState' is defined but never used.","'Hidden' is defined but never used.","'ChatIcon' is defined but never used.","'PersonAddIcon' is defined but never used.","'PeopleAltIcon' is defined but never used.","'SettingsIcon' is defined but never used.","'GroupAddRoundedIcon' is defined but never used.","'DeleteIcon' is defined but never used.","'chatservice' is defined but never used.","'accountService' is defined but never used.","'friendService' is defined but never used.","'showBtn' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'msgNotify'. Either include it or remove the dependency array.",["541"],"React Hook useEffect has a missing dependency: 'acceptRejectCounter'. Either include it or remove the dependency array.",["542"],"React Hook useEffect has missing dependencies: 'clientSocket' and 'setUsers'. Either include them or remove the dependency array. If 'setUsers' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["543"],"React Hook useEffect has missing dependencies: 'myId' and 'roomJoin'. Either include them or remove the dependency array.",["544"],"no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","no-unreachable","Unreachable code.","unreachableCode","'io' is defined but never used.","'setSocket' is assigned a value but never used.","'roomJoin' is assigned a value but never used.","'messageEvent' is assigned a value but never used.","'friendReq' is assigned a value but never used.","'getUnreadMsgs' is assigned a value but never used.","'clientSocket1' is assigned a value but never used.","'classes' is assigned a value but never used.","'history' is assigned a value but never used.","'setData' is assigned a value but never used.","'notPresent' is assigned a value but never used.","'recData' is assigned a value but never used.","'recMsgs' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'clientSocket', 'getRecData', 'props.users', and 'uId'. Either include them or remove the dependency array.",["545"],["546"],"React Hook useEffect has missing dependencies: 'lastMsg' and 'setRecArray'. Either include them or remove the dependency array.",["547"],"'Button' is defined but never used.","'ArrowBackIcon' is defined but never used.","'grey' is defined but never used.","React Hook useEffect has missing dependencies: 'acceptRejectCounter' and 'myId'. Either include them or remove the dependency array.",["548"],"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'clientSocket' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'getData' and 'getSingleContact'. Either include them or remove the dependency array.",["549"],"'useEffect' is defined but never used.","'AlertBar' is defined but never used.","'LinearBuffer' is defined but never used.","'Select' is defined but never used.","'Resizer' is defined but never used.","'cyan' is defined but never used.","'useHistory' is defined but never used.","'Webcam' is defined but never used.","'useStyles' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getAllMyFriends'. Either include it or remove the dependency array.",["550"],"React Hook useEffect has missing dependencies: 'myId' and 'values'. Either include them or remove the dependency array. You can also do a functional update 'setValues(v => ...)' if you only need 'values' in the 'setValues' call.",["551"],["552"],"dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"553","text":"554"},"'ListItemIcon' is defined but never used.","'Header' is defined but never used.","'options' is assigned a value but never used.","'imgUrl' is assigned a value but never used.","'Grid' is defined but never used.","'Typography' is defined but never used.","'brown' is defined but never used.","'chatButtonHandler' is assigned a value but never used.","Array.prototype.map() expects a return value from arrow function.","expectedInside","'contactClickHandler' is assigned a value but never used.","'myElem' is assigned a value but never used.","'obj' is assigned a value but never used.","'useRef' is defined but never used.","'open' is assigned a value but never used.","'handleClose' is assigned a value but never used.","'Checkbox' is defined but never used.","'setOpen' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getRequest'. Either include it or remove the dependency array.",["555"],["556"],"no-global-assign","no-unsafe-negation",{"desc":"557","fix":"558"},{"desc":"559","fix":"560"},{"desc":"561","fix":"562"},{"desc":"557","fix":"563"},{"desc":"564","fix":"565"},{"desc":"566","fix":"567"},{"desc":"568","fix":"569"},{"desc":"570","fix":"571"},{"desc":"572","fix":"573"},{"desc":"574","fix":"575"},{"desc":"576","fix":"577"},{"desc":"578","fix":"579"},{"desc":"580","fix":"581"},{"desc":"582","fix":"583"},{"desc":"584","fix":"585"},{"desc":"572","fix":"586"},{"desc":"587","fix":"588"},{"desc":"589","fix":"590"},{"desc":"591","fix":"592"},{"desc":"593","fix":"594"},{"desc":"595","fix":"596"},{"desc":"559","fix":"597"},[7568,7582],"\r\n           .",{"desc":"598","fix":"599"},{"desc":"582","fix":"600"},"Update the dependencies array to be: [match.params.token, values]",{"range":"601","text":"602"},"Update the dependencies array to be: [values]",{"range":"603","text":"604"},"Update the dependencies array to be: [formData, match.params]",{"range":"605","text":"606"},{"range":"607","text":"602"},"Update the dependencies array to be: [getUnreadMsgs, isLogin, userId]",{"range":"608","text":"609"},"Update the dependencies array to be: [isLogin, users]",{"range":"610","text":"611"},"Update the dependencies array to be: [id]",{"range":"612","text":"613"},"Update the dependencies array to be: [friendReqEvent, isLogin, messageCounter, newMessageEvent]",{"range":"614","text":"615"},"Update the dependencies array to be: [clientSocket]",{"range":"616","text":"617"},"Update the dependencies array to be: [chat.messages, searchTerm]",{"range":"618","text":"619"},"Update the dependencies array to be: [msgNotify]",{"range":"620","text":"621"},"Update the dependencies array to be: [acceptRejectCounter]",{"range":"622","text":"623"},"Update the dependencies array to be: [clientSocket, setUsers]",{"range":"624","text":"625"},"Update the dependencies array to be: [myId, roomJoin]",{"range":"626","text":"627"},"Update the dependencies array to be: [clientSocket, getRecData, props.users, uId]",{"range":"628","text":"629"},{"range":"630","text":"617"},"Update the dependencies array to be: [lastMsg, payload, setRecArray]",{"range":"631","text":"632"},"Update the dependencies array to be: [acceptRejectCounter, myId]",{"range":"633","text":"634"},"Update the dependencies array to be: [getData, getSingleContact]",{"range":"635","text":"636"},"Update the dependencies array to be: [getAllMyFriends]",{"range":"637","text":"638"},"Update the dependencies array to be: [myId, values]",{"range":"639","text":"640"},{"range":"641","text":"604"},"Update the dependencies array to be: [frndcounter, getRequest]",{"range":"642","text":"643"},{"range":"644","text":"627"},[5157,5159],"[match.params.token, values]",[6381,6392],"[values]",[1648,1662],"[formData, match.params]",[1717,1719],[1016,1025],"[getUnreadMsgs, isLogin, userId]",[1101,1110],"[isLogin, users]",[1147,1149],"[id]",[1995,2004],"[friendReqEvent, isLogin, messageCounter, newMessageEvent]",[5105,5107],"[clientSocket]",[8102,8114],"[chat.messages, searchTerm]",[2049,2051],"[msgNotify]",[2090,2092],"[acceptRejectCounter]",[3976,3978],"[clientSocket, setUsers]",[4161,4163],"[myId, roomJoin]",[6778,6780],"[clientSocket, getRecData, props.users, uId]",[6974,6976],[8024,8033],"[lastMsg, payload, setRecArray]",[2264,2266],"[acceptRejectCounter, myId]",[2433,2435],"[getData, getSingleContact]",[2253,2255],"[getAllMyFriends]",[6029,6031],"[myId, values]",[7309,7320],[1200,1213],"[frndcounter, getRequest]",[1263,1265]]