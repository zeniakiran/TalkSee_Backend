[{"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\index.js":"1","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\reportWebVitals.js":"2","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\App.js":"3","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\MyChatsContext.js":"4","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\SocketContext.js":"5","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Users.js":"6","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\notFound.js":"7","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\profileSetup.js":"8","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SignUp.js":"9","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriendRequest.js":"10","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\updateProfileSetup.js":"11","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllContacts.js":"12","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriends.js":"13","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\LogIn.js":"14","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\resetPassword.js":"15","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\forgotPassword.js":"16","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Activate.js":"17","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\ChatContext.js":"18","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\AllChats.js":"19","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\userDashboard.js":"20","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Chat.js":"21","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\pageTitle.js":"22","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\UserService.js":"23","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\GroupService.js":"24","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\accountService.js":"25","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\auth.js":"26","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\ProgressBar.js":"27","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\AlertBar.js":"28","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\RenderChat.js":"29","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SettingMessage.js":"30","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\ChatService.js":"31","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\GenericService.js":"32","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\localStorage.js":"33","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\cookies.js":"34","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Header.js":"35","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\TypeMessage.js":"36","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SingleChat.js":"37","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\Notification.js":"38","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\api\\auth.js":"39","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\showMessage.js":"40","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriend.js":"41","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleContact.js":"42","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\contactService.js":"43","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\friendService.js":"44","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriendRequest.js":"45","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\MyChats.js":"46","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\ChatPage.js":"47","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Chats.js":"48","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SendMessage.js":"49","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Profile.js":"50"},{"size":1664,"mtime":1620755202361,"results":"51","hashOfConfig":"52"},{"size":375,"mtime":1620755202368,"results":"53","hashOfConfig":"52"},{"size":3859,"mtime":1622654451542,"results":"54","hashOfConfig":"52"},{"size":3708,"mtime":1620755202352,"results":"55","hashOfConfig":"52"},{"size":2807,"mtime":1622654574857,"results":"56","hashOfConfig":"52"},{"size":7000,"mtime":1620755202284,"results":"57","hashOfConfig":"52"},{"size":453,"mtime":1620755202332,"results":"58","hashOfConfig":"52"},{"size":12441,"mtime":1621748716562,"results":"59","hashOfConfig":"52"},{"size":11582,"mtime":1620755202325,"results":"60","hashOfConfig":"52"},{"size":4447,"mtime":1622654991451,"results":"61","hashOfConfig":"52"},{"size":12774,"mtime":1622654647573,"results":"62","hashOfConfig":"52"},{"size":4743,"mtime":1622653806590,"results":"63","hashOfConfig":"52"},{"size":4722,"mtime":1622654768561,"results":"64","hashOfConfig":"52"},{"size":7987,"mtime":1622654719952,"results":"65","hashOfConfig":"52"},{"size":7992,"mtime":1620755202338,"results":"66","hashOfConfig":"52"},{"size":4158,"mtime":1620755202330,"results":"67","hashOfConfig":"52"},{"size":3893,"mtime":1620755202312,"results":"68","hashOfConfig":"52"},{"size":1638,"mtime":1622273268128,"results":"69","hashOfConfig":"52"},{"size":11554,"mtime":1622654836785,"results":"70","hashOfConfig":"52"},{"size":8651,"mtime":1622653720260,"results":"71","hashOfConfig":"52"},{"size":7997,"mtime":1622650305635,"results":"72","hashOfConfig":"52"},{"size":781,"mtime":1622022335900,"results":"73","hashOfConfig":"52"},{"size":425,"mtime":1620755202377,"results":"74","hashOfConfig":"52"},{"size":440,"mtime":1620755202376,"results":"75","hashOfConfig":"52"},{"size":679,"mtime":1622572690008,"results":"76","hashOfConfig":"52"},{"size":522,"mtime":1620755202307,"results":"77","hashOfConfig":"52"},{"size":1137,"mtime":1620755202297,"results":"78","hashOfConfig":"52"},{"size":2341,"mtime":1620755202296,"results":"79","hashOfConfig":"52"},{"size":5522,"mtime":1622653985508,"results":"80","hashOfConfig":"52"},{"size":4759,"mtime":1622654054013,"results":"81","hashOfConfig":"52"},{"size":994,"mtime":1622009599503,"results":"82","hashOfConfig":"52"},{"size":1643,"mtime":1620755202374,"results":"83","hashOfConfig":"52"},{"size":284,"mtime":1620755202309,"results":"84","hashOfConfig":"52"},{"size":268,"mtime":1620755202308,"results":"85","hashOfConfig":"52"},{"size":2971,"mtime":1622046048318,"results":"86","hashOfConfig":"52"},{"size":1894,"mtime":1622051728506,"results":"87","hashOfConfig":"52"},{"size":8188,"mtime":1622096456511,"results":"88","hashOfConfig":"52"},{"size":404,"mtime":1622009599457,"results":"89","hashOfConfig":"52"},{"size":593,"mtime":1620755202303,"results":"90","hashOfConfig":"52"},{"size":1385,"mtime":1622009599460,"results":"91","hashOfConfig":"52"},{"size":2483,"mtime":1622043274019,"results":"92","hashOfConfig":"52"},{"size":4158,"mtime":1622653642259,"results":"93","hashOfConfig":"52"},{"size":308,"mtime":1620755202381,"results":"94","hashOfConfig":"52"},{"size":873,"mtime":1622549479404,"results":"95","hashOfConfig":"52"},{"size":2690,"mtime":1622043274021,"results":"96","hashOfConfig":"52"},{"size":8993,"mtime":1622620605869,"results":"97","hashOfConfig":"52"},{"size":7898,"mtime":1622054591159,"results":"98","hashOfConfig":"52"},{"size":1822,"mtime":1620755202267,"results":"99","hashOfConfig":"52"},{"size":1739,"mtime":1620755202276,"results":"100","hashOfConfig":"52"},{"size":3429,"mtime":1622654193075,"results":"101","hashOfConfig":"52"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"105"},"1rylyem",{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"108","messages":"109","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"110","messages":"111","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"105"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"105"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"119"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"105"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"105"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":2,"source":"132","usedDeprecatedRules":"105"},{"filePath":"133","messages":"134","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"105"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"105"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"105"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"105"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"149","usedDeprecatedRules":"105"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"105"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"105"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158","usedDeprecatedRules":"105"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161","usedDeprecatedRules":"105"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"119"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"172","messages":"173","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"105"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"181","usedDeprecatedRules":"105"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"194"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"197","usedDeprecatedRules":"194"},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"200"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"203","usedDeprecatedRules":"105"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"200"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"105"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"194"},{"filePath":"216","messages":"217","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"218","messages":"219","errorCount":0,"warningCount":20,"fixableErrorCount":0,"fixableWarningCount":5,"source":null},{"filePath":"220","messages":"221","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"222","messages":"223","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"224","messages":"225","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\index.js",["226","227","228","229"],"import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n//import Pusher from 'pusher-js';\r\n//import Reducer from './Redux/reducers/chat_reducers';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\n//Pusher.logToConsole = true;\r\n\r\n//useEffect (()=>{\r\n  /* const pusher = new Pusher('18cb37e3146179a6a80e', {\r\n  cluster: 'ap2',\r\n  authEndpoint: 'http://localhost:5000/api/chatapi/pusher/auth'\r\n}); */\r\n/* usher.connection.bind('connected', function () {\r\n  // attach the socket ID to all outgoing Axios requests\r\n  axios.defaults.headers.common['X-Socket-Id'] = pusher.connection.socket_id;\r\n  console.log(\"id:\",pusher.connection.socket_id)\r\n}); */\r\n//},[])\r\n/* var channel = pusher.subscribe('private-my-channel');\r\nchannel.bind('my-event', function(data) {\r\n  console.log(\"in bind\")\r\n  alert(JSON.stringify(data));\r\n  console.log(\"pusher data:\",data)\r\n}); */\r\n\r\n//const myStore = createStore(Reducer, window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n                            //window.__REDUX_DEVTOOLS_EXTENSION__() );\r\n\r\n/* ReactDOM.render(\r\n  <Provider\r\n        store={myStore}\r\n        >\r\n        <App />\r\n  </Provider>\r\n    \r\n  ,\r\n  document.getElementById('root')\r\n); */\r\nReactDOM.render(<App />,document.getElementById('root'));\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n",["230","231"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\reportWebVitals.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\App.js",["232"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\MyChatsContext.js",["233","234","235","236"],"import React ,{createContext, useRef,useEffect,useState} from 'react'\r\nimport chatservice from \"../services/ChatService\"\r\nimport userservice from \"../services/UserService\"\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const MyChatsContext = createContext();\r\nexport function MyChatsProvider({userId,children}) {\r\n    const [chatRecipients,setChatRecipients] = useState([])\r\n    let recData = []\r\n    let recMsgs = []\r\n    let msgType = []\r\n    let recName = []\r\n    let recId=[]\r\n    let imgUrl =[]\r\n    useEffect(()=>{\r\n        //userId.current = localStorage.getItem(\"userId\")\r\n        if(userId !== undefined){\r\n        getRecData(userId,undefined)\r\n        //console.log(userId)\r\n        }\r\n        console.log(\"undefined\")\r\n        \r\n    },[userId])\r\n\r\n    const getRecData = (uId)=>{\r\n         recData = []; recName =[]; recMsgs = []; msgType = []; imgUrl=[]; recId=[]\r\n        //console.log(\"in getdata\")\r\n        chatservice.getChatRecipients(uId).then((data)=>{    \r\n            if(data.length>0){\r\n                //console.log(\"data getchat\",data)\r\n                /* dataFromDb.push(data)\r\n                console.log(\"data from db getchat\",dataFromDb) */\r\n                data.map((rec) =>{\r\n                    //console.log('single rec',rec)\r\n                    return recData.push(rec)\r\n                })\r\n                console.log(\"rec data\",recData)\r\n                recData = Array.from(new Set(recData));\r\n                console.log(\"rec data updated\",recData)\r\n                setChatRecipients((r)=>{\r\n                    r.Rname=recData\r\n                    //console.log(chatRecipients)\r\n                    return r\r\n                })\r\n                chatRecipients.Rname.map((r)=>{\r\n                    //console.log(\"r\",r)\r\n                    chatservice.getLastMsg(uId, r)\r\n                    .then((data1)=>{\r\n                        //console.log(\"data\",data1.type)\r\n                        recMsgs.push(data1.lastMsg)\r\n                        msgType.push(data1.type)\r\n                        //return {recMsgs,msgType}\r\n                    })\r\n                    .catch((err)=>console.log(err))\r\n\r\n                    userservice.getUserByEmail(r).then((data2)=>{\r\n                        //console.log(\"data 2\",data2)\r\n                        recId.push(data2[0]._id)\r\n                        imgUrl.push(data2[0].profileImg)\r\n                        recName.push(data2[0].firstName+' '+data2[0].lastName)\r\n                        setChatRecipients((r)=>{\r\n                            r.lastMsg = recMsgs\r\n                            r.msgType = msgType\r\n                            r.recId = recId\r\n                            r.imgUrl= imgUrl\r\n                            r.name = recName\r\n                            console.log(chatRecipients)\r\n                            return r\r\n                        })\r\n                       /*  if(cb === undefined)\r\n                            console.log(\"do nothing\")\r\n                        else\r\n                            cb() */\r\n                    }).catch((err)=>console.log(err))\r\n                })\r\n                \r\n            }\r\n            else\r\n                console.log(\"no data\")\r\n            \r\n            })\r\n            .catch((err)=>console.log(err))\r\n            return chatRecipients\r\n    }\r\n\r\n    /* useEffect(()=>{\r\n        \r\n    },[chatRecipients]) */\r\n    //getRecData()\r\n  const value = {\r\n      chatRecipients : chatRecipients,\r\n      getRecData : getRecData,\r\n      setRecipients : setChatRecipients,\r\n      /* setuuIdFunc : setuuId,\r\n      uuId : uuId */\r\n  }\r\n  return (\r\n    <MyChatsContext.Provider value={value}>\r\n      {children}\r\n    </MyChatsContext.Provider>\r\n  )\r\n}\r\n\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\SocketContext.js",["237","238","239","240","241"],"import React ,{createContext,useEffect,useState,useRef} from 'react'\r\nimport io from \"socket.io-client\";\r\nimport { toast } from 'react-toastify';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\n  import 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const SocketContext = createContext();\r\nexport function SocketProvider({id,children}) {\r\n  \r\n  const [clientSocket, setSocket] = useState()\r\n  let count=0;\r\n  let roomId = useRef()\r\n  \r\n  useEffect(() => {\r\n    \r\n    const socket = io(\r\n      'http://localhost:5000',\r\n    )\r\n    setSocket(socket)\r\n    return () => socket.close()\r\n    /* clientSocket.current = io(\"http://127.0.0.1:5000\");\r\n    clientSocket.current.on('connect' , () => {\r\n      console.log(clientSocket.current.id);\r\n    }); */\r\n  }, [])\r\n\r\n  useEffect(()=>{\r\n    roomId.current= '/'+id\r\n    console.log(roomId)\r\n  },[])\r\n\r\n  const newMessageEvent = () => {\r\n    if(clientSocket){\r\n      clientSocket.on(\"newMessage\", (payload) => {\r\n      <button onClick={()=>console.log(\"clicked\")}>{toast(payload.RecipientName +':'+\r\n        payload.payload.messageBody, {\r\n          onOpen: () => console.log('Called when I open'),\r\n          position: toast.POSITION.TOP_LEFT,\r\n          toastId: '007',\r\n          transition: Bounce\r\n        })}\r\n      </button>\r\n      //count=count+1\r\n      console.log(\"new message\",payload)\r\n      })\r\n    }\r\n    else {\r\n      console.log(\"no socket\")\r\n    }  \r\n  //return () => {clientSocket.removeAllListeners(\"newMessage\");}\r\n  }\r\n\r\n  /* useEffect(()=>{\r\n    newMessageEvent()\r\n    console.log(\"2\")\r\n  },[])\r\n */\r\n  const roomJoin = (did) =>{\r\n    //did = did || roomId.current\r\n    did = '/'+did\r\n    if(clientSocket){\r\n      clientSocket.emit(\r\n        \"NotificationRoom\",\r\n        { myNotificationRoom : did},\r\n        ({error,room}) => {\r\n          if (!error) {\r\n            console.log(\"joined room with id\", room);\r\n          } else {\r\n            console.log(\"error joining room\", error);\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  const friendReqEvent = () =>{\r\n    console.log(\"friend Req event\")\r\n    if(clientSocket){\r\n      clientSocket.on(\"newRequest\", (payload) => {\r\n          console.log(\"payload : \",payload)\r\n          toast.info(\r\n          payload.sender+ ' has sent you a friend request!', {\r\n          position: toast.POSITION.TOP_LEFT,\r\n          //toastId: '009',\r\n          autoClose: 7000,\r\n          transition: Bounce\r\n        })\r\n      })\r\n    }\r\n    else{\r\n      console.log(\"no socket\")\r\n    }\r\n  }\r\n  \r\n\r\n  let value={\r\n    clientSocket : clientSocket,\r\n    setSocket : setSocket,\r\n    messageEvent : newMessageEvent,\r\n    roomJoin : roomJoin,\r\n    friendReq : friendReqEvent\r\n  }\r\n  return (\r\n    <SocketContext.Provider value={value}>\r\n      {children}\r\n    </SocketContext.Provider>\r\n  )\r\n\r\n  \r\n}","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Users.js",["242","243","244","245","246","247","248","249","250","251","252"],"import React, { useState, useEffect ,useRef,useContext} from \"react\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport Typography from '@material-ui/core/Typography';\r\n//import ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\n//import Avatar from \"@material-ui/core/Avatar\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//import socketIOClient from \"socket.io-client\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport userservice from \"../../services/UserService\";\r\nimport groupservice from \"../../services/GroupService\";\r\nimport { isAuthenticated, logout } from \"../FrontendComponents/clientStorages/auth\";\r\nimport {SocketContext} from '../../context/SocketContext';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport \"./users.css\"\r\n//import commonUtilites from \"../Utilities/common\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  subheader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n  },\r\n  globe: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  subheaderText: {\r\n    color: theme.palette.primary.dark,\r\n  },\r\n  list: {\r\n    maxHeight: \"calc(100vh - 112px)\",\r\n    overflowY: \"auto\",\r\n    \r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(0, 3, 0, 1),\r\n  },\r\n  listText:{\r\n    fontSize : '1.3rem',\r\n    fontFamily : 'Roboto'\r\n  }\r\n  ,listText1:{\r\n    fontSize : '1rem',\r\n    fontFamily : 'Roboto',\r\n    color : 'gray'\r\n  }\r\n  , listBtn:{\r\n    backgroundColor: 'rgb(0, 172, 193)',\r\n    color : 'white',\r\n    fontSize : '1rem'\r\n  }\r\n}));\r\n\r\nconst Users = (props) => {\r\n  const classes = useStyles();\r\n  const [users, setUsers] = useState([]);\r\n  const [newUser, setNewUser] = useState(null);\r\n  const [show, setShow] = React.useState(false)\r\n  let count = useRef(0);\r\n  let userId = useRef(\"\");\r\n  let name = useRef(\"\")\r\n  let userslist = useRef([])\r\n  let history = useHistory();\r\n  let recipients = []\r\n  const clientSocket = useContext(SocketContext);\r\n  //const getUsers = useGetUsers();\r\n  const getData = () => {\r\n    userId.current= localStorage.getItem(\"userId\")\r\n    console.log(userId.current)\r\n    userservice.getUsers()\r\n   .then((data) => {\r\n        userslist.current = data\r\n        userslist.current = userslist.current.filter((u)=>{\r\n          return u.email !== userId.current\r\n        })\r\n        setUsers(userslist.current ); \r\n        console.log(\"contacts\",users)\r\n  })\r\n   .catch((err) => console.log(\"This is err\"+ err));\r\n}\r\n  useEffect(()=>{\r\n    getData()\r\n    console.log(clientSocket)\r\n    if(clientSocket!==undefined)\r\n      clientSocket.emit(\"adduser\",{id:clientSocket.id, name: userId.current})\r\n  },[]);\r\n\r\n    const userClickHandler = (u) =>{\r\n        let email = u.email\r\n        let fname= u.firstName\r\n        let lname = u.lastName\r\n        let lang = u.langPreference\r\n        let profileUrl = u.profileImg\r\n        let x = fname+' '+lname\r\n        localStorage.setItem(\"recName\",x)\r\n        localStorage.setItem(\"recLang\",lang)\r\n        localStorage.setItem(\"profileUrl\",profileUrl)\r\n        history.push('/chat/'+email); \r\n        \r\n  }\r\n\r\n  const viewButtonHandler = ()=>{\r\n    history.push('/mychats/'); \r\n  }\r\n    const showButtons = ()=>{\r\n      setShow(true)\r\n    }\r\n\r\n    const addGroupMember = (e)=>{\r\n          console.log(\"target\",e)\r\n          count.current = count.current+1\r\n          console.log(\"count\",count)\r\n        recipients.push(e)\r\n        console.log(\"Rec\",recipients)\r\n    }\r\n\r\n    const createGroup = () =>{\r\n      if(recipients.length > 1){\r\n        let groupMembers = recipients\r\n        let groupName = name.current\r\n        let groupId = uuidv4();\r\n        let createdBy = userId.current\r\n        groupservice.createGroup({groupName,groupId,createdBy,groupMembers})\r\n              .then((data)=>{\r\n                  console.log(\"Created successfully\",data);\r\n                  history.push('/groupchat'+'/'+groupId)\r\n                  //getData();\r\n                })\r\n              .catch((err)=>{console.log(\"Some Err\")})\r\n        //history.push('/chat/'+address);\r\n        //history.push('/groupchat'+'/'+name.current+'/'+address)\r\n      }\r\n    }\r\n\r\n    const nameHandler = (e) =>{\r\n      name.current = e.target.value\r\n      console.log(name.current)\r\n    }\r\n    const handleLogOut = (evt) => {\r\n      logout(() => {\r\n        history.push(\"/login\");\r\n      });\r\n    };\r\n\r\n  /* useEffect(() => {\r\n    getUsers().then((res) => setUsers(res));\r\n  }, [newUser]); */\r\n\r\n  /* useEffect(() => {\r\n    const socket = socketIOClient(process.env.REACT_APP_API_URL);\r\n    socket.on(\"users\", (data) => {\r\n      setNewUser(data);\r\n    });\r\n  }, []); */\r\n\r\n  return (\r\n    <div>\r\n     {/*<Button onClick={showButtons} variant=\"contained\" color=\"primary\">\r\n        Create Group\r\n      </Button>*/}\r\n      <button\r\n        className=\"btn text-decoration-none btn-link   pl-0\"\r\n        style={{textDecoration:\"none\"}}\r\n        onClick={handleLogOut}\r\n      >\r\n        <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i> Logout\r\n      </button>\r\n      <h3 className=\" text-center\">Contacts</h3>\r\n      <List className={classes.list}>\r\n      {users && (\r\n        <React.Fragment>\r\n          {users.map((u) => (\r\n            <div>\r\n            <ListItem\r\n              className={classes.listItem}\r\n              button\r\n            >\r\n             <ListItemAvatar>\r\n             <Avatar className={classes.globe}>\r\n                <FaceIcon/>\r\n              </Avatar>\r\n            </ListItemAvatar> \r\n              <ListItemText onClick={() => userClickHandler(u)}>\r\n                <Typography className={classes.listText}>{u.firstName}&nbsp;{u.lastName}</Typography>\r\n                <Typography className={classes.listText1}>{u.email}</Typography>\r\n              </ListItemText>\r\n              {/* show ? \r\n              <Button onClick = {() => addGroupMember(u.email)} variant=\"contained\" color=\"primary\">\r\n                Add\r\n              </Button>\r\n              : null */}\r\n              <Button variant=\"contained\" className={classes.listBtn}\r\n              onClick={viewButtonHandler}>View</Button>\r\n            </ListItem>\r\n            <Divider/> \r\n            \r\n            </div>\r\n          ))}\r\n          {/* show ? \r\n              <div>\r\n                <TextField onChange = {nameHandler} id=\"standard-basic\" label=\"Group Name\" />\r\n                <Button onClick = {createGroup} variant=\"contained\" color=\"primary\">\r\n                  Create\r\n                </Button>\r\n                </div>\r\n          : null*/ }\r\n          \r\n        </React.Fragment>\r\n      )}\r\n    </List>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default Users;\r\n",["253","254"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\notFound.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\profileSetup.js",["255","256","257"],"import React, { useState, useEffect } from \"react\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport Select from \"react-select\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport { grey, cyan} from '@material-ui/core/colors';\r\nimport {Button} from \"@material-ui/core\";\r\nimport axios from 'axios';\r\nimport accountService from \"../../../services/accountService\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Webcam from \"react-webcam\";\r\nconst useStyles = makeStyles({\r\n  \r\n  textfield: {\r\n    marginTop: \"2rem\",\r\n  },\r\n  Submitbtn: {\r\n    marginTop: \"0.6rem\",\r\n  },\r\n});\r\n\r\n\r\n\r\nconst ProfileSetup = ( {match}) => {\r\n    const classes = useStyles();\r\n      let history = useHistory();\r\n    const webcamRef = React.useRef(null);\r\n    const [capturedPic, setCapturedPic]=React.useState(false);\r\nconst options = [\r\n  { label: 'Afrikaans',value:'af' },\r\n  { label: 'Albanian',value:'sq'},\r\n  { label: 'Amharic',value:'am'},\r\n  { label: 'Arabic',value:'ar'},\r\n  { label: 'Armenian',value:'hy'},\r\n  { label: 'Azerbaijani',value:'az'},\r\n  { label: 'Basque',value:'eu'},\r\n  { label: 'Belarusian',value:'be'},\r\n  { label: 'Bengali',value:'bn'},\r\n  { label: 'Bosnian',value:'bs'},\r\n  { label: 'Bulgarian',value:'bg'},\r\n  { label: 'Catalan',value:'ca'},\r\n  { label: 'Cebuano',value:'ceb'},\r\n  { label: 'Chichewa',value:'ny'},\r\n  { label: 'Chinese',value:'zh-cn'},\r\n  { label: 'Corsican',value:'co'},\r\n  { label: 'Croatian',value:'hr'},\r\n  { label: 'Czech',value:'cs'},\r\n  { label: 'Danish',value:'da'},\r\n  { label: 'Dutch',value:'nl'},\r\n  { label: 'English',value:'en'},\r\n  { label: 'Esperanto',value:'eo'},\r\n  { label: 'Estonian',value:'et'},\r\n  { label: 'Filipino',value:'tl'},\r\n  { label: 'Finnish',value:'fi'},\r\n  { label: 'French',value:'fr'},\r\n  { label: 'Danish',value:'da'},\r\n  {label: 'Frisian',value: \"fy\"},\r\n  {label: 'Galician',value: \"gl\"},\r\n  {label: 'Georgian',value: \"ka\"},\r\n  {label: 'German',value: \"de\"},\r\n  {label: 'Greek',value: \"el\"},\r\n  {label: 'Gujarati',value: \"gu\"},\r\n  {label: 'Haitian creole',value: \"ht\"},\r\n  {label:'Hausa',value: \"ha\"},\r\n  {label:'Hawaiian',value: \"haw\"},\r\n  {label:'Hebrew',value: \"iw\"},\r\n  {label: 'Hindi',value: \"hi\"},\r\n  {label:'Hmong',value: \"hmn\"},\r\n  {label:'Hungarian',value: \"hu\"},\r\n  {label:'Icelandic',value: \"is\"},\r\n  {label:'Igbo',value: \"ig\"},\r\n  {label:'Indonesian',value: \"id\"},\r\n  {label:'Irish',value: \"ga\"},\r\n  {label:'Italian',value: \"it\"},\r\n  {label:'Japanese',value: \"ja\"},\r\n  {label:'Javanese',value: \"jw\"},\r\n  {label:'Kannada',value: \"kn\"},\r\n  {label:'Kazakh',value: \"kk\"},\r\n  {label:'Khmer',value:'km'},\r\n  {label:'Korean',value:'ko'},\r\n  {label:'Kurdish',value:'ku'},\r\n  {label: 'Kyrgyz',value: \"ky\"},\r\n  {label: 'Lao',value: \"lo\"},\r\n  {label: 'Latin',value: \"la\"},\r\n  {label: 'Latvian',value: \"lv\"},\r\n  {label: 'Lithuanian',value: \"lt\"},\r\n  {label: 'Luxembourgish',value: \"lb\"},\r\n  {label: 'Macedonian',value: \"mk\"},\r\n  {label:'Malagasy',value: \"mg\"},\r\n  {label:'Malay',value: \"ms\"},\r\n  {label:'Malayalam',value: \"ml\"},\r\n  {label: 'Maltese',value: \"mt\"},\r\n  {label:'Maori',value: \"mi\"},\r\n  {label:'Marathi',value: \"mr\"},\r\n  {label:'Mongolian',value: \"mn\"},\r\n  {label:'Myanmar (burmese)',value: \"my\"},\r\n  {label:'Nepali',value: \"ne\"},\r\n  {label:'Norwegian',value: \"no\"},\r\n  {label:'Odia',value: \"or\"},\r\n  {label:'Pashto',value: \"ps\"},\r\n  {label:'Persian',value: \"fa\"},\r\n  {label:'Polish',value: \"pl\"},\r\n  {label:'Portuguese',value: \"pt\"},\r\n  {label:'Punjabi',value: \"pa\"},\r\n  {label :'Romanian', value:\"ro\"},\r\n  {label :'Russian', value:\"ru\"},\r\n  {label:'Samoan',value: \"sm\"},\r\n  {label:'Scots gaelic',value: \"gd\"},\r\n  {label:'Serbian',value: \"sr\"},\r\n  {label:'Sesotho',value: \"st\"},\r\n  {label:'Shona',value: \"sn\"},\r\n  {label:'Sindhi',value: \"sd\"},\r\n  {label:'Sinhala',value: \"si\"},\r\n  {label:'Slovak',value: \"sk\"},\r\n  {label:'Slovenian', value:\"sl\"},\r\n  {label:'Somali', value:\"so\"},\r\n  {label:'Spanish', value:'es' },\r\n  {label:'Sundanese',value: \"su\"},\r\n  {label:'Swahili',value: \"sw\"},\r\n  {label:'Swedish',value: \"sv\"},\r\n  {label:'Tajik',value: \"tg\"},\r\n  {label:'Tamil',value: \"ta\"},\r\n  {label:'Telugu',value: \"te\"},\r\n  {label:'Thai',value: \"th\"},\r\n  {label:'Turkish',value: \"tr\"},\r\n  {label :'Ukrainian', value:\"uk\"},\r\n  {label:'Urdu',value: \"ur\"},\r\n  {label :'Uyghur', value:\"ug\"},\r\n  {label:'Uzbek', value:'uz' },\r\n  {label:'Vietnamese',value: \"vi\"},\r\n  {label :'Welsh', value:\"cy\"},\r\n  {label:'Xhosa',value: \"xh\"},\r\n  {label :'Yiddish', value:\"yi\"},\r\n  {label:'Yoruba', value:'yo' },\r\n  {label:'Zulu',value: \"zu\"},\r\n  \r\n];\r\n    const [values, setValues] = useState({\r\n    img: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\",\r\n    language:\"\",\r\n    token:\"\",\r\n    errorMessage: \"\",\r\n    successMsg:\"\",\r\n    infoMessage:\"\",\r\n    loading: false,\r\n  });\r\n  const { img,language,token, successMsg, errorMessage,infoMessage, loading } = values;\r\nuseEffect(() => {\r\n        let token = match.params.token\r\n        if(token) {\r\n            setValues({...values, token})\r\n        }\r\n    }, [])\r\n\r\nconst resizeFile = (file) => new Promise(resolve => {\r\n    Resizer.imageFileResizer(file, 300, 300, 'JPEG', 100, 0,\r\n    uri => {resolve(uri);},'base64' );\r\n});\r\nconst capture =  React.useCallback(() => {\r\n   try{\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n       setValues({...values, infoMessage: \"Picture Captured\"}); \r\n       const data = new FormData();\r\n      data.append(\"file\", imageSrc);\r\n      axios.post(\"http://127.0.0.1:5000/webcam-face-detection\",data)\r\n         .then(async (response) => {\r\n          setValues({ ...values , errorMessage :\"\", successMsg:response.data.successMessage})\r\n           setValues({...values, infoMessage: \"Loading....\"});\r\n           data.append(\"file\", imageSrc);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n          fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"POST\",\r\n                body: data,\r\n             } ).then(response => response.json())\r\n      .then(data =>   setValues({ ...values , img: data.url}))\r\n      .catch(err => console.error('Error:', err));;   \r\n          })\r\n         }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n   \r\n    },\r\n    [webcamRef]\r\n  );\r\n const uploadImage = async (e) => {\r\n  try {\r\n           const imageFile = e.target.files[0];\r\n           const data = new FormData();\r\n           data.append(\"file\", imageFile);\r\n           axios.post(\"http://127.0.0.1:5000/\",data)\r\n         .then(async (response) => {\r\n         setValues({ ...values , errorMessage :\"\", successMsg:\"response.data.successMessage\"})\r\n            const compressedImage = await resizeFile(imageFile);\r\n           setValues({...values, infoMessage: \"Loading....\"});\r\n           data.append(\"file\", compressedImage);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n           const res = await fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"POST\",\r\n                body: data,\r\n             } );   \r\n           const file =  await res.json();\r\n           setValues({ ...values , img: file.secure_url});\r\n        })\r\n        .catch((err) => {\r\n            setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n      }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n}\r\nconst SetProfile =()=>{\r\n  accountService.profileSetup({profileImg: img, langPreference: language, token})\r\n .then((response) => {\r\n          setValues({\r\n            ...values,\r\n            img: \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png\",\r\n            language:\"\",\r\n            errorMessage: false,\r\n            successMsg: response.successMessage,\r\n            loading: false,\r\n          });\r\n        })\r\n         .catch((err) => {\r\n           setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n}\r\n \r\n  const ProfilePage = () =>( \r\n  <div className=\"profile-page\">\r\n      <div className=\"profile-container\">\r\n          <div className=\"img-holder\">\r\n             <img src={img} className=\"profile-img\"/>\r\n              </div>\r\n             <input type=\"file\" accept=\"image/*\" name=\"image-upload\" id=\"input\" onChange={uploadImage}  />\r\n             <div className=\"label\">\r\n                   <label className=\"image-upload\" htmlFor=\"input\">\r\n\t\t\t\t\t\t<i className=\"material-icons\">add_photo_alternate</i>\r\n\t\t\t\t\t\tChoose Profile Photo\r\n\t\t\t\t\t</label>\r\n                 </div>\r\n                 <div className=\"label\">   \r\n             <button className=\"take-photo loginbtn\"  data-toggle=\"modal\" data-target=\"#exampleModalCenter\" onClick={()=>setCapturedPic(false)}>\r\n               <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>photo_camera</i>\r\n               Take Photo</button> \r\n              </div> \r\n              <Select\r\n                    style={{ width: 210, padding: \"0.4rem\" }}\r\n                    placeholder=\"Select Language ---\"\r\n                    value={options.find(c => c.label === language)}\r\n                    className={classes.textfield}\r\n                    options={options}\r\n                    onChange={(e) => {\r\n                      console.log(e)\r\n                      setValues({\r\n                        ...values,\r\n                        language:e.value ,\r\n                      });\r\n                      \r\n                    }}\r\n                  />\r\n                   <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"0.5rem\" , \r\n              marginTop: \"1.5rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={SetProfile}\r\n            \r\n          >\r\n            Set Profile\r\n          </Button>\r\n                   {successMsg &&  <Button\r\n                     style={{  \r\n                     backgroundColor:grey[500],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"outline\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/login')}\r\n                  >\r\n                      Login\r\n                  </Button>}\r\n      </div> \r\n         \r\n     \r\n \r\n\r\n \r\n<div className=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n    <div className=\"modal-content\">\r\n      <div className=\"modal-header\">\r\n        <h3 className=\"modal-title\" id=\"exampleModalLongTitle\">Take Photo</h3>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div className=\"modal-body\">\r\n        <div  className=\"webcam-container\">\r\n         <Webcam  \r\n        audio={false}\r\n        height= {200}\r\n       width ={460}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\" />\r\n        </div>\r\n      </div>\r\n       \r\n        {capturedPic ? (<div className=\"modal-footer\"> \r\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n        </div> ):\r\n        (<div className=\"modal-footer\"> \r\n        <button  className=\"take-photo loginbtn\" onClick ={capture}>\r\n          <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>\r\n            photo_camera</i>Capture photo</button> </div>)\r\n        }\r\n    </div>\r\n  </div>\r\n</div>             \r\n  </div>\r\n)\r\nreturn (<div>\r\n    \r\n    {loading && <LinearBuffer />}\r\n     <PageTitle name= {\"Profile Setup\"}/>\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={3000} />\r\n      )}\r\n       {infoMessage && (\r\n        <AlertBar type=\"info\" message={infoMessage} autoClose={8000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={2500} />\r\n      )}\r\n      {ProfilePage()}\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default ProfileSetup;\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SignUp.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriendRequest.js",["258","259","260","261"],"import React, { useEffect, useContext, useRef,useState } from \"react\";\r\nimport SingleFriendRequest from \"./SingleFriendRequest\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport { Button, Grid,InputAdornment, TextField  } from \"@material-ui/core\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Header from \"./Header\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport io from \"socket.io-client\";\r\n \r\nconst AllFriendRequest = ({match}) => {\r\n     const myId=isAuthenticated()._id;\r\n     const [friendreqs, setFrndRequest] =React.useState([]);\r\n      const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const onChangeSearch = (event) => \r\n        setSearchTerm(event.currentTarget.value)\r\n     let clientSocket1 = useRef()\r\n     let userEmail = isAuthenticated().email\r\n     const {setSocket,roomJoin,messageEvent,friendReq} = useContext(SocketContext);\r\n     let roomId = useRef()\r\n     roomId.current = '/'+match.params.id\r\n     let history = useHistory()\r\n\r\n     window.onload = () => {\r\n        friendReq()\r\n       messageEvent()\r\n      let did = JSON.parse(localStorage.getItem('user'))._id\r\n      roomJoin(did)\r\n      clientSocket1 = io(\"http://127.0.0.1:5000\")\r\n      setSocket((s)=>{\r\n        s = clientSocket1\r\n        s.on('connect' , () => {\r\n          console.log(\"connected\",s.id);\r\n          s.emit(\"adduser\",{id:s.id, name: userEmail.current})\r\n          \r\n        });\r\n        return s;\r\n      })\r\n    };\r\n\r\n     const getFriendRequest = () => \r\n     {\r\n      friendService.getFriendRequest(myId).then((data)=>{\r\n                setFrndRequest(data)})\r\n            .catch((err=>{console.log(err)}))\r\n     }\r\n    useEffect(getFriendRequest , []);\r\n\r\n    useEffect(()=>{\r\n      //roomJoin(myId)\r\n      \r\n     },[])\r\n\r\n   /*  useEffect(()=>{\r\n      if(clientSocket){\r\n        clientSocket.emit(\r\n          \"myChatsRoom\",\r\n          { myChatsRoom : roomId.current},\r\n          ({error,room}) => {\r\n            if (!error) {\r\n              console.log(\"joined room with id\", room);\r\n            } else {\r\n              console.log(\"error joining room\", error);\r\n            }\r\n          }\r\n        );\r\n      }\r\n     },[]) */\r\n\r\n     return ( \r\n    <div  style={{height:\"100vh\"}} className=\"back_divs\">\r\n      <Header/>\r\n      <PageTitle name= {\"Friend Requests\"}/>\r\n      {\r\n      friendreqs.length === 0 ? \r\n        ( <div style= {{textAlign: \"center\",height:\"100vh\",\r\n    padding: \"6rem\", fontWeight:\"bold\"}}>No Friend Request</div>) \r\n        :\r\n        (\r\n          <div>\r\n        <Grid container   style={{marginTop:\"0.9rem\" }}>\r\n          <Grid item xs ={1} md={3}> </Grid>\r\n          <Grid item xs ={10} md={6}>\r\n            <Grid container   style={{marginBottom:\"1rem\" }}>\r\n          <Grid item xs ={0} md={7}> </Grid>\r\n          <Grid item xs ={12} md={5}  >\r\n            <TextField\r\n                value={searchTerm}\r\n                onChange={onChangeSearch}\r\n                placeholder=\"Search by typing name\"\r\n                 \r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n             <SearchIcon style={{ color: \"black\" ,marginRight:\"0.4rem\",float:\"right\"}}/>\r\n            </InputAdornment>\r\n          ),\r\n         }}\r\n            />\r\n            </Grid>\r\n              \r\n            </Grid>\r\n          {\r\n          friendreqs.filter((friendreq)=>{\r\n             if(searchTerm == \"\") return friendreq\r\n             else if (friendreq.name.toLowerCase().startsWith(searchTerm.toLowerCase()))\r\n                return friendreq\r\n           }).map((friendreq, index) => (\r\n               <SingleFriendRequest key={index} friendreq={friendreq} onAcceptReject={getFriendRequest}/> )\r\n          )}\r\n          <Button className= \"loginbtn\"\r\n            style={{textTransform:\"capitalize\",float:\"left\"}}\r\n            variant=\"outlined\" \r\n            color=\"Primary\"\r\n            onClick={event =>  history.push('/all-contacts/'+myId)}><ArrowBackIcon/> Back\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={1}   md={3}></Grid>\r\n        </Grid>\r\n        </div> )\r\n         \r\n      }\r\n       \r\n    </div> );\r\n\r\n}\r\nexport default AllFriendRequest;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\updateProfileSetup.js",["262","263","264","265","266"],"import React, { useState, useEffect,useContext, useRef } from \"react\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport Select from \"react-select\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport { grey, cyan} from '@material-ui/core/colors';\r\nimport {Button} from \"@material-ui/core\";\r\nimport Header from \"./Header\";\r\nimport axios from 'axios';\r\nimport accountService from \"../../../services/accountService\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\n import {SocketContext} from '../../../context/SocketContext';\r\nimport io from \"socket.io-client\";\r\nimport Webcam from \"react-webcam\";\r\nconst useStyles = makeStyles({\r\n  \r\n  textfield: {\r\n    marginTop: \"2rem\",\r\n  },\r\n  Submitbtn: {\r\n    marginTop: \"0.6rem\",\r\n  },\r\n});\r\n\r\n\r\n\r\nconst UpdateProfileSetup = ( ) => {\r\n    const classes = useStyles();\r\n    const myId=isAuthenticated()._id;\r\n    let uId = JSON.parse(localStorage.getItem(\"user\")).email;\r\n    const {setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n    let clientSocket1 = useRef()\r\n    const webcamRef = React.useRef(null);\r\n    const [capturedPic, setCapturedPic]=React.useState(false);\r\n     \r\nconst options = [\r\n  { label: 'Afrikaans',value:'af' },\r\n  { label: 'Albanian',value:'sq'},\r\n  { label: 'Amharic',value:'am'},\r\n  { label: 'Arabic',value:'ar'},\r\n  { label: 'Armenian',value:'hy'},\r\n  { label: 'Azerbaijani',value:'az'},\r\n  { label: 'Basque',value:'eu'},\r\n  { label: 'Belarusian',value:'be'},\r\n  { label: 'Bengali',value:'bn'},\r\n  { label: 'Bosnian',value:'bs'},\r\n  { label: 'Bulgarian',value:'bg'},\r\n  { label: 'Catalan',value:'ca'},\r\n  { label: 'Cebuano',value:'ceb'},\r\n  { label: 'Chichewa',value:'ny'},\r\n  { label: 'Chinese',value:'zh-cn'},\r\n  { label: 'Corsican',value:'co'},\r\n  { label: 'Croatian',value:'hr'},\r\n  { label: 'Czech',value:'cs'},\r\n  { label: 'Danish',value:'da'},\r\n  { label: 'Dutch',value:'nl'},\r\n  { label: 'English',value:'en'},\r\n  { label: 'Esperanto',value:'eo'},\r\n  { label: 'Estonian',value:'et'},\r\n  { label: 'Filipino',value:'tl'},\r\n  { label: 'Finnish',value:'fi'},\r\n  { label: 'French',value:'fr'},\r\n  { label: 'Danish',value:'da'},\r\n  {label: 'Frisian',value: \"fy\"},\r\n  {label: 'Galician',value: \"gl\"},\r\n  {label: 'Georgian',value: \"ka\"},\r\n  {label: 'German',value: \"de\"},\r\n  {label: 'Greek',value: \"el\"},\r\n  {label: 'Gujarati',value: \"gu\"},\r\n  {label: 'Haitian creole',value: \"ht\"},\r\n  {label:'Hausa',value: \"ha\"},\r\n  {label:'Hawaiian',value: \"haw\"},\r\n  {label:'Hebrew',value: \"iw\"},\r\n  {label: 'Hindi',value: \"hi\"},\r\n  {label:'Hmong',value: \"hmn\"},\r\n  {label:'Hungarian',value: \"hu\"},\r\n  {label:'Icelandic',value: \"is\"},\r\n  {label:'Igbo',value: \"ig\"},\r\n  {label:'Indonesian',value: \"id\"},\r\n  {label:'Irish',value: \"ga\"},\r\n  {label:'Italian',value: \"it\"},\r\n  {label:'Japanese',value: \"ja\"},\r\n  {label:'Javanese',value: \"jw\"},\r\n  {label:'Kannada',value: \"kn\"},\r\n  {label:'Kazakh',value: \"kk\"},\r\n  {label:'Khmer',value:'km'},\r\n  {label:'Korean',value:'ko'},\r\n  {label:'Kurdish',value:'ku'},\r\n  {label: 'Kyrgyz',value: \"ky\"},\r\n  {label: 'Lao',value: \"lo\"},\r\n  {label: 'Latin',value: \"la\"},\r\n  {label: 'Latvian',value: \"lv\"},\r\n  {label: 'Lithuanian',value: \"lt\"},\r\n  {label: 'Luxembourgish',value: \"lb\"},\r\n  {label: 'Macedonian',value: \"mk\"},\r\n  {label:'Malagasy',value: \"mg\"},\r\n  {label:'Malay',value: \"ms\"},\r\n  {label:'Malayalam',value: \"ml\"},\r\n  {label: 'Maltese',value: \"mt\"},\r\n  {label:'Maori',value: \"mi\"},\r\n  {label:'Marathi',value: \"mr\"},\r\n  {label:'Mongolian',value: \"mn\"},\r\n  {label:'Myanmar (burmese)',value: \"my\"},\r\n  {label:'Nepali',value: \"ne\"},\r\n  {label:'Norwegian',value: \"no\"},\r\n  {label:'Odia',value: \"or\"},\r\n  {label:'Pashto',value: \"ps\"},\r\n  {label:'Persian',value: \"fa\"},\r\n  {label:'Polish',value: \"pl\"},\r\n  {label:'Portuguese',value: \"pt\"},\r\n  {label:'Punjabi',value: \"pa\"},\r\n  {label :'Romanian', value:\"ro\"},\r\n  {label :'Russian', value:\"ru\"},\r\n  {label:'Samoan',value: \"sm\"},\r\n  {label:'Scots gaelic',value: \"gd\"},\r\n  {label:'Serbian',value: \"sr\"},\r\n  {label:'Sesotho',value: \"st\"},\r\n  {label:'Shona',value: \"sn\"},\r\n  {label:'Sindhi',value: \"sd\"},\r\n  {label:'Sinhala',value: \"si\"},\r\n  {label:'Slovak',value: \"sk\"},\r\n  {label:'Slovenian', value:\"sl\"},\r\n  {label:'Somali', value:\"so\"},\r\n  {label:'Spanish', value:'es' },\r\n  {label:'Sundanese',value: \"su\"},\r\n  {label:'Swahili',value: \"sw\"},\r\n  {label:'Swedish',value: \"sv\"},\r\n  {label:'Tajik',value: \"tg\"},\r\n  {label:'Tamil',value: \"ta\"},\r\n  {label:'Telugu',value: \"te\"},\r\n  {label:'Thai',value: \"th\"},\r\n  {label:'Turkish',value: \"tr\"},\r\n  {label :'Ukrainian', value:\"uk\"},\r\n  {label:'Urdu',value: \"ur\"},\r\n  {label :'Uyghur', value:\"ug\"},\r\n  {label:'Uzbek', value:'uz' },\r\n  {label:'Vietnamese',value: \"vi\"},\r\n  {label :'Welsh', value:\"cy\"},\r\n  {label:'Xhosa',value: \"xh\"},\r\n  {label :'Yiddish', value:\"yi\"},\r\n  {label:'Yoruba', value:'yo' },\r\n  {label:'Zulu',value: \"zu\"},\r\n  \r\n];\r\n \r\n    const [values, setValues] = useState({\r\n    img: \"\",\r\n    language:\"\",\r\n    errorMessage: \"\",\r\n    successMsg:\"\",\r\n    infoMessage:\"\",\r\n    loading: false,\r\n  });\r\n  const { img,language, successMsg, errorMessage,infoMessage, loading } = values;\r\n   window.onload = () => {\r\n    friendReq()\r\n    messageEvent()\r\n    let did = JSON.parse(localStorage.getItem('user'))._id\r\n    roomJoin(did)\r\n    clientSocket1 = io(\"http://127.0.0.1:5000\")\r\n    setSocket((s)=>{\r\n      s = clientSocket1\r\n      s.on('connect' , () => {\r\n        console.log(\"connected\",s.id);\r\n        s.emit(\"adduser\",{id:s.id, name: uId})\r\n\r\n      });\r\n      return s;\r\n    })\r\n  };\r\n\r\n useEffect(() => {\r\n     accountService.getMyAccount(myId).then((data) => {\r\n     setValues({ ...values , img: data.profileImg, language:data.langPreference});\r\n    }) .catch((err) => {\r\n           setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n  }, []);\r\n\r\nconst resizeFile = (file) => new Promise(resolve => {\r\n    Resizer.imageFileResizer(file, 300, 300, 'JPEG', 100, 0,\r\n    uri => {resolve(uri);},'base64' );\r\n});\r\nconst capture =  React.useCallback(() => {\r\n   try{\r\n      const imageSrc = webcamRef.current.getScreenshot();\r\n       setValues({...values, infoMessage: \"Picture Captured\"}); \r\n       setCapturedPic(true);\r\n       const data = new FormData();\r\n       data.append(\"file\", imageSrc);\r\n       axios.post(\"http://127.0.0.1:5000/webcam-face-detection\",data)\r\n         .then(async (response) => {\r\n          setValues({ ...values , errorMessage :\"\", successMsg:response.data.successMessage})\r\n           setValues({...values, infoMessage: \"Loading.... \"});\r\n           data.append(\"file\", imageSrc);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n          fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"PUT\",\r\n                body: data,\r\n             } ).then(response => response.json())\r\n      .then(data =>   setValues({ ...values , img: data.url}))\r\n      .catch(err => console.error('Error:', err));;   \r\n           }\r\n        )\r\n         }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n    \r\n    },\r\n    [webcamRef]\r\n  );\r\n const uploadImage = async (e) => {\r\n  try {\r\n           const imageFile = e.target.files[0];\r\n           const data = new FormData();\r\n           data.append(\"file\", imageFile);\r\n           axios.post(\"http://127.0.0.1:5000/\",data).\r\n           then(async (response) => {\r\n           setValues({ ...values , errorMessage :\"\", successMsg:response.data.successMessage})\r\n            const compressedImage = await resizeFile(imageFile);\r\n           setValues({...values, infoMessage: \"Loading....\"});\r\n           data.append(\"file\", compressedImage);\r\n           data.append(\"upload_preset\", \"TalkSee\");\r\n           const res = await fetch(\"https://api.cloudinary.com/v1_1/fariha31/image/upload\",\r\n              { method: \"PUT\",\r\n                body: data,\r\n             } );   \r\n           const file =  await res.json();\r\n           setValues({ ...values , img: file.secure_url});\r\n        })\r\n        .catch((err) => {\r\n            setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n      }\r\n catch(err)\r\n     {setValues({...values, errorMessage: \"error in uploading photo\"}); }\r\n}\r\nconst updateProfile =()=>{\r\n  accountService.updateProfileSetup(myId,{profileImg: img, langPreference: language})\r\n .then((response) => {\r\n          localStorage.setItem(\"user\", JSON.stringify(response.userData));\r\n          setValues({\r\n            ...values,\r\n            errorMessage: false,\r\n            successMsg: response.successMessage,\r\n            loading: false,\r\n          });\r\n           \r\n        })\r\n         .catch((err) => {\r\n           setValues({ ...values , errorMessage:err.response.data.errorMessage}); \r\n        });\r\n}\r\n \r\n  const ProfilePage = () =>( \r\n  <div className=\"profile-page\">\r\n    \r\n      <div className=\"profile-container\">\r\n          <div className=\"img-holder\">\r\n             <img src={img} className=\"profile-img\"/>\r\n              </div>\r\n             <input type=\"file\" accept=\"image/*\" name=\"image-upload\" id=\"input\" onChange={uploadImage}  />\r\n             <div className=\"label\">\r\n            <label className=\"image-upload\" htmlFor=\"input\">\r\n\t\t\t\t\t\t<i className=\"material-icons\">add_photo_alternate</i>\r\n\t\t\t\t\t\tChoose Profile Photo\r\n\t\t\t\t\t</label>\r\n                 </div> \r\n             <div className=\"label\">   \r\n             <button className=\"take-photo loginbtn\"  data-toggle=\"modal\" data-target=\"#exampleModalCenter\" onClick={()=>setCapturedPic(false)}>\r\n               <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>photo_camera</i>\r\n               Take Photo</button> \r\n              </div>\r\n              <Select\r\n                    style={{ width: 210, padding: \"0.4rem\" }}\r\n                    placeholder=\"Select Language ---\"\r\n                    value={options.find(c => c.value === language)}\r\n                    className={classes.textfield}\r\n                    options={options}\r\n                    onChange={(e) => { \r\n                      setValues({\r\n                        ...values,\r\n                        language:e.value ,\r\n                      });\r\n                      \r\n                    }}\r\n                  />\r\n                   <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"0.5rem\" , \r\n              marginTop: \"1rem\",\r\n              marginBottom: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={updateProfile}\r\n            \r\n          >\r\n            Update Profile\r\n          </Button>\r\n                   \r\n      </div> \r\n                \r\n  \r\n<div className=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n  <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n    <div className=\"modal-content\">\r\n      <div className=\"modal-header\">\r\n        <h3 className=\"modal-title\" id=\"exampleModalLongTitle\">Take Photo</h3>\r\n        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div className=\"modal-body\">\r\n        <div  className=\"webcam-container\">\r\n         <Webcam  \r\n        audio={false}\r\n        height= {200}\r\n       width ={460}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\" />\r\n        </div>\r\n      </div>\r\n       \r\n        {capturedPic ? (<div className=\"modal-footer\"> \r\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n        </div> ):\r\n        (<div className=\"modal-footer\"> \r\n        <button  className=\"take-photo loginbtn\" onClick ={capture}>\r\n          <i className=\"material-icons\" style ={{marginRight:\"0.2rem\"}}>\r\n            photo_camera</i>Capture photo</button> </div>)\r\n        }\r\n    </div>\r\n  </div>\r\n</div>             \r\n  </div>\r\n)\r\nreturn (<div>\r\n    \r\n    {loading && <LinearBuffer />}\r\n    <Header/>\r\n     <PageTitle name= {\"Update Profile \"}/>\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={3000} />\r\n      )}\r\n       {infoMessage && (\r\n        <AlertBar type=\"info\" message={infoMessage} autoClose={8000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={2500} />\r\n      )}\r\n      {ProfilePage()}\r\n    </div>\r\n    )\r\n};\r\n\r\nexport default UpdateProfileSetup;\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllContacts.js",["267"],"import React, { useEffect, useContext, useRef,useState } from \"react\";\r\nimport SingleContact from \"./SingleContact\";\r\nimport contactService from \"../../../services/contactService\";\r\nimport { Button, Grid ,InputAdornment, TextField} from \"@material-ui/core\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport io from \"socket.io-client\";\r\nimport Header from \"./Header\";\r\nimport { grey } from '@material-ui/core/colors';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst AllContact = ({match}) => {\r\n    const myId=isAuthenticated()._id;\r\n    let userEmail = isAuthenticated().email;\r\n    let history = useHistory()\r\n     const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const onChangeSearch = (event) => \r\n        setSearchTerm(event.currentTarget.value)\r\n    const [contacts, setContacts] = React.useState([]);\r\n    let roomId = useRef()\r\n    let clientSocket1 = useRef()\r\n    roomId.current = '/'+match.params.id\r\n    const {setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n    window.onload = () => {\r\n       friendReq()\r\n      messageEvent()\r\n      let did = JSON.parse(localStorage.getItem('user'))._id\r\n      roomJoin(did)\r\n      clientSocket1 = io(\"http://127.0.0.1:5000\")\r\n      setSocket((s)=>{\r\n        s = clientSocket1\r\n        s.on('connect' , () => {\r\n          console.log(\"connected\",s.id);\r\n          s.emit(\"adduser\",{id:s.id, name: userEmail})\r\n          \r\n        });\r\n        return s;\r\n      })\r\n    };\r\n\r\n    const getData = () => {\r\n   friendService.getSentFriendRequest(myId)\r\n   .then((data)=>{\r\n      localStorage.setItem(\"user\",JSON.stringify(data));})\r\n   .catch((err=>{console.log(err)}))\r\n   }\r\n     \r\n  const getSingleContact = () => {\r\n    contactService.getSingleContact(myId)\r\n    .then((data) => { setContacts(data);})\r\n    .catch((err) => {console.log(err);});\r\n  };\r\n\r\n   useEffect(()=> {\r\n     getData();\r\n     getSingleContact();\r\n }, []);\r\n \r\n   useEffect(()=>{\r\n    //roomJoin(myId)\r\n    //messageEvent()\r\n   },[])\r\n    \r\n   \r\n    return ( \r\n    <div style={{height:\"100vh\"}} className=\"back_divs\"  >\r\n      <Header/>\r\n      <PageTitle name= {\"Add Friend\"}/>\r\n      {\r\n      contacts.length === 0 ? \r\n        ( <div style= {{textAlign: \"center\", height:\"100vh\",\r\n    padding: \"6rem\", fontWeight:\"bold\"}}>No User Found</div>) \r\n        :\r\n        (<div >\r\n          \r\n            <Grid container  style={{marginTop:\"0.9rem\"}}>\r\n          <Grid item xs ={1} md={2}> </Grid>\r\n          <Grid item xs ={10} md={8} >\r\n            <Grid container   style={{marginBottom:\"1rem\" }}>\r\n          <Grid item xs ={0} md={8}> </Grid>\r\n          <Grid item xs ={12} md={4}  >\r\n            <TextField\r\n                value={searchTerm}\r\n                onChange={onChangeSearch}\r\n                placeholder=\"Search by typing name\"\r\n                 \r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n             <SearchIcon style={{ color: \"black\" ,marginRight:\"0.4rem\",float:\"right\"}}/>\r\n            </InputAdornment>\r\n          ),\r\n         }}\r\n            />\r\n            </Grid>\r\n            </Grid>\r\n     \r\n           { contacts.filter((contact)=>{\r\n             if(searchTerm === \"\") return contact\r\n             else if (contact.firstName.toLowerCase().startsWith(searchTerm.toLowerCase()) || contact.lastName.toLowerCase().startsWith(searchTerm.toLowerCase()) )\r\n                return contact\r\n           }).map((contact, index) => {\r\n              return contact._id === myId ? \r\n              <div></div>\r\n            : <SingleContact key={index} contact={contact}  roomId={roomId.current}/>\r\n            } )\r\n          }\r\n           <Button className= \"loginbtn\"\r\n            style={{textTransform:\"capitalize\",float:\"right\"}}\r\n            variant=\"outlined\" \r\n            color=\"Primary\"\r\n            onClick={event =>  history.push('/all-friend-requests/'+myId)}> My Friend Requests</Button>\r\n        \r\n        <Button className= \"loginbtn\"\r\n            style={{textTransform:\"capitalize\",float:\"left\"}}\r\n            variant=\"outlined\" \r\n            color=\"Primary\"\r\n            onClick={event =>  history.push('/dashboard/'+myId)}><ArrowBackIcon/> Back\r\n            </Button>\r\n           </Grid>\r\n          <Grid item xs={1}   md={2}></Grid>\r\n        </Grid>\r\n         \r\n         \r\n       </div> )\r\n          }\r\n        \r\n        \r\n      )\r\n             \r\n    </div> );\r\n}\r\n \r\nexport default AllContact;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\AllFriends.js",["268","269","270","271","272","273"],"import React, { useEffect,useRef,useContext,useState } from \"react\";\r\nimport SingleFriend from \"./SingleFriend\";\r\nimport friendService from \"../../../services/friendService\";\r\nimport { Button, Grid,InputAdornment, TextField  } from \"@material-ui/core\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Header from \"./Header\";\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport {SocketContext} from '../../../context/SocketContext';\r\nimport {MyChatsContext} from '../../../context/MyChatsContext';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport io from \"socket.io-client\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst AllFriends = (props) => {\r\n     const myId=isAuthenticated()._id;\r\n     const [friends, setFriends] =React.useState([]);\r\n     let history = useHistory()\r\n      const [searchTerm, setSearchTerm] = useState(\"\");\r\n    const onChangeSearch = (event) => \r\n        setSearchTerm(event.currentTarget.value)\r\n     let clientSocket1 = useRef()\r\n      const {setSocket,roomJoin, messageEvent, friendReq} =  useContext(SocketContext);\r\n     let userEmail = useRef()\r\n     userEmail.current = JSON.parse(localStorage.getItem(\"user\")).email\r\n\r\n     window.onload = () => {\r\n         friendReq()\r\n       messageEvent()\r\n      let did = JSON.parse(localStorage.getItem('user'))._id\r\n      roomJoin(did)\r\n      clientSocket1 = io(\"http://127.0.0.1:5000\")\r\n      setSocket((s)=>{\r\n        s = clientSocket1\r\n        s.on('connect' , () => {\r\n          console.log(\"connected\",s.id);\r\n          s.emit(\"adduser\",{id:s.id, name: userEmail.current})\r\n          \r\n        });\r\n        return s;\r\n      })\r\n    };\r\n\r\n     const getAllMyFriends = () => \r\n     {\r\n       friendService.getAllFriends(myId)\r\n        .then((data)=>{\r\n         setFriends(data);})\r\n      .catch((err=>{console.log(err)}))\r\n   \r\n     }\r\n    useEffect(()=>{\r\n\r\n      getAllMyFriends()\r\n      \r\n    }, []);\r\n    useEffect(()=>{\r\n      //roomJoin(myId)\r\n      \r\n     },[])\r\n\r\n     useEffect(()=>{\r\n      //messageEvent()\r\n      \r\n     },[])\r\n\r\n    useEffect(()=>{\r\n      /* if(clientSocket!==null){\r\n        console.log(props.clientSocket)\r\n        clientSocket.emit(\"adduser\",{id:props.clientSocket.id, name: userEmail.current})\r\n      }\r\n      else{\r\n        console.log(\"no socket\")\r\n      }  */\r\n    },[])\r\n\r\n     return ( \r\n    <div style={{height:\"100vh\"}} className=\"back_divs\">\r\n      <Header/>\r\n      <PageTitle name= {\"My Friends\"}/>\r\n           \r\n   \r\n     {\r\n      friends.length === 0 ? \r\n        ( <div style= {{textAlign: \"center\",height:\"100vh\",\r\n    padding: \"6rem\", fontWeight:\"bold\"}}>No Friend Found</div>) \r\n        :\r\n        (\r\n          <div>\r\n             \r\n        <Grid container   style={{marginTop:\"0.9rem\", display :\"flex\"}}>\r\n          <Grid item xs ={1} md={3}> </Grid>\r\n          <Grid item xs ={10} md={6}>\r\n            <Grid container   style={{marginBottom:\"1rem\"}}>\r\n          <Grid item xs ={0} md={7}> </Grid>\r\n          <Grid item xs ={12} md={5}  >\r\n            <TextField\r\n                value={searchTerm}\r\n                onChange={onChangeSearch}\r\n                placeholder=\"Search by typing name\"\r\n                 \r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n             <SearchIcon style={{ color: \"black\" ,marginRight:\"0.4rem\",float:\"right\"}}/>\r\n            </InputAdornment>\r\n          ),\r\n         }}\r\n            />\r\n            </Grid>\r\n            </Grid>\r\n     \r\n          {\r\n          friends.filter((friend)=>{\r\n             if(searchTerm == \"\") return friend\r\n             else if (friend.name.toLowerCase().startsWith(searchTerm.toLowerCase()))\r\n                return friend\r\n           }).map((friend, index) => (\r\n               <SingleFriend key={index} friend={friend} onRemove={getAllMyFriends} /> )\r\n          )}\r\n            \r\n          </Grid>\r\n          <Grid item xs={1}   md={3}></Grid>\r\n        </Grid>\r\n         </div>)\r\n         \r\n      }\r\n       <Grid container   style={{display:\"flex\" ,marginBottom:\"0.9rem\"}}>\r\n          <Grid item xs ={1} md={3}> </Grid>\r\n          <Grid item xs ={10} md={6}>\r\n      \r\n <Button className= \"loginbtn\"\r\n            style={{textTransform:\"capitalize\",float:\"left\"}}\r\n            variant=\"outlined\" \r\n            color=\"Primary\"\r\n            onClick={event =>  history.push('/dashboard/'+myId)}><ArrowBackIcon/> Back\r\n            </Button>\r\n         </Grid>\r\n       <Grid item xs ={1} md={3}> </Grid>\r\n       </Grid>\r\n  \r\n      \r\n \r\n    </div> );\r\n\r\n}\r\nexport default AllFriends;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\LogIn.js",["274","275","276","277","278","279"],"import React, { useState, useEffect ,useContext} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from 'clsx';\r\nimport {\r\n  TextField,\r\n  Grid,\r\n  Button,\r\n  FormControl,\r\n  Input,\r\n  InputAdornment,\r\n  Typography,\r\n  Paper,\r\n  IconButton,\r\n  InputLabel\r\n} from \"@material-ui/core\";\r\nimport { grey, cyan} from '@material-ui/core/colors';\r\nimport EmailIcon from '@material-ui/icons/Email';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport isEmail from \"validator/lib/isEmail\";\r\nimport isEmpty from \"validator/lib/isEmpty\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport { login } from \"../api/auth\";\r\nimport PageTitle from \"./pageTitle\";\r\n//import { toast } from \"react-toastify\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport {SocketContext} from '../../../context/SocketContext';\r\n//import { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { authentication, isAuthenticated } from \"../clientStorages/auth\";\r\n \r\nconst useStyles = makeStyles((theme) => ({\r\n   textField: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  margin:{\r\n    marginBottom: theme.spacing(2),\r\n    \r\n  }\r\n}));\r\nconst LogIn = ({onIdSubmit,setId}) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const {setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n  let clientSocket1 = React.useRef()\r\n  useEffect(() => {\r\n    if (isAuthenticated() && isAuthenticated().role === 1)\r\n      history.push(\"/admin/dashboard\");\r\n    else if (isAuthenticated() && isAuthenticated().role === 0)\r\n      history.push(\"/user/dashboard\");\r\n     \r\n      \r\n  }, [history]);\r\n  /*window.onload = () => {\r\n    friendReq()\r\n    messageEvent()\r\n    let did = isAuthenticated()._id;\r\n    roomJoin(did)\r\n    clientSocket1 = io(\"http://127.0.0.1:5000\")\r\n    setSocket((s)=>{\r\n      s = clientSocket1\r\n      s.on('connect' , () => {\r\n        console.log(\"connected\",s.id);\r\n        s.emit(\"adduser\",{id:s.id, name: isAuthenticated().email})\r\n\r\n      });\r\n      return s;\r\n    })\r\n  }\r\n  */\r\n\r\n\r\n  useEffect(()=>{\r\n   friendReq()\r\n  },[])\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    errorMessage: \"\",\r\n    showPassword: false,\r\n    loading: false,\r\n  });\r\n  const { email, password, errorMessage, loading } = values;\r\n  const handleChange = (prop) => (event) => {\r\n    setValues({\r\n      ...values,\r\n      [prop]: event.target.value,\r\n      errorMessage: \"\",\r\n    });\r\n  };\r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n   const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n  const handleTextChange = (evt) => {\r\n    setValues({\r\n      ...values,\r\n      [evt.target.name]: evt.target.value,\r\n      errorMessage: \"\",\r\n    });\r\n  };\r\n  const Register = (event) => {\r\n    event.preventDefault();\r\n    if (isEmpty(email) || isEmpty(password)) {\r\n      setValues({ ...values, errorMessage: \"Both fields are required\" });\r\n    } else if (!isEmail(email)) {\r\n      setValues({ ...values, errorMessage: \"Invalid Email\" });\r\n    } else {\r\n      setValues({ ...values, loading: true });\r\n      const { email, password } = values;\r\n      const data = { email, password };\r\n\r\n      login(data)\r\n        .then((response) => {\r\n          authentication(response.data.token, response.data.user);\r\n          console.log(response)\r\n          if (isAuthenticated() && isAuthenticated().role === 1)\r\n            history.push(\"/dashboard/\"+isAuthenticated()._id);\r\n          else {\r\n        history.push(\"/dashboard/\"+isAuthenticated()._id);};\r\n          setValues({ ...values, loading: false });\r\n          console.log(isAuthenticated()._id)\r\n          setId(isAuthenticated()._id)\r\n        })\r\n        .catch((err) => {\r\n          setValues({\r\n            ...values,\r\n            password:\"\",\r\n            loading: false,\r\n            errorMessage: err.response.data.errorMessage,\r\n          });\r\n        });\r\n        //var id \r\n        onIdSubmit(email)\r\n        \r\n        console.log(\"email\",email)\r\n        //generateUU(uuidv4())\r\n    }\r\n  };\r\n  \r\n  const LogInForm = () => (\r\n    <div className=\"Login-container\">\r\n      <Grid container>\r\n        <Grid item xs={1} sm={3} md={4}></Grid>\r\n        <Grid item xs={10} sm={6} md={4}>\r\n           <Paper style={{padding: '30px 50px'}} > \r\n            <Grid container style={{textAlign:\"center\"}}>\r\n          <Grid item xs={6} >\r\n            <Link className=\"active-header\"  to=\"/login\">Sign In</Link>      \r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Link className=\"header\" to=\"/signup\">Sign Up</Link>\r\n          </Grid>\r\n\r\n        </Grid>\r\n           <TextField\r\n           className={classes.textField}\r\n           style={{marginTop:\"2rem\"}}\r\n            label={\r\n              <div> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> Email Address </Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\"}}>*</Typography>\r\n                  </div>\r\n                  }\r\n            id=\"email-field\"\r\n            name=\"email\"\r\n            value={values.email}\r\n            fullWidth\r\n            onChange={handleTextChange}\r\n             InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n             <EmailIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          ),\r\n         }}\r\n          />\r\n          \r\n         <FormControl className={clsx(classes.margin, classes.textField)} fullWidth>\r\n         <InputLabel htmlFor=\"standard-adornment-password\"> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\"}}>*</Typography>\r\n         </InputLabel>\r\n                    <Input\r\n            id=\"standard-adornment-password\"\r\n            type={values.showPassword ? 'text' : 'password'}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange('password')}\r\n              \r\n          startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <VpnKeyIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n        \r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n         </FormControl>\r\n            <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginBottom: \"1.2rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={Register}\r\n          >\r\n            Sign in\r\n          </Button>\r\n           <Link to=\"/forgot-password\" style={{textDecoration:\"none\",marginLeft:\"1rem auto\"}}  >Forgot Password?</Link>\r\n   </Paper>\r\n         </Grid>\r\n        <Grid item xs={1} sm={3} md={4}></Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n  return (\r\n    <div>\r\n      {loading && <LinearBuffer />}\r\n     \r\n             <PageTitle name= {\"TalkSee\"}/>\r\n      {LogInForm()}\r\n      \r\n     \r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={4000} />\r\n      )}\r\n       \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\resetPassword.js",["280"],"import React, { useState, useEffect } from \"react\";\r\nimport clsx from 'clsx';\r\nimport accountService from \"../../../services/accountService\";\r\nimport {\r\n  Grid,\r\n  Button,\r\n  InputAdornment,\r\n  InputLabel,\r\n  FormControl,\r\n  Input,\r\n  Paper,\r\n  IconButton,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\n import { grey, cyan,indigo} from '@material-ui/core/colors';\r\nimport isEmpty from \"validator/lib/isEmpty\";\r\nimport equals from \"validator/lib/equals\";\r\nimport LinearBuffer from \"../Alerts/ProgressBar\";\r\nimport AlertBar from \"../Alerts/AlertBar\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport PageTitle from \"./pageTitle\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n const useStyles = makeStyles((theme) => ({\r\n  textfield: {\r\n     margin: theme.spacing(1),\r\n  },\r\n   margin:{\r\n     marginTop: \"1.2rem\"\r\n   } \r\n}));\r\n\r\nconst ResetPassword = ({ match }) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const [values, setValues] = useState({\r\n    token: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    errorMessage: \"\",\r\n    successMsg: \"\",\r\n    showPassword: false,\r\n    showPassword1: false,\r\n    loading: false,\r\n  });\r\n  \r\n   const {\r\n    token,\r\n    password,\r\n    confirmPassword,\r\n    errorMessage,\r\n    successMsg,\r\n    loading,\r\n  } = values;\r\n\r\n    useEffect(() => {\r\n        let token = match.params.token\r\n        if(token) {\r\n            setValues({...values, token})\r\n        }\r\n    }, [])\r\n    const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n   const handleChange = (prop) => (event) => {\r\n    setValues({\r\n      ...values,\r\n      [prop]: event.target.value,\r\n      errorMessage: \"\",\r\n      successMsg: \"\",\r\n    });\r\n  };\r\n const handleClickShowPassword = () => {\r\n    setValues({ ...values, showPassword: !values.showPassword });\r\n  };\r\n  const handleClickShowConfirmPassword = () => {\r\n    setValues({ ...values, showPassword1: !values.showPassword1 });\r\n  };\r\n   const ResetPasswordBtn = (event) => {\r\n    event.preventDefault();\r\n    if (\r\n      isEmpty(password) ||\r\n      isEmpty(confirmPassword)\r\n    ) {\r\n      setValues({ ...values, errorMessage: \"All fields are required\" });\r\n    } else if (!equals(password, confirmPassword)) {\r\n      setValues({ ...values, errorMessage: \"Passwords do not match\" });\r\n    } else {\r\n  \r\n     \r\n      setValues({ ...values, loading: true });\r\n     accountService.resetPassword( { newPassword: password, resetPasswordLink: token})\r\n        .then((response) => {\r\n          setValues({\r\n            ...values,\r\n            password: \"\",\r\n            confirmPassword: \"\",\r\n            errorMessage: false,\r\n            successMsg: response.successMessage,\r\n            loading: false,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setValues({\r\n            ...values,\r\n             password: \"\",\r\n            confirmPassword: \"\",\r\n            loading: false,\r\n            errorMessage: err.response.data.errorMessage,\r\n          });\r\n        });\r\n    }\r\n  };\r\n     \r\n  const ResetPasswordForm=()=>(\r\n      \r\n    <Grid container >\r\n      <Grid item xs={1} sm={3} md={4}></Grid>\r\n        <Grid item xs={10} sm ={6} md={4}>\r\n          <Paper style={{padding: '30px 50px'}} >\r\n          <Button  \r\n            className= \"loginbtn\"\r\n            href=\"https://mail.google.com/mail/u/0/#inbox\"\r\n            color=\"primary\"\r\n           style={{marginBottom:\"2rem\" ,paddingLeft:\"0rem\",color:indigo[800]  }}\r\n          >\r\n           <ArrowBackIcon style={{fontWeight:\"bold\",marginRight:\"0.3rem\"}}/> Go Back\r\n          </Button>\r\n             <FormControl className={clsx( classes.textField)} fullWidth>\r\n         <InputLabel htmlFor=\"standard-adornment-password\"> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> New Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\" }}>*</Typography>\r\n         </InputLabel>\r\n                    <Input\r\n            id=\"standard-adornment-password\"\r\n            type={values.showPassword ? 'text' : 'password'}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={handleChange('password')}\r\n              \r\n          startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <LockIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n        \r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n         \r\n          <FormControl className={clsx(classes.margin, classes.textField)} fullWidth>\r\n                 <InputLabel htmlFor=\"standard-adornment-password\"> \r\n             <Typography variant=\"headline\" style={{fontWeight:\"bold\",fontStyle:\"italic\"  }}> Confirm Password</Typography>\r\n             <Typography variant=\"headline\" style={{color:\"red\",marginLeft:\"0.4rem\" }}>*</Typography>\r\n         </InputLabel>\r\n           <Input\r\n            id=\"standard-adornment-confirmPassword\"\r\n            type={values.showPassword1 ? 'text' : 'password'}\r\n            name=\"confirmPassword\"\r\n            value={values.confirmPassword}\r\n            onChange={handleChange('confirmPassword')}\r\n             startAdornment= {\r\n            <InputAdornment position=\"start\">\r\n             <VpnKeyIcon style={{ color: grey[600] }}/>\r\n            </InputAdornment>\r\n          }\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowConfirmPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {values.showPassword1 ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n    \r\n         <Button\r\n             style={{ color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n              }}\r\n            className= \"loginbtn\"\r\n            variant=\"contained\"\r\n            fullWidth\r\n            onClick={ResetPasswordBtn}\r\n          >\r\n            Reset Password \r\n          </Button>\r\n          {successMsg &&  <Button\r\n                     style={{  \r\n                     backgroundColor:grey[500],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\",\r\n               }}\r\n            className= \"loginbtn\"\r\n            variant=\"outline\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/login')}\r\n                  >\r\n                      Login\r\n                  </Button>}\r\n           </Paper>\r\n        </Grid>\r\n     <Grid item xs={1} sm={3} md={4}></Grid>\r\n    </Grid>\r\n       \r\n  );   \r\n  return (\r\n  <div>\r\n        {loading && <LinearBuffer />}\r\n      {errorMessage && (\r\n        <AlertBar type=\"error\" message={errorMessage} autoClose={4000} />\r\n      )}\r\n      {successMsg && (\r\n        <AlertBar type=\"success\" message={successMsg} autoClose={4000} />\r\n      )}\r\n       <PageTitle name= {\"Reset Password\"}/>\r\n      {ResetPasswordForm()}\r\n      \r\n  </div>)\r\n      }\r\nexport default ResetPassword;\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\forgotPassword.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Activate.js",["281","282"],"import React, { useState, useEffect } from 'react';\r\nimport accountService from \"../../../services/accountService\";\r\nimport jwt from 'jsonwebtoken';\r\nimport { grey,green, cyan,red} from '@material-ui/core/colors';\r\nimport {Button, Grid} from \"@material-ui/core\";\r\nimport CheckCircleRoundedIcon from '@material-ui/icons/CheckCircleRounded';\r\nimport CancelRoundedIcon from '@material-ui/icons/CancelRounded';\r\nimport PageTitle from \"./pageTitle\";\r\nimport { useHistory } from 'react-router-dom';\r\nconst Activate = ({ match }) => {\r\n let token1 = match.params.token;\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    token: '',\r\n    errorMessage: \"\",\r\n    successMsg: \"\",\r\n  });\r\n   const { firstName,lastName, token, errorMessage, successMsg} = formData;\r\n   let history = useHistory()\r\n  useEffect(() => {\r\n    let token = match.params.token;\r\n    let { firstName } = jwt.decode(token);\r\n    let { lastName } = jwt.decode(token);\r\n    if (token) {\r\n      setFormData({ ...formData, firstName,lastName,  token });  \r\n      accountService.accountActivation({token})\r\n      .then(response => {\r\n        setFormData({\r\n          ...formData,\r\n          errorMessage: false,\r\n          successMsg: response.successMessage,\r\n          firstName: response.firstName,\r\n          lastName: response.lastName,\r\n        });\r\n      })\r\n      .catch(err => {\r\n      setFormData({\r\n          ...formData,\r\n          successMsg: false,\r\n         errorMessage: err.response.data.errorMessage,\r\n          firstName: err.response.data.firstName,\r\n          lastName: err.response.data.lastName,\r\n        });\r\n      });\r\n    }}, [match.params]);\r\n     \r\n  \r\n  const ActivationSuccess=()=>(\r\n<div> \r\n  <Grid container > \r\n <Grid item xs={1} sm={3} md={4}></Grid>\r\n  <Grid item xs={1} sm={3} md={4}> \r\n  \r\n      <p><strong>Hi {firstName +\" \"+lastName}</strong></p>\r\n        <div>  <CheckCircleRoundedIcon \r\n              style = {{ color: green[600],paddingTop:\"0.3rem\" }}/>  \r\n           <span style ={{fontSize:\"1.3rem\"}} > Your account has been successfully verified. Click below to create your profile</span></div>\r\n      <Button\r\n             style={{ \r\n               color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\" }}\r\n              variant=\"contained\"\r\n              className= \"loginbtn\"\r\n              onClick={event =>  history.push('/profile-setup/'+token1)}\r\n             \r\n          >\r\n            Create Profile\r\n          </Button>\r\n          </Grid>\r\n          <Grid item xs={1} sm={3} md={4}></Grid>\r\n          </Grid>\r\n   </div>\r\n\r\n\r\n  );\r\n   const ActivationFailure=()=>(\r\n<div> \r\n  <Grid container > \r\n <Grid item xs={1} sm={3} md={4}></Grid>\r\n  <Grid item xs={1} sm={3} md={4}> \r\n  \r\n      <p><strong>Hi {firstName+\" \"+lastName}</strong></p>\r\n        <div>  <CancelRoundedIcon \r\n              style = {{ color: red[600]  }}/>  \r\n           <span style ={{fontSize:\"1.3rem\"}} > <strong>{errorMessage}</strong> </span></div>\r\n      <Button\r\n             style={{ \r\n               color: grey[50],\r\n              backgroundColor:cyan[600],\r\n              fontWeight:\"bold\", \r\n              borderRadius:\"1rem\" , \r\n              marginTop: \"0.8rem\",\r\n              padding: \"0.5rem\" }}\r\n            variant=\"contained\"\r\n             className= \"loginbtn\"\r\n            onClick={event =>  history.push('/signup')}\r\n             \r\n          >\r\n               Try  Again   \r\n          </Button>\r\n          </Grid>\r\n          <Grid item xs={1} sm={3} md={4}></Grid>\r\n          </Grid>\r\n   </div>\r\n\r\n\r\n  );\r\n  return (\r\n  <div>\r\n        <PageTitle name= {\"Activation\"}/>\r\n       {errorMessage && ( ActivationFailure())}\r\n       {successMsg && (ActivationSuccess())}\r\n  </div>)\r\n      }\r\nexport default Activate;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\context\\ChatContext.js",["283","284","285","286","287"],"import React ,{createContext, useEffect} from 'react'\r\nimport chatservice from '../services/ChatService'\r\n//import {showNotification} from '../components/FrontendComponents/Alerts/showMessage'\r\n//import Notification from '../components/FrontendComponents/Alerts/Notification'\r\nimport { toast } from 'react-toastify';\r\nimport { Slide, Zoom, Flip, Bounce } from 'react-toastify';\r\nexport const ChatContext = createContext();\r\n\r\nexport const ChatContextProvider = ({userId,setMsg,children}) =>{\r\n    let elem = null\r\n    let msg = ''\r\n    useEffect(()=>{\r\n        getUnreadMsgs(userId)\r\n    },[userId])\r\n    const getUnreadMsgs =(email)=>{\r\n        chatservice.offlinemessages(email)\r\n        .then((res)=>{\r\n            if(res.count > 0){\r\n                console.log(\"count\",res.count)\r\n                msg = 'You have '+res.count+ ' new messages!'\r\n                /* elem = (\r\n                    <Notification msg = {msg}/>\r\n                ) */\r\n                //setMsg(msg)\r\n                if(res.info.sender[0] !== userId){\r\n                    console.log(\"sender\",res.info.sender)\r\n                    console.log(\"user\",userId)\r\n                toast.info(msg,{\r\n                position: toast.POSITION.TOP_LEFT,\r\n                transition: Zoom\r\n            })\r\n                }\r\n                else{\r\n                    console.log(\"is sender\")\r\n                }\r\n        \r\n            }\r\n        })\r\n        .catch((err)=>console.log(err))\r\n    }\r\n    \r\n    return (\r\n        <ChatContext.Provider value = {{getUnreadMsgs: getUnreadMsgs}}>\r\n        \r\n            {children}\r\n        </ChatContext.Provider>\r\n    );\r\n}\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\AllChats.js",["288","289","290","291","292","293","294","295"],"import React, { useEffect, useRef, useContext, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\nimport SingleChat from \"./SingleChat\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport PageTitle from \"../FrontendComponents/components/pageTitle\";\r\nimport Header from \"../FrontendComponents/components/Header\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport chatservice from \"../../services/ChatService\";\r\nimport userservice from \"../../services/UserService\";\r\n\r\nimport \"./chat.css\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mygrid: {\r\n    marginTop: \"50px\",\r\n    marginLeft: \"350px\",\r\n    width: \"650px\",\r\n  },\r\n}));\r\nconst AllChats = (props) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  const { clientSocket } = useContext(SocketContext);\r\n  let uId = JSON.parse(localStorage.getItem(\"user\")).email;\r\n  const {setSocket,roomJoin,messageEvent, friendReq} = useContext(SocketContext);\r\n  let emails = useRef([]);\r\n  //let usersData = useRef([])\r\n  \r\n  const [usersData, setData] = useState({uData:[]});\r\n  const [lastMsg, setLastMsg] = useState({\r\n    msgs: [],\r\n    msgId: [],\r\n    emails: [],\r\n    types: [],\r\n    senders: [],\r\n    time : []\r\n  });\r\n  const [payload, setPayload] = useState()\r\n  //const [recipients, setRecipients] = useState([])\r\n  let roomId = useRef();\r\n  let count = useRef(0);\r\n  let notPresent = useRef(0);\r\n  roomId.current = \"mychats/\" + props.match.params.id;\r\n  let recData = [];\r\n  let recMsgs = [];\r\n  let dummy = [];\r\n let clientSocket1 = useRef()\r\n\r\n  window.onload = () => {\r\n    friendReq()\r\n    messageEvent()\r\n    let did = JSON.parse(localStorage.getItem('user'))._id\r\n    roomJoin(did)\r\n    clientSocket1 = io(\"http://127.0.0.1:5000\")\r\n    setSocket((s)=>{\r\n      s = clientSocket1\r\n      s.on('connect' , () => {\r\n        console.log(\"connected\",s.id);\r\n        s.emit(\"adduser\",{id:s.id, name: uId})\r\n\r\n      });\r\n      return s;\r\n    })\r\n  };\r\n  const getRecData = (uId) => {\r\n    emails.current = []\r\n    lastMsg.msgs = []; lastMsg.msgId = []; lastMsg.emails = []; \r\n    lastMsg.types = []; lastMsg.senders = []; lastMsg.time = []; \r\n    chatservice\r\n      .getChatRecipients(uId)\r\n      .then((data) => {\r\n        if (data.length > 0) {\r\n          //console.log(\"emails before sorting\", data);\r\n          emails.current = data.sort();\r\n          emails.current = Array.from(new Set(emails.current));\r\n          console.log(\"emails after sorting\", emails.current);\r\n          userservice\r\n            .getUserByEmail({ userArray: emails.current })\r\n            .then((datafromdb) => {\r\n              recData = datafromdb;\r\n              //console.log(\"recdata\", recData);\r\n              setData((d) => {\r\n                d.uData = recData;\r\n                return d;\r\n              });\r\n            });\r\n          // let index = 0\r\n          emails.current.forEach((r, index) => {\r\n            chatservice\r\n              .getLastMsg(uId, r)\r\n              .then((data1) => {\r\n                //console.log(\"data1\", data1);\r\n                if(data1){\r\n                  setLastMsg((msg) => {\r\n                    if (\r\n                      msg.msgs.length >= 1 &&\r\n                      msg.emails.length >= 1 &&\r\n                      msg.types.length >= 1 &&\r\n                      msg.msgId.length >= 1 &&\r\n                      msg.senders.length >= 1\r\n                    ) {\r\n                      let newMsg = [...msg.msgs];\r\n                      let newR = [...msg.emails];\r\n                      let newT = [...msg.types];\r\n                      let id = [...msg.msgId];\r\n                      let sender = [...msg.senders];\r\n                      let newTime = [...msg.time]\r\n                      newMsg = [...newMsg, data1.lastMsg];\r\n                      newR = [...newR, r];\r\n                      newT = [...newT, data1.type];\r\n                      id = [...id, data1.msgId];\r\n                      sender = [...sender, data1.sender];\r\n                      newTime = [...newTime, data1.time]\r\n                      \r\n                      return {\r\n                        ...msg,\r\n                        msgs: newMsg,\r\n                        msgId: id,\r\n                        emails: newR,\r\n                        types: newT,\r\n                        senders: sender,\r\n                        time : newTime\r\n                      };\r\n                    } else {\r\n                      console.log(\"first: \", data1.lastMsg, r);\r\n                      let myMsg =  {\r\n                        msgs: [data1.lastMsg],\r\n                        msgId: [data1.msgId],\r\n                        emails: [r],\r\n                        types: [data1.type],\r\n                        senders: [data1.sender],\r\n                        time : [data1.time]\r\n                      };\r\n                      console.log(\"MY MSG: \",myMsg)\r\n                      return myMsg\r\n                    }\r\n                  });\r\n                }\r\n\r\n              })\r\n              .catch((err) => console.log(err));\r\n          });\r\n\r\n          //setLastMsg(recMsgs)\r\n\r\n          //console.log(\"recipients\",recipients)\r\n        } else console.log(\"no data\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    count.current = 0\r\n    if (clientSocket) {\r\n      clientSocket.emit(\r\n        \"myChatsRoom\",\r\n        { myChatsRoom: roomId.current },\r\n        ({ error, room }) => {\r\n          if (!error) {\r\n            console.log(\"joined room with id\", room);\r\n          } else {\r\n            console.log(\"error joining room\", error);\r\n          }\r\n        }\r\n      );\r\n    }\r\n    //console.log(\"in useEffect 1\");\r\n    getRecData(uId);\r\n    //console.log(\"usersData 1\", usersData);\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    if (clientSocket) {\r\n      clientSocket.on(\"newRecipient\", (payload) => {\r\n        setPayload((p)=>{\r\n          return p = payload\r\n        })\r\n      })\r\n    }\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    console.log(\"IN PAYLOAD\")\r\n    if (payload) {\r\n      console.log(\"payload\",payload)\r\n        let index;\r\n\r\n        if (usersData.uData.length !== 0 && lastMsg.msgs.length !== 0) {\r\n          console.log(\"check:\", usersData);\r\n          count.current = 0;\r\n          /* present.current =0\r\n        notPresent.current =0 */\r\n          usersData.uData.forEach((u, indx) => {\r\n            //console.log(\"emails from map\", payload.message.from, u.email);\r\n            if (payload.message.from === u.email) {\r\n              index = indx;\r\n              console.log(\"index: \", index);\r\n              count.current = count.current + 1;\r\n              console.log(\"count: \", count.current)\r\n              \r\n            } else {\r\n              //count.current.current = notPresent.current + 1 ;\r\n              console.log(\"false\");\r\n            }\r\n          });\r\n          if (count.current !== 0) {\r\n            console.log(\"before setRecArray\",lastMsg.msgs)\r\n            console.log(\"in setRecArray\",count.current);\r\n            setRecArray(\r\n              index,\r\n              payload.message\r\n            );\r\n          } else if (count.current === 0) {\r\n            setNewRecipient(\r\n              payload.message\r\n            );\r\n            console.log(\"in setNewArray\",count.current);\r\n          } else console.log(\"nothing \", count.current);\r\n        } else {\r\n          console.log(\"usersData 1\", lastMsg);\r\n        }\r\n      //});\r\n    }\r\n  }, [payload]);\r\n\r\n  const setRecArray = (index, message) => {\r\n    //if(lastMsg)\r\n    console.log(\"Last msg array and index\",lastMsg.msgs, index )\r\n    let items = []\r\n    items = [...lastMsg.msgs];\r\n    let mtypes = [...lastMsg.types]\r\n    let mTime = [...lastMsg.time]\r\n    console.log(\"items before change\", items);\r\n    items[index] = message.messageBody;\r\n    mtypes[index] = message.type\r\n    mTime[index] = message.time\r\n    console.log(\"items\", items);\r\n    setLastMsg((m) => {\r\n      return { ...m, msgs: items,types: mtypes, time: mTime };\r\n      //}\r\n    });\r\n  };\r\n\r\n  const setNewRecipient = (message) => {\r\n    console.log(\"in new chattt\",message.type)\r\n    userservice\r\n      .getUserByEmail({ userEmail: message.from })\r\n      .then((data) => {\r\n        console.log(\"data\",data);\r\n        setData((d) => {\r\n          let obj = { email: message.from, gender : data[0].gender, id : data[0]._id, \r\n                      name : data[0].firstName + ' '+ data[0].lastName,\r\n                      img : data[0].profileImg }\r\n          let uData = [...d.uData]\r\n          uData = [...uData,obj]\r\n          console.log(\"u\",uData)\r\n          return { ...d, uData}\r\n        });\r\n      })\r\n      if(usersData.uData.length !==0){\r\n        console.log(\"not first recipient\")\r\n        /* setLastMsg((msg) => {\r\n          \r\n            let newMsg = [...msg.msgs];\r\n            let newR = [...msg.emails];\r\n            let newT = [...msg.types];\r\n            let sender = [...msg.senders];\r\n            newMsg = [...newMsg, msg];\r\n            newR = [...newR, rec];\r\n            newT = [...newT, type];\r\n            sender = [...sender, rec];\r\n            let myMsg = {\r\n              ...msg,\r\n              msgs: newMsg,\r\n              emails: newR,\r\n              types: newT,\r\n              senders: sender,\r\n            };\r\n            console.log(\"My new Msg\",myMsg)\r\n            return myMsg\r\n          \r\n        });  */\r\n        setLastMsg({msgs: [...lastMsg.msgs,message.messageBody], emails: [...lastMsg.emails,message.from], \r\n                  types:[...lastMsg.types,message.type], senders:[...lastMsg.senders,message.from],\r\n                  time : [...lastMsg.time,message.time ]})\r\n      }\r\n      else{\r\n        console.log(\"first recipient\")\r\n        setLastMsg({msgs: [message.messageBody], emails: [message.from], \r\n                    types:[message.type], senders:[message.from], time:[message.time]})\r\n      }\r\n      \r\n   \r\n      /*chatservice\r\n      .getLastMsg(uId, rec)\r\n      .then((data1) => {\r\n        console.log(\"data new\", data1);\r\n        \r\n          setLastMsg((msg) => {\r\n          let newMsg = [...msg.msgs];\r\n          let newR = [...msg.emails];\r\n          let newT = [...msg.types];\r\n          let id = [...msg.msgId];\r\n          let sender = [...msg.senders];\r\n          newMsg = [...newMsg, data1.lastMsg];\r\n          newR = [...newR, rec];\r\n          newT = [...newT, data1.type];\r\n          id = [...id, data1.msgId];\r\n          sender = [...sender, data1.sender];\r\n          //console.log(\"newMsg: \", newMsg, newR, newT,id,sender);\r\n          return {\r\n            ...msg,\r\n            msgs: newMsg,\r\n            msgId: id,\r\n            emails: newR,\r\n            types: newT,\r\n            senders: sender,\r\n          };\r\n    });\r\n      }).catch((err)=>console.log(err))\r\n      */\r\n    \r\n  };\r\n\r\n  return (\r\n      <div  style={{height:\"100vh\"}} className=\"back_divs\">\r\n      <Header />\r\n      <PageTitle name={\"My Chats\"} />\r\n      {usersData.uData.length !== 0  && lastMsg.msgs.length !==0? (\r\n        <div>\r\n            <Grid container   style={{marginTop:\"0.9rem\" }}>\r\n          <Grid item xs ={1} md={3}> </Grid>\r\n          <Grid item xs ={10} md={6}>\r\n     \r\n          <SingleChat recipients={usersData.uData} lastMsg={lastMsg} />\r\n         \r\n        </Grid>\r\n        <Grid item xs ={1} md={3}> </Grid>\r\n        </Grid>\r\n        </div>\r\n      ) : (\r\n        <h5 style={{ textAlign: \"center\" }}>No Chats Yet!</h5>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default AllChats;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\userDashboard.js",["296","297","298","299","300","301"],"import React, { useEffect, useState,useContext,useRef } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { isAuthenticated } from \"../clientStorages/auth\";\r\nimport { Button, Grid } from \"@material-ui/core\";\r\nimport {SocketContext} from '../../../context/SocketContext';\r\n//import {MyChatsContext} from '../../../context/MyChatsContext';\r\nimport io from \"socket.io-client\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport {ChatContext} from '../../../context/ChatContext';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport GroupAddRoundedIcon from '@material-ui/icons/GroupAddRounded';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport chatservice from '../../../services/ChatService';\r\nimport accountService from '../../../services/accountService';\r\nimport friendService from '../../../services/friendService';\r\n //import { ToastContainer } from 'react-toastify';\r\n//import Toast from 'react-bootstrap/Toast' \r\nimport '../../ChatComponents/chat.css'\r\nimport PageTitle from \"./pageTitle\";\r\n\r\n\r\nconst UserDashboard = ({uuId}) => {\r\n  //const {chatRecipients,setRecipients,getRecData} = useContext(MyChatsContext);\r\n  const [obj, setObj] = useState({})\r\n  const myId= isAuthenticated()._id;\r\n  const [count,setCount]= useState(0)\r\n  const [friendCount,setFriendCount]=useState(0);\r\n  let showBtn = useRef(0)\r\n  let userEmail = useRef()\r\n  let history = useHistory()\r\n  userEmail.current = JSON.parse(localStorage.getItem(\"user\")).email\r\n  console.log(userEmail)\r\n   const {clientSocket,setSocket,messageEvent,roomJoin,friendReq} = useContext(SocketContext);\r\n  let clientSocket1 = useRef()\r\n   \r\n   window.onload = () => {\r\n       friendReq()\r\n     messageEvent()\r\n    roomJoin(myId)\r\n    clientSocket1 = io(\"http://127.0.0.1:5000\")\r\n  setSocket((s)=>{\r\n      s = clientSocket1\r\n      s.on('connect' , () => {\r\n        console.log(\"connected\",s.id);\r\n        s.emit(\"adduser\",{id:s.id, name: userEmail.current})\r\n        \r\n      });\r\n      return s;\r\n    })\r\n  };\r\nconst DeleteAccount =()=>{\r\naccountService.deleteMyAccount(myId)\r\n .then((res) =>history.push('/signup'))\r\n  .catch((err) => console.log(err));\r\n}\r\n  useEffect(()=>{\r\n    chatservice.offlinemessages(isAuthenticated().email)\r\n        .then((res)=>{\r\n            if(res.count > 0){\r\n              setObj((o)=>{\r\n                o = {sender: res.info.sender, receiver: res.info.receiver}\r\n                return o\r\n              })\r\n              //obj = {sender: res.info.sender, receiver: res.info.receiver}\r\n              console.log(\"obj\",obj)\r\n              setCount((c)=>{\r\n                c = res.count\r\n                return c\r\n              })\r\n       \r\n            }\r\n        })\r\n        .catch((err)=>console.log(err))\r\n\r\n  },[])\r\nuseEffect(()=>{\r\n  friendService.getFriendRequestsCount(myId)\r\n  .then((res)=>{ \r\n     if(res> 0)\r\n     setFriendCount(res)\r\n  })\r\n  .catch((err)=>console.log(err))\r\n},[])\r\n  \r\n  \r\n   useEffect(()=>{\r\n    if(clientSocket!==undefined){\r\n        console.log(clientSocket)\r\n        clientSocket.emit(\"adduser\",{id:clientSocket.id, name: userEmail.current})\r\n      }\r\n      else{\r\n        console.log(\"no socket\")\r\n      }\r\n   },[],[clientSocket])\r\n\r\n   useEffect (()=>{\r\n     messageEvent()\r\n     //friendReq()\r\n   },[]);\r\n\r\n   useEffect (()=>{\r\n    roomJoin(myId)\r\n  },[]);\r\n\r\n  return <div style={{height:\"100vh\"}} className=\"back_divs\">\r\n    <Header/>\r\n    <PageTitle name={\"Dashboard\"}/>\r\n   {/* <ToastContainer/> */}\r\n     <Grid container>\r\n       <Grid item xs={1} md={4}></Grid>\r\n       <Grid item xs={10} md={4}>\r\n          <Button className= \"loginbtn\"\r\n             style={{padding:\"10px 20px\",display:\"block\",backgroundColor:\"#C8906A\"}}\r\n            variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/all-contacts/'+myId)}>\r\n              <PersonAddIcon className='chaticon'\r\n              color = \"white\"/> Add New friend\r\n            </Button>\r\n            <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 40px\",marginTop:\"2rem\",display:\"block\",backgroundColor:\"#C0C86A\"}}\r\n            variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/all-my-friends/'+myId)}>\r\n              < PeopleAltIcon className='chaticon'\r\n              color = \"white\"/> My Friends\r\n            </Button>\r\n            {\r\n    obj.sender !== undefined ?\r\n        obj.sender.forEach((o)=>\r\n        {\r\n            o !== userEmail.current ?\r\n            showBtn.current = showBtn.current + 1\r\n          :\r\n          showBtn.current = 0\r\n          })\r\n    :\r\n    null\r\n    }\r\n    \r\n        {\r\n          showBtn.current >= 1 ?\r\n           <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 20px\" , marginTop:\"2rem\",display:\"block\",backgroundColor:\"#D582BD\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/mychats/'+myId)}>\r\n            <Badge badgeContent={count} color=\"secondary\" style={{marginRight:\"0.5rem\"}}>\r\n              <ChatIcon className='chaticon'\r\n              onClick={event =>  history.push('/mychats/'+myId)}\r\n              color = \"white\"\r\n              />  \r\n            </Badge>\r\n            My Chats\r\n            </Button>\r\n          :\r\n         <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 50px\" ,marginTop:\"2rem\",display:\"block\",backgroundColor:\"#D582BD\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/mychats/'+myId)}>\r\n          <ChatIcon className='chaticon'\r\n              color = \"white\"\r\n              />  My Chats\r\n            </Button>\r\n            \r\n        }    \r\n         {\r\n          friendCount >= 1 ?\r\n           <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 20px\" , marginTop:\"2rem\",display:\"block\",backgroundColor:\"#F08080 \"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/all-friend-requests/'+myId)}>\r\n            <Badge badgeContent={friendCount} color=\"secondary\" style={{marginRight:\"0.5rem\"}}>\r\n              <PeopleAltIcon className='chaticon'\r\n              onClick={event =>  history.push('/all-friend-requests/'+myId)}\r\n              color = \"white\"\r\n              />  \r\n            </Badge>\r\n            My Friend Requests\r\n            </Button>\r\n          :\r\n         <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 50px\" ,marginTop:\"2rem\",display:\"block\",backgroundColor:\"#F08080 \"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\" \r\n            fullWidth\r\n             onClick={event =>  history.push('/all-friend-requests/'+myId)}>\r\n          <PeopleAltIcon className='chaticon'\r\n              color = \"white\"\r\n              />  My Friend Requests\r\n            </Button>\r\n            \r\n        }\r\n         <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 27px\",marginTop:\"2rem\",display:\"block\",backgroundColor:\"#69B6CF\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/update-my-profile-setup/'+myId)}>\r\n              <SettingsIcon className='chaticon'\r\n              color = \"white\"/>Update Profile\r\n            </Button>\r\n       <Button className= \"loginbtn\"\r\n             style={{ padding:\"10px 21px\",marginTop:\"2rem\",display:\"block\",backgroundColor:\"#8298D5\"}}\r\n           variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={event =>  history.push('/all-friend-requests/'+myId)}>\r\n              <GroupAddRoundedIcon className='chaticon'\r\n              color = \"white\"/>Friend Requests\r\n            </Button>\r\n             <Button className= \"loginbtn\"\r\n             style={{padding:\"10px 20px\",marginTop:\"2rem\",display:\"block\",backgroundColor:\"#C3767F\"}}\r\n            variant=\"contained\" \r\n            color=\"Secondary\"\r\n            fullWidth\r\n            onClick={DeleteAccount}>\r\n              <DeleteIcon className='chaticon'\r\n              color = \"white\"/> Delete Account\r\n            </Button>\r\n             \r\n       </Grid>\r\n        <Grid item xs={1} md={4}></Grid>\r\n     </Grid>\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    </div>\r\n};\r\n\r\nexport default UserDashboard;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Chat.js",["302","303","304","305","306","307","308","309","310","311"],"import React, { useEffect, useState, useRef, useContext } from \"react\";\r\nimport chatservice from \"../../services/ChatService\";\r\nimport userservice from \"../../services/UserService\";\r\nimport friendService from \"../../services/friendService\";\r\nimport \"./chat.css\";\r\nimport SettingMessage from \"./SettingMessage\";\r\nimport { SocketContext } from \"../../context/SocketContext\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from \"axios\";\r\nimport RenderChat from './RenderChat'\r\n\r\nexport default function SingleChat(props) {\r\n  const [chat, setChat] = useState([{ from: \"\", to: \"\", messages: [] }]);\r\n  const [searchChats, setSearchChats] = useState({messages :[]})\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [loading, setLoading] = useState(false);\r\n  const [isFriend, setIsFriend] = useState(true)\r\n  let chats = useRef([]);\r\n  let friends = useRef()\r\n  let dummy = [];\r\n  let user = useRef({ uId: \"\", uImg: \"\", uName: \"\" });\r\n  let recipient = useRef(\"\");\r\n  let recipientInfo = useRef({ name: \"\", lang: \"\", url: \"\" });\r\n  let roomId = useRef(\"\");\r\n  let myChatsRoom = useRef();\r\n  let notificationRoom = useRef();\r\n  let returndata;\r\n  let id = props.match.params.id.split(\" \");\r\n  const { clientSocket } = useContext(SocketContext);\r\n  const [isDel , setDel] = useState(false)\r\n  var us = JSON.parse(localStorage.getItem(\"user\"));\r\n  const [messagesToDel, setMsgs] = useState([])\r\n  //console.log(\"my socket\", clientSocket);\r\n\r\n  useEffect(() => {\r\n    recipientInfo.current.name = localStorage.getItem(\"recName\");\r\n    recipientInfo.current.lang = localStorage.getItem(\"recLang\");\r\n    recipientInfo.current.url = localStorage.getItem(\"profileUrl\");\r\n    myChatsRoom.current = \"mychats/\" + localStorage.getItem(\"friendId\");\r\n    notificationRoom.current = \"/\" + id[1];\r\n  }, []);\r\n\r\n  const getData = () => {\r\n    console.log(\"in get Data\",user)\r\n    recipient.current = id[0];\r\n    user.current.uId = us.email;\r\n    user.current.uName = us.firstName + \" \" + us.lastName;\r\n    user.current.uImg = us.profileImg\r\n\r\n    chatservice\r\n      .getMessagesbyEmail(user.current.uId, recipient.current)\r\n      .then((data) => {\r\n        chats.current = data;\r\n        console.log(\"Data\", chats.current);\r\n        if (chats) {\r\n          chats.current.map((chat, index) => {\r\n            dummy.push(chat);\r\n          });\r\n        } else {\r\n          console.log(\"No chats or some error\");\r\n        }\r\n        setChat({ messages: dummy });\r\n      })\r\n      .catch((err) => console.log(\"This is err\" + err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    friendService.getAllFriends(us._id)\r\n    .then((data)=>{\r\n      friends.current = data\r\n      friends.current.forEach((f) => {\r\n        if(f.email !== recipient.current)\r\n           setIsFriend(false)\r\n        \r\n      })\r\n      })\r\n      .catch((err=>{console.log(err)}))\r\n    getData();\r\n  }, []);\r\n\r\n  let count = 0;\r\n  useEffect(() => {\r\n    if (clientSocket !== undefined) {\r\n      clientSocket.emit(\r\n        \"roomJoin\",\r\n        { from: user.current.uId, to: recipient.current },\r\n        ({ error, room }) => {\r\n          if (!error) {\r\n            roomId.current = room;\r\n            console.log(\"joined room with id\", room);\r\n          } else {\r\n            console.log(\"error joining room\", error);\r\n          }\r\n        }\r\n      );\r\n\r\n      clientSocket.on(\"messageReceived\", (payload) => {\r\n        console.log(\"Payload\", payload.messageBody + \" count: \" + count);\r\n        setChat((chatState) => {\r\n          if (chatState.messages) {\r\n            let newMessages = [...chatState.messages];\r\n            newMessages = [...newMessages, payload];\r\n            return { ...chatState, messages: newMessages };\r\n          } else {\r\n            return { messages: [payload] };\r\n          }\r\n        });\r\n      });\r\n\r\n      return function cleanup() {\r\n        clientSocket.off(\"messageReceived\");\r\n        console.log(\"in cleanup\");\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  const sendMessage = (message) => {\r\n    \r\n    if (message == \"\"){\r\n       toast.error(\"Please Type something\",{\r\n          position: toast.POSITION.TOP_LEFT,\r\n        })\r\n    }\r\n   else\r\n   {\r\n     setLoading(true); \r\n     let data = {\r\n      msg: message,\r\n      lang: recipientInfo.current.lang,\r\n      userImgUrl: user.current.uImg,\r\n    };\r\n    //axios.post('http://127.0.0.1:80/',data) // flask ka post method call kre ga\r\n    //.then((response )=> {\r\n    setLoading(false);\r\n    // console.log(\" Response\" ,response.data);\r\n    //returndata = response.data\r\n    console.log(\"room\", roomId.current);\r\n    let messageS = {\r\n      from: user.current.uId,\r\n      to: recipient.current,\r\n      userName: user.current.uName,\r\n      room: roomId.current,\r\n      messageBody: message,\r\n      messageVideo: \"returndata\",\r\n      time: new Date().toLocaleString(),\r\n      type: \"offline\",\r\n    };\r\n    clientSocket.emit(\"messageSend\", messageS, (err) => {\r\n      if (!err) {\r\n        console.log(\"message sent successfully\");\r\n        chatservice.createMessage(messageS)\r\n            .then((response)=>console.log(response))\r\n            .catch((err)=>console.log(err))\r\n        //console.log(\"MsgS\",messageS)\r\n        if (chat.messages) {\r\n          setChat({ messages: [...chat.messages, messageS] });\r\n        } else {\r\n          setChat({ messages: [messageS] });\r\n        }\r\n      } else {\r\n        console.log(\"error sending message:\", err);\r\n      }\r\n    });\r\n    clientSocket.emit(\r\n      \"messageSend1\",\r\n      {\r\n        message: messageS,\r\n        roomId: notificationRoom.current,\r\n        name: user.current.uName,\r\n      },\r\n      (err) => {\r\n        if (!err) console.log(\"testing\");\r\n        else console.log(err);\r\n      }\r\n    \r\n    );\r\n\r\n    clientSocket.emit(\r\n      \"myChats\",\r\n      { roomId: myChatsRoom.current, message: messageS, userImg: us.profileImg },\r\n      (err) => {\r\n        if (!err) console.log(\"testing\");\r\n        else console.log(err);\r\n      }\r\n    );\r\n  //}).catch((err)=>console.log(err))\r\n    }\r\n  };\r\n  \r\n  const chatDeleteHandler = (message)=>{\r\n    console.log(\"Message\",message)\r\n    setMsgs(message)\r\n}\r\n\r\n  const searchChatHandler = (keywords)=>{\r\n    setSearchTerm((term)=>{\r\n      //console.log(\"keywords\",term)\r\n      term = keywords\r\n      return term\r\n    })\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n    if(chat.messages){\r\n      \r\n    const list = chat.messages.filter(msg => msg.messageBody.toLowerCase().includes(searchTerm.toLowerCase()));\r\n    setSearchChats({messages : list});\r\n    }\r\n    else{\r\n      console.log(\"no chat\")\r\n    }\r\n}, [searchTerm]);\r\n\r\n  let elem = null;\r\n  if (chat.messages === undefined) {\r\n    elem = (\r\n      <h5 style={{ textAlign: \"center\" }}>There are currently no Messages</h5>\r\n    );\r\n  } else {\r\n    \r\n    if(searchTerm !== \"\" && searchChats.messages !== undefined){\r\n      console.log(\"yess\",searchChats.messages)\r\n      //elem = <SettingMessage chat={searchChats} user={user.current.uId} isDel={isDel} delHandler = {chatDeleteHandler}/>;\r\n      elem = (searchChats.messages.map((msg) =>{\r\n        return <SettingMessage message={msg} user={user.current.uId} isDel={isDel} delHandler = {chatDeleteHandler} term={searchTerm}/>;\r\n      })\r\n      )\r\n    }\r\n    else{\r\n      console.log(\"nooooo\",chat.messages)\r\n      //elem = <SettingMessage chat={chat} user={user.current.uId} isDel={isDel} delHandler = {chatDeleteHandler}/>;\r\n      elem = (chat.messages.map((msg) =>{\r\n        return  <SettingMessage message={msg} user={user.current.uId} isDel={isDel} delHandler = {chatDeleteHandler}/>;\r\n      })\r\n      )\r\n    }\r\n    \r\n  }\r\n\r\n  \r\n  return (    \r\n    <RenderChat recipientInfo={recipientInfo.current} \r\n     element={elem}\r\n     loading = {loading}\r\n     sendMessage = {sendMessage}\r\n     isDel ={isDel}\r\n     setDel = {setDel}\r\n     msgsToDel ={messagesToDel}\r\n     isFriend = {isFriend}\r\n     getData ={getData}\r\n     searchTerm = {searchTerm}\r\n     setTerm = {setSearchTerm}\r\n     searchHandler ={searchChatHandler}\r\n    />\r\n  );\r\n}","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\pageTitle.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\UserService.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\GroupService.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\accountService.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\auth.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\ProgressBar.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\AlertBar.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\RenderChat.js",["312","313"],"import TypeMessage from \"./TypeMessage\";\r\nimport React , {useEffect,useState}from \"react\";\r\nimport \"./chat.css\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Alert from '../FrontendComponents/Alerts/AlertBar'\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport Header from \"../FrontendComponents/components/Header\";\r\nimport Button from '@material-ui/core/Button';\r\nimport chatservice from \"../../services/ChatService\";\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {Grid ,InputAdornment, TextField} from \"@material-ui/core\";\r\nimport { grey } from '@material-ui/core/colors';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n \r\nexport default function RenderChat(props) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [isSearch, setSearch] = useState(false)\r\n  const open = Boolean(anchorEl);\r\n  const options = [\r\n    'Search',\r\n    'Delete'\r\n  ];\r\n  const deleteChat = ()=>{\r\n    if(props.msgsToDel.msgs !== undefined){\r\n    console.log(\"props\",props.msgsToDel.msgs)\r\n    props.msgsToDel.msgs.map((msg) => {\r\n      chatservice.deleteMessage(msg._id).then((res)=>console.log(\"response: \",res))\r\n      .catch((err)=>  console.log(err))\r\n    })\r\n    props.getData()\r\n  }\r\n  else{\r\n    toast.error(\"Please select a message to delete\",{\r\n          position: toast.POSITION.TOP_LEFT,\r\n        })\r\n    //console.log(\"props\", props.msgsToDel)\r\n  }\r\n  }\r\n  \r\n  \r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = (option) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const itemClickHandler= (option)=>{\r\n   if(option === 'Delete')\r\n      props.setDel(!props.isDel)\r\n    else if(option === 'Search')\r\n      setSearch(!isSearch)\r\n  }\r\n\r\n\r\n   const onChangeSearch = (event)=>{\r\n    //props.setTerm(event.currentTarget.value)\r\n    props.searchHandler(event.currentTarget.value)\r\n  }\r\n  useEffect(()=>{\r\n    let imgUrl = props.recipientInfo.url;\r\n\r\n  })\r\n  let elem = null;\r\n  if(!props.isDel && !isSearch){\r\n    elem = (\r\n      <div  style={{display:\"inline\",float:\"right\",marginTop:\"0.6rem\"}}>\r\n      <IconButton\r\n    className =\"Allbtn\" \r\n    aria-label=\"more\"\r\n    aria-controls=\"long-menu\"\r\n    aria-haspopup=\"true\"\r\n    onClick={handleClick}\r\n    >\r\n    <MoreVertIcon />\r\n    </IconButton>\r\n    <Menu\r\n        id=\"long-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={open}\r\n        onClose={handleClose}\r\n        PaperProps={{\r\n        style: {\r\n            maxHeight: 48 * 4.5,\r\n            width: '20ch',\r\n        },\r\n        }}\r\n    >\r\n        {options.map((option) => (\r\n        <MenuItem key={option} selected={option === 'Search'} onClick={()=>itemClickHandler(option)}>\r\n            {option}\r\n        </MenuItem>\r\n        ))}\r\n    </Menu>\r\n      </div>\r\n    )\r\n  }\r\n  else if(props.isDel){\r\n    elem = (\r\n     <Button onClick={deleteChat} className=\"Allbtn\" style={{textTransform:\"capitalize\" ,float:\"right\",marginTop:\"0.8rem\"}}>\r\n                  <DeleteIcon style={{color:\"gray\"}} />\r\n        </Button>\r\n    )\r\n  }\r\n  else if(isSearch){\r\n    elem = (\r\n      <TextField\r\n       style={{float:\"right\",marginRight:\"1rem\",marginTop:\"0.8rem\",backgroundColor:\"white\",borderRadius:\"1rem\"}}\r\n       value={props.searchTerm}\r\n       onChange={onChangeSearch}\r\n        placeholder=\"Search Message\"\r\n        size=\"medium\"\r\n          \r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n             <SearchIcon style={{ color: grey[600] ,marginRight:\"0.4rem\",float:\"right\"}}/>\r\n            </InputAdornment>\r\n          ),\r\n          disableUnderline: true \r\n         }}\r\n            />\r\n    )\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n       <div  style={{ height:\"100vh\"}} className=\"chat_div\"> \r\n      <Header />     \r\n            <Grid container spacing={0} style={{display:\"flex\"}}>\r\n              <Grid item xs ={1} md={2}></Grid>\r\n              <Grid item xs ={10} md={8} style={{marginTop:\"1rem\" }}>\r\n                <div className='profilediv'>\r\n              <img\r\n                className='profile'\r\n                src={props.recipientInfo.url}\r\n                alt='dp'\r\n              />\r\n              <span   style={{display:\"inline\",fontWeight:\"bold\", fontSize: \"21px\" }}>{props.recipientInfo.name}</span>\r\n              \r\n              {      \r\n                 elem\r\n              }\r\n            </div>\r\n            <div className=\"content_body \">\r\n              \r\n             {props.element}\r\n             {props.loading ? (\r\n              <div className='load'>\r\n                <CircularProgress color='secondary' />\r\n              </div>\r\n            ) : null}\r\n            </div>\r\n           \r\n            {\r\n            props.isFriend === true?\r\n            <TypeMessage sendMessage={props.sendMessage} />\r\n            :\r\n            <Alert\r\n            type='error' \r\n            message='This person is not your friend anymore. Add them again to start a chat.'\r\n            autoClose={5000}\r\n            />\r\n          }\r\n\r\n              </Grid>\r\n              <Grid item xs ={1} md={2}></Grid>\r\n                </Grid>\r\n                </div>\r\n                </React.Fragment>\r\n  );\r\n}\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SettingMessage.js",["314","315"],"import React, {useEffect} from \"react\";\r\nimport \"./chat.css\"\r\nimport { Player } from 'video-react';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport \"video-react/dist/video-react.css\"\r\nimport {  Grid } from \"@material-ui/core\";\r\nexport default function SettingMessage(props) {\r\n const [checked, setChecked] = React.useState(false);\r\n  const [messages, setMessages] = React.useState();\r\n  let someArray = [];\r\n  const handleChange = (event, message) => {\r\n    setChecked((c) => {\r\n      c = event.target.checked;\r\n      if (c === true) {\r\n        setMessages((m) => {\r\n          if (m !== undefined) {\r\n            if (m.msgs !== undefined) {\r\n              let msgs = [...m.msgs];\r\n              msgs = [...msgs, message];\r\n              return { ...m, msgs };\r\n            } else {\r\n              return { msgs: [message] };\r\n            }\r\n          } else {\r\n            return { msgs: [message] };\r\n          }\r\n        });\r\n      } else {\r\n        if (messages.msgs !== undefined) {\r\n          someArray = messages.msgs;\r\n          someArray = messages.msgs.filter((m) => {\r\n            return m._id !== message._id;\r\n          });\r\n          setMessages(someArray);\r\n        } else {\r\n          setMessages((m) => {\r\n            return (m = []);\r\n          });\r\n        }\r\n      }\r\n      return c;\r\n    });\r\n  };\r\n\r\n  let elem = null;\r\n  let indexOfTerm = []\r\n  let msgArr = []\r\n  if(props.term){\r\n    console.log(\"term\",props.term)\r\n    indexOfTerm.push(props.message.messageBody.indexOf(props.term))\r\n    msgArr.push(props.message.messageBody.split(\"\"))\r\n    console.log(\"term exists\",indexOfTerm)\r\n\r\n  }\r\n  else{\r\n    console.log(\"no term\")\r\n  }\r\n  if(msgArr.length>=1){\r\n    for (var i=0; i<msgArr.length; i++){\r\n      if(props.term === msgArr[i])\r\n      console.log(\"m\",msgArr[i])\r\n      else\r\n      console.log(\"no mm\",msgArr[i])\r\n    }\r\n  }\r\n\r\n  if (props.message.to === props.user) {\r\n     elem = (\r\n      <div >\r\n        <div className='incoming_msg_img'>\r\n           {\r\n            props.isDel ?\r\n              <Checkbox \r\n              color=\"primary\"\r\n              onChange={(e) => {\r\n                handleChange(e, props.message);\r\n              }}\r\n              inputProps={{ 'aria-label': 'primary checkbox' }} name=\"gilad\" />: null\r\n          }\r\n        </div>\r\n        <Grid container >\r\n              <Grid item xs={6} md={3}>  \r\n              <div  style={{marginLeft:\"15px\",marginTop:\"12px\",marginBottom:\"8px\"}}> \r\n                <Player   >\r\n                 <source src={props.message.messageVideo} />\r\n              </Player>\r\n              \r\n                </div></Grid>\r\n              <Grid item xs={6} md={9}  ></Grid> \r\n              </Grid>\r\n               <div class=\"chat-message is-received\">\r\n                <div class=\"message-block\">\r\n                  {\r\n               props.term && msgArr?\r\n                  msgArr.map((m)=>  \r\n                   <div class=\"message-text\">{m}</div>\r\n                   )\r\n                  \r\n              : \r\n               <div class=\"message-text\">{props.message.messageBody}</div>\r\n                  \r\n            }\r\n                 \r\n                   <span className=\"received_time_date\"> {props.message.time}</span>\r\n                </div>\r\n                </div>\r\n      </div>\r\n    );\r\n  \r\n  }\r\n  else if (props.message.from === props.user) {\r\n    elem = (\r\n      <div >\r\n        \r\n          {\r\n            props.isDel ?\r\n              <Checkbox color=\"primary\"  onChange={(e) => {\r\n              handleChange(e, props.message);\r\n            }}\r\n              inputProps={{ 'aria-label': 'primary checkbox' }} \r\n              name=\"gilad\" />: null\r\n               }\r\n          <Grid container >\r\n              <Grid item xs={6} md={9}></Grid>\r\n              <Grid item xs={6} md={3}  >\r\n                 <div style={{marginRight:\"15px\",marginTop:\"12px\",marginBottom:\"8px\"}}> \r\n                <Player   >\r\n                  <source src={props.message.messageVideo} />\r\n              </Player>\r\n              \r\n                </div></Grid>\r\n              </Grid>\r\n               <div class=\"chat-message is-sent\" >\r\n                 <div class=\"message-block\">  \r\n                  {\r\n            props.term?\r\n           <div class=\"message-text\"> {props.message.messageBody}</div>\r\n              : \r\n                 <div class=\"message-text\"> {props.message.messageBody}</div>\r\n                  \r\n            }  \r\n                \r\n                  <span class=\"sent_time_date\"> {props.message.time}</span>\r\n                 </div>\r\n                </div>\r\n      </div>\r\n    );\r\n  } \r\n\r\n   else {\r\n    console.log(\"nothing\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    props.delHandler(messages);\r\n  }, [messages]);\r\n\r\n  return (\r\n    elem\r\n  );\r\n}\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\ChatService.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\GenericService.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\localStorage.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\clientStorages\\cookies.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Header.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\TypeMessage.js",[],["316","317"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SingleChat.js",["318","319","320","321","322","323","324"],"import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Grid, Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport chatservice from \"../../services/ChatService\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport \"./chat.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  subheader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    cursor: \"pointer\",\r\n  },\r\n  globe: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n  subheaderText: {\r\n    color: theme.palette.primary.dark,\r\n  },\r\n  list: {\r\n    maxHeight: \"calc(100vh - 112px)\",\r\n    overflowY: \"auto\",\r\n  },\r\n   \r\n  listText: {\r\n    fontSize: \"1.5rem\",\r\n    fontFamily: \"Roboto\",\r\n    marginLeft: \"0.5rem\",\r\n    marginTop:\"2rem\",\r\n    fontWeight:\"bold\",\r\n    display:\"inline\"\r\n   \r\n  },\r\n  listText1: {\r\n    fontSize: \"1.3rem\",\r\n    fontFamily: \"Roboto\",\r\n    color: \"gray\",\r\n   marginLeft: \"0.5rem\",\r\n    \r\n    \r\n  },\r\n  listTime:{\r\n    fontSize: \"0.8rem\",\r\n    fontFamily: \"Roboto\",\r\n    color: \"gray\",\r\n    marginLeft: \"0.5rem\",\r\n    display:\"inline\"\r\n     \r\n  },\r\n  listBtn: {\r\n    backgroundColor: \"rgb(0, 172, 193)\",\r\n    color: \"white\",\r\n    fontSize: \"1rem\",\r\n  },\r\n  mygrid: {\r\n    marginTop: \"50px\",\r\n    marginLeft: \"350px\",\r\n    width: \"650px\",\r\n  },\r\n  mygrid1: {\r\n    padding: \"20px\",\r\n  },\r\n  img: {\r\n    width: \"4rem\",\r\n    height: \"4rem\",\r\n    borderRadius: \"60px\",\r\n  },\r\n}));\r\nconst SingleChat = (props) => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  let elem = null;\r\n  let user = JSON.parse(localStorage.getItem(\"user\"));\r\n  let messages = useRef([]);\r\n\r\n  console.log(\"props\",props.lastMsg)\r\n  const recipientClickHandler = (fr, type) => {\r\n    chatservice.getMessagesbyEmail(user.email, fr.email).then((res) => {\r\n      messages.current = res;\r\n      messages.current.map((m) => {\r\n        if (m.type === \"offline\" && m.from !== user.email) {\r\n          chatservice\r\n            .changeMessageType({ type: \"read\" }, m._id)\r\n            .then((res) => console.log(res))\r\n            .catch((err) => console.log(err));\r\n        }\r\n        console.log(\"user matched\")\r\n      });\r\n    });\r\n    //console.log(\"fr\", fr);\r\n    localStorage.setItem(\"friendId\", fr.id);\r\n    localStorage.setItem(\"recName\", fr.name);\r\n    localStorage.setItem(\"recLang\", fr.lang);\r\n    localStorage.setItem(\"profileUrl\", fr.img);\r\n    history.push(\"/chat/\" + fr.email + \" \" + fr.id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {props.recipients.map((r, index) => {\r\n        return (\r\n           \r\n             <Paper style={{padding:  '12px 10px', marginBottom:\"1rem\" }}  >\r\n              <Grid container>\r\n               <Grid item xs={1}  >\r\n                  <img src={r.img} alt='img'    style={{ height: \"50px\", width: \"50px\", borderRadius: \"50%\",display:\"inline\" }}/>\r\n               </Grid>\r\n           <Grid item    xs ={11}  >\r\n              <Typography className={classes.listText}>{r.name}</Typography>\r\n                 {props.lastMsg.emails.forEach((u, ind) => {\r\n                  //console.log(\"inside for each lastMsg\", u,ind)\r\n                  //console.log(\"inside map:\",props.lastMsg.types[ind])\r\n                  //console.log(\"inside map:\",props.lastMsg.senders[ind])\r\n                   if (u === r.email) {\r\n                    if (props.lastMsg.types[ind] === \"read\") {\r\n                      //console.log(\"in 1\",props.lastMsg.msgs[ind])\r\n                      elem = (\r\n                        <div>\r\n                            <Typography\r\n                              className={classes.listText1}\r\n                              onClick={() =>\r\n                                recipientClickHandler(\r\n                                  r,\r\n                                  props.lastMsg.types[ind],\r\n                                  props.lastMsg.msgId[ind]\r\n                                )\r\n                              }\r\n                            >\r\n                              {props.lastMsg.msgs[ind]}\r\n                              \r\n                            </Typography>\r\n                            <Typography className={classes.listTime}>\r\n                            {props.lastMsg.time[ind]}\r\n                            </Typography>\r\n                        </div>\r\n                        \r\n                      );\r\n                    } else if (props.lastMsg.types[ind] === \"unread\") {\r\n                      //console.log(\"in 2\")\r\n                      elem = (\r\n                        <div>\r\n                        <Typography\r\n                          style={{ fontWeight: \"bold\", color: \"black\" }}\r\n                          className={classes.listText1}\r\n                          onClick={() =>\r\n                            recipientClickHandler(\r\n                              r,\r\n                              props.lastMsg.types[ind],\r\n                              props.lastMsg.msgId[ind]\r\n                            )\r\n                          }\r\n                        >\r\n                          {props.lastMsg.msgs[ind]}\r\n                        </Typography>\r\n                        <Typography className={classes.listTime}>\r\n                            {props.lastMsg.time[ind]}\r\n                        </Typography>\r\n                        </div>\r\n                      );\r\n                    } else if (\r\n                      props.lastMsg.types[ind] === \"offline\" &&\r\n                      props.lastMsg.senders[ind] !== user.email\r\n                    ) {\r\n                      //console.log(\"in 3\")\r\n                      elem = (\r\n                        <div>\r\n                        <Typography\r\n                       style={{ fontWeight: \"bold\", color: \"black\" }}\r\n                          className={classes.listText1}\r\n                          onClick={() =>\r\n                            recipientClickHandler(\r\n                              r,\r\n                              props.lastMsg.types[ind]\r\n                            )\r\n                          }\r\n                        >\r\n                          {props.lastMsg.msgs[ind]}\r\n                        </Typography>\r\n                        <Typography className={classes.listTime}>\r\n                            {props.lastMsg.time[ind]}\r\n                        </Typography>\r\n                        </div>\r\n                        \r\n                      );\r\n                    } else {\r\n                      console.log(\"in nothing\", props.lastMsg.types[ind]);\r\n                       console.log(\"in nothing1\", props.lastMsg.senders[ind]);\r\n                      elem = (\r\n                        <div>\r\n                          <Typography\r\n                         //  style={{ fontWeight: \"bold\", color: \"black\" }}\r\n                            className={classes.listText1}\r\n                            onClick={() =>\r\n                              recipientClickHandler(\r\n                                r,\r\n                                props.lastMsg.types[ind],\r\n                              )\r\n                            }\r\n                          >\r\n                            {props.lastMsg.msgs[ind]}\r\n                          </Typography>\r\n                          <Typography className={classes.listTime}>\r\n                              {props.lastMsg.time[ind]}\r\n                          </Typography>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  }\r\n                })}\r\n\r\n                {elem}\r\n           </Grid>\r\n               \r\n               \r\n                \r\n              <div>\r\n                {/*  {setText(r,chatRecipients.lastMsg[index],chatRecipients.msgType[index])}\r\n                {elem}*/\r\n                 }\r\n              </div>\r\n              \r\n          \r\n           </Grid>\r\n          </Paper>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\nexport default SingleChat;","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\Notification.js",[],["325","326"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\api\\auth.js",["327","328"],"import axios from \"axios\";\r\naxios.defaults.headers.common[\"x-auth-token\"] =localStorage.getItem(\"token\");\r\nexport const signup = async (data) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  const response = await axios.post(\"http://localhost:5000/api/users/signup\", data);\r\n  return response;\r\n};\r\nexport const login = async (data) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n  const response = await axios.post(\"http://localhost:5000/api/users/login\", data);\r\n  return response;\r\n};\r\n","D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\Alerts\\showMessage.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriend.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleContact.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\contactService.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\services\\friendService.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\SingleFriendRequest.js",[],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\MyChats.js",["329","330","331","332","333","334","335","336","337","338"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\ChatPage.js",["339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\Chats.js",["359","360","361","362"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\ChatComponents\\SendMessage.js",["363"],"D:\\TalkSee_Backend\\frontend\\myfrontend\\src\\components\\FrontendComponents\\components\\Profile.js",["364","365","366","367","368","369","370","371","372","373"],{"ruleId":"374","severity":1,"message":"375","line":3,"column":10,"nodeType":"376","messageId":"377","endLine":3,"endColumn":19},{"ruleId":"374","severity":1,"message":"378","line":4,"column":8,"nodeType":"376","messageId":"377","endLine":4,"endColumn":13},{"ruleId":"374","severity":1,"message":"379","line":10,"column":10,"nodeType":"376","messageId":"377","endLine":10,"endColumn":18},{"ruleId":"374","severity":1,"message":"380","line":11,"column":10,"nodeType":"376","messageId":"377","endLine":11,"endColumn":21},{"ruleId":"381","replacedBy":"382"},{"ruleId":"383","replacedBy":"384"},{"ruleId":"385","severity":2,"message":"386","line":58,"column":64,"nodeType":"376","messageId":"387","endLine":58,"endColumn":71},{"ruleId":"374","severity":1,"message":"388","line":1,"column":31,"nodeType":"376","messageId":"377","endLine":1,"endColumn":37},{"ruleId":"374","severity":1,"message":"389","line":4,"column":16,"nodeType":"376","messageId":"377","endLine":4,"endColumn":22},{"ruleId":"390","severity":1,"message":"391","line":23,"column":7,"nodeType":"392","endLine":23,"endColumn":15,"suggestions":"393"},{"ruleId":"394","severity":1,"message":"395","line":45,"column":45,"nodeType":"396","messageId":"397","endLine":45,"endColumn":47},{"ruleId":"374","severity":1,"message":"398","line":4,"column":10,"nodeType":"376","messageId":"377","endLine":4,"endColumn":15},{"ruleId":"374","severity":1,"message":"399","line":4,"column":17,"nodeType":"376","messageId":"377","endLine":4,"endColumn":21},{"ruleId":"374","severity":1,"message":"400","line":4,"column":23,"nodeType":"376","messageId":"377","endLine":4,"endColumn":27},{"ruleId":"374","severity":1,"message":"401","line":11,"column":7,"nodeType":"376","messageId":"377","endLine":11,"endColumn":12},{"ruleId":"390","severity":1,"message":"402","line":30,"column":5,"nodeType":"392","endLine":30,"endColumn":7,"suggestions":"403"},{"ruleId":"374","severity":1,"message":"404","line":6,"column":8,"nodeType":"376","messageId":"377","endLine":6,"endColumn":17},{"ruleId":"374","severity":1,"message":"405","line":19,"column":10,"nodeType":"376","messageId":"377","endLine":19,"endColumn":25},{"ruleId":"374","severity":1,"message":"406","line":64,"column":10,"nodeType":"376","messageId":"377","endLine":64,"endColumn":17},{"ruleId":"374","severity":1,"message":"407","line":64,"column":19,"nodeType":"376","messageId":"377","endLine":64,"endColumn":29},{"ruleId":"374","severity":1,"message":"408","line":65,"column":10,"nodeType":"376","messageId":"377","endLine":65,"endColumn":14},{"ruleId":"390","severity":1,"message":"409","line":93,"column":5,"nodeType":"392","endLine":93,"endColumn":7,"suggestions":"410"},{"ruleId":"374","severity":1,"message":"411","line":112,"column":11,"nodeType":"376","messageId":"377","endLine":112,"endColumn":22},{"ruleId":"374","severity":1,"message":"412","line":116,"column":11,"nodeType":"376","messageId":"377","endLine":116,"endColumn":25},{"ruleId":"374","severity":1,"message":"413","line":124,"column":11,"nodeType":"376","messageId":"377","endLine":124,"endColumn":22},{"ruleId":"414","severity":1,"message":"415","line":133,"column":44,"nodeType":"416","messageId":"417","endLine":133,"endColumn":45},{"ruleId":"374","severity":1,"message":"418","line":142,"column":11,"nodeType":"376","messageId":"377","endLine":142,"endColumn":22},{"ruleId":"381","replacedBy":"419"},{"ruleId":"383","replacedBy":"420"},{"ruleId":"390","severity":1,"message":"421","line":155,"column":8,"nodeType":"392","endLine":155,"endColumn":10,"suggestions":"422"},{"ruleId":"390","severity":1,"message":"423","line":185,"column":5,"nodeType":"392","endLine":185,"endColumn":16,"suggestions":"424"},{"ruleId":"425","severity":1,"message":"426","line":234,"column":14,"nodeType":"427","endLine":234,"endColumn":54},{"ruleId":"374","severity":1,"message":"428","line":10,"column":10,"nodeType":"376","messageId":"377","endLine":10,"endColumn":14},{"ruleId":"390","severity":1,"message":"429","line":51,"column":34,"nodeType":"392","endLine":51,"endColumn":36,"suggestions":"430"},{"ruleId":"394","severity":1,"message":"431","line":108,"column":40,"nodeType":"396","messageId":"432","endLine":108,"endColumn":42},{"ruleId":"433","severity":1,"message":"434","line":109,"column":28,"nodeType":"416","messageId":"435","endLine":109,"endColumn":30},{"ruleId":"436","severity":1,"message":"437","line":175,"column":6,"nodeType":"438","messageId":"439","endLine":177,"endColumn":14,"fix":"440"},{"ruleId":"390","severity":1,"message":"441","line":180,"column":6,"nodeType":"392","endLine":180,"endColumn":8,"suggestions":"442"},{"ruleId":"390","severity":1,"message":"423","line":212,"column":5,"nodeType":"392","endLine":212,"endColumn":16,"suggestions":"443"},{"ruleId":"444","severity":1,"message":"445","line":219,"column":53,"nodeType":"438","messageId":"446","endLine":219,"endColumn":54,"fix":"447"},{"ruleId":"425","severity":1,"message":"426","line":262,"column":14,"nodeType":"427","endLine":262,"endColumn":54},{"ruleId":null,"fatal":true,"severity":2,"message":"448","line":28,"column":2},{"ruleId":"374","severity":1,"message":"449","line":9,"column":8,"nodeType":"376","messageId":"377","endLine":9,"endColumn":21},{"ruleId":"374","severity":1,"message":"450","line":11,"column":9,"nodeType":"376","messageId":"377","endLine":11,"endColumn":23},{"ruleId":"374","severity":1,"message":"428","line":13,"column":10,"nodeType":"376","messageId":"377","endLine":13,"endColumn":14},{"ruleId":"390","severity":1,"message":"451","line":58,"column":8,"nodeType":"392","endLine":58,"endColumn":10,"suggestions":"452"},{"ruleId":"394","severity":1,"message":"431","line":116,"column":34,"nodeType":"396","messageId":"432","endLine":116,"endColumn":36},{"ruleId":"433","severity":1,"message":"434","line":117,"column":28,"nodeType":"416","messageId":"435","endLine":117,"endColumn":30},{"ruleId":"374","severity":1,"message":"453","line":28,"column":8,"nodeType":"376","messageId":"377","endLine":28,"endColumn":10},{"ruleId":"374","severity":1,"message":"454","line":47,"column":10,"nodeType":"376","messageId":"377","endLine":47,"endColumn":19},{"ruleId":"374","severity":1,"message":"455","line":47,"column":20,"nodeType":"376","messageId":"377","endLine":47,"endColumn":28},{"ruleId":"374","severity":1,"message":"456","line":47,"column":29,"nodeType":"376","messageId":"377","endLine":47,"endColumn":41},{"ruleId":"374","severity":1,"message":"457","line":48,"column":7,"nodeType":"376","messageId":"377","endLine":48,"endColumn":20},{"ruleId":"390","severity":1,"message":"458","line":78,"column":5,"nodeType":"392","endLine":78,"endColumn":7,"suggestions":"459"},{"ruleId":"390","severity":1,"message":"421","line":65,"column":8,"nodeType":"392","endLine":65,"endColumn":10,"suggestions":"460"},{"ruleId":"374","severity":1,"message":"461","line":19,"column":32,"nodeType":"376","messageId":"377","endLine":19,"endColumn":37},{"ruleId":"390","severity":1,"message":"462","line":46,"column":9,"nodeType":"392","endLine":46,"endColumn":23,"suggestions":"463"},{"ruleId":"374","severity":1,"message":"398","line":6,"column":10,"nodeType":"376","messageId":"377","endLine":6,"endColumn":15},{"ruleId":"374","severity":1,"message":"400","line":6,"column":23,"nodeType":"376","messageId":"377","endLine":6,"endColumn":27},{"ruleId":"374","severity":1,"message":"464","line":6,"column":29,"nodeType":"376","messageId":"377","endLine":6,"endColumn":35},{"ruleId":"374","severity":1,"message":"465","line":10,"column":9,"nodeType":"376","messageId":"377","endLine":10,"endColumn":13},{"ruleId":"390","severity":1,"message":"466","line":14,"column":7,"nodeType":"392","endLine":14,"endColumn":15,"suggestions":"467"},{"ruleId":"374","severity":1,"message":"468","line":23,"column":9,"nodeType":"376","messageId":"377","endLine":23,"endColumn":16},{"ruleId":"374","severity":1,"message":"469","line":24,"column":7,"nodeType":"376","messageId":"377","endLine":24,"endColumn":14},{"ruleId":"374","severity":1,"message":"470","line":44,"column":7,"nodeType":"376","messageId":"377","endLine":44,"endColumn":17},{"ruleId":"374","severity":1,"message":"471","line":47,"column":7,"nodeType":"376","messageId":"377","endLine":47,"endColumn":14},{"ruleId":"374","severity":1,"message":"472","line":48,"column":7,"nodeType":"376","messageId":"377","endLine":48,"endColumn":12},{"ruleId":"390","severity":1,"message":"473","line":172,"column":6,"nodeType":"392","endLine":172,"endColumn":8,"suggestions":"474"},{"ruleId":"390","severity":1,"message":"475","line":182,"column":5,"nodeType":"392","endLine":182,"endColumn":7,"suggestions":"476"},{"ruleId":"390","severity":1,"message":"477","line":226,"column":6,"nodeType":"392","endLine":226,"endColumn":15,"suggestions":"478"},{"ruleId":"374","severity":1,"message":"479","line":9,"column":9,"nodeType":"376","messageId":"377","endLine":9,"endColumn":20},{"ruleId":"390","severity":1,"message":"480","line":79,"column":5,"nodeType":"392","endLine":79,"endColumn":7,"suggestions":"481"},{"ruleId":"390","severity":1,"message":"429","line":87,"column":3,"nodeType":"392","endLine":87,"endColumn":5,"suggestions":"482"},{"ruleId":"390","severity":1,"message":"475","line":98,"column":6,"nodeType":"392","endLine":98,"endColumn":8,"suggestions":"483"},{"ruleId":"390","severity":1,"message":"484","line":103,"column":6,"nodeType":"392","endLine":103,"endColumn":8,"suggestions":"485"},{"ruleId":"390","severity":1,"message":"486","line":107,"column":5,"nodeType":"392","endLine":107,"endColumn":7,"suggestions":"487"},{"ruleId":"374","severity":1,"message":"488","line":3,"column":8,"nodeType":"376","messageId":"377","endLine":3,"endColumn":19},{"ruleId":"374","severity":1,"message":"378","line":10,"column":8,"nodeType":"376","messageId":"377","endLine":10,"endColumn":13},{"ruleId":"374","severity":1,"message":"489","line":28,"column":7,"nodeType":"376","messageId":"377","endLine":28,"endColumn":17},{"ruleId":"390","severity":1,"message":"402","line":42,"column":6,"nodeType":"392","endLine":42,"endColumn":8,"suggestions":"490"},{"ruleId":"394","severity":1,"message":"395","line":57,"column":43,"nodeType":"396","messageId":"397","endLine":57,"endColumn":45},{"ruleId":"390","severity":1,"message":"491","line":80,"column":6,"nodeType":"392","endLine":80,"endColumn":8,"suggestions":"492"},{"ruleId":"390","severity":1,"message":"493","line":116,"column":6,"nodeType":"392","endLine":116,"endColumn":8,"suggestions":"494"},{"ruleId":"433","severity":1,"message":"434","line":120,"column":17,"nodeType":"416","messageId":"435","endLine":120,"endColumn":19},{"ruleId":"374","severity":1,"message":"495","line":128,"column":10,"nodeType":"376","messageId":"377","endLine":128,"endColumn":14},{"ruleId":"390","severity":1,"message":"496","line":214,"column":4,"nodeType":"392","endLine":214,"endColumn":16,"suggestions":"497"},{"ruleId":"394","severity":1,"message":"395","line":31,"column":36,"nodeType":"396","messageId":"397","endLine":31,"endColumn":38},{"ruleId":"374","severity":1,"message":"498","line":67,"column":9,"nodeType":"376","messageId":"377","endLine":67,"endColumn":15},{"ruleId":"374","severity":1,"message":"499","line":8,"column":9,"nodeType":"376","messageId":"377","endLine":8,"endColumn":16},{"ruleId":"390","severity":1,"message":"500","line":156,"column":6,"nodeType":"392","endLine":156,"endColumn":16,"suggestions":"501"},{"ruleId":"381","replacedBy":"502"},{"ruleId":"383","replacedBy":"503"},{"ruleId":"374","severity":1,"message":"375","line":1,"column":17,"nodeType":"376","messageId":"377","endLine":1,"endColumn":26},{"ruleId":"374","severity":1,"message":"504","line":1,"column":36,"nodeType":"376","messageId":"377","endLine":1,"endColumn":44},{"ruleId":"374","severity":1,"message":"505","line":5,"column":8,"nodeType":"376","messageId":"377","endLine":5,"endColumn":22},{"ruleId":"374","severity":1,"message":"506","line":6,"column":8,"nodeType":"376","messageId":"377","endLine":6,"endColumn":16},{"ruleId":"374","severity":1,"message":"507","line":7,"column":8,"nodeType":"376","messageId":"377","endLine":7,"endColumn":20},{"ruleId":"374","severity":1,"message":"508","line":11,"column":8,"nodeType":"376","messageId":"377","endLine":11,"endColumn":14},{"ruleId":"394","severity":1,"message":"395","line":87,"column":32,"nodeType":"396","messageId":"397","endLine":87,"endColumn":34},{"ruleId":"381","replacedBy":"509"},{"ruleId":"383","replacedBy":"510"},{"ruleId":"374","severity":1,"message":"511","line":4,"column":9,"nodeType":"376","messageId":"377","endLine":4,"endColumn":15},{"ruleId":"374","severity":1,"message":"511","line":13,"column":9,"nodeType":"376","messageId":"377","endLine":13,"endColumn":15},{"ruleId":"374","severity":1,"message":"512","line":72,"column":17,"nodeType":"376","messageId":"377","endLine":72,"endColumn":25},{"ruleId":"374","severity":1,"message":"513","line":78,"column":7,"nodeType":"376","messageId":"377","endLine":78,"endColumn":14},{"ruleId":"374","severity":1,"message":"471","line":79,"column":7,"nodeType":"376","messageId":"377","endLine":79,"endColumn":14},{"ruleId":"374","severity":1,"message":"514","line":80,"column":7,"nodeType":"376","messageId":"377","endLine":80,"endColumn":14},{"ruleId":"374","severity":1,"message":"515","line":81,"column":7,"nodeType":"376","messageId":"377","endLine":81,"endColumn":14},{"ruleId":"374","severity":1,"message":"516","line":82,"column":7,"nodeType":"376","messageId":"377","endLine":82,"endColumn":12},{"ruleId":"374","severity":1,"message":"498","line":83,"column":7,"nodeType":"376","messageId":"377","endLine":83,"endColumn":13},{"ruleId":"390","severity":1,"message":"517","line":179,"column":5,"nodeType":"392","endLine":179,"endColumn":21,"suggestions":"518"},{"ruleId":"394","severity":1,"message":"395","line":203,"column":42,"nodeType":"396","messageId":"397","endLine":203,"endColumn":44},{"ruleId":"390","severity":1,"message":"519","line":231,"column":5,"nodeType":"392","endLine":231,"endColumn":7,"suggestions":"520"},{"ruleId":"374","severity":1,"message":"521","line":4,"column":10,"nodeType":"376","messageId":"377","endLine":4,"endColumn":21},{"ruleId":"374","severity":1,"message":"522","line":4,"column":23,"nodeType":"376","messageId":"377","endLine":4,"endColumn":34},{"ruleId":"374","severity":1,"message":"523","line":11,"column":8,"nodeType":"376","messageId":"377","endLine":11,"endColumn":19},{"ruleId":"374","severity":1,"message":"524","line":12,"column":8,"nodeType":"376","messageId":"377","endLine":12,"endColumn":19},{"ruleId":"374","severity":1,"message":"378","line":15,"column":8,"nodeType":"376","messageId":"377","endLine":15,"endColumn":13},{"ruleId":"374","severity":1,"message":"525","line":20,"column":8,"nodeType":"376","messageId":"377","endLine":20,"endColumn":9},{"ruleId":"374","severity":1,"message":"526","line":49,"column":10,"nodeType":"376","messageId":"377","endLine":49,"endColumn":18},{"ruleId":"374","severity":1,"message":"527","line":49,"column":19,"nodeType":"376","messageId":"377","endLine":49,"endColumn":30},{"ruleId":"374","severity":1,"message":"528","line":60,"column":10,"nodeType":"376","messageId":"377","endLine":60,"endColumn":14},{"ruleId":"390","severity":1,"message":"529","line":66,"column":9,"nodeType":"530","endLine":126,"endColumn":4,"suggestions":"531"},{"ruleId":"444","severity":1,"message":"445","line":71,"column":36,"nodeType":"438","messageId":"446","endLine":71,"endColumn":37,"fix":"532"},{"ruleId":"444","severity":1,"message":"445","line":77,"column":47,"nodeType":"438","messageId":"446","endLine":77,"endColumn":48,"fix":"533"},{"ruleId":"394","severity":1,"message":"395","line":83,"column":48,"nodeType":"396","messageId":"397","endLine":83,"endColumn":50},{"ruleId":"444","severity":1,"message":"445","line":92,"column":7,"nodeType":"438","messageId":"446","endLine":92,"endColumn":8,"fix":"534"},{"ruleId":"390","severity":1,"message":"535","line":136,"column":5,"nodeType":"392","endLine":136,"endColumn":7,"suggestions":"536"},{"ruleId":"444","severity":1,"message":"445","line":139,"column":44,"nodeType":"438","messageId":"446","endLine":139,"endColumn":45,"fix":"537"},{"ruleId":"394","severity":1,"message":"395","line":145,"column":41,"nodeType":"396","messageId":"397","endLine":145,"endColumn":43},{"ruleId":"394","severity":1,"message":"395","line":150,"column":24,"nodeType":"396","messageId":"397","endLine":150,"endColumn":26},{"ruleId":"444","severity":1,"message":"445","line":160,"column":7,"nodeType":"438","messageId":"446","endLine":160,"endColumn":8,"fix":"538"},{"ruleId":"433","severity":1,"message":"539","line":222,"column":35,"nodeType":"416","messageId":"435","endLine":222,"endColumn":37},{"ruleId":"374","severity":1,"message":"388","line":1,"column":15,"nodeType":"376","messageId":"377","endLine":1,"endColumn":21},{"ruleId":"374","severity":1,"message":"504","line":1,"column":32,"nodeType":"376","messageId":"377","endLine":1,"endColumn":40},{"ruleId":"374","severity":1,"message":"540","line":3,"column":8,"nodeType":"376","messageId":"377","endLine":3,"endColumn":19},{"ruleId":"374","severity":1,"message":"541","line":6,"column":7,"nodeType":"376","messageId":"377","endLine":6,"endColumn":15},{"ruleId":"390","severity":1,"message":"542","line":42,"column":10,"nodeType":"392","endLine":42,"endColumn":12,"suggestions":"543"},{"ruleId":"374","severity":1,"message":"375","line":1,"column":27,"nodeType":"376","messageId":"377","endLine":1,"endColumn":36},{"ruleId":"374","severity":1,"message":"544","line":2,"column":8,"nodeType":"376","messageId":"377","endLine":2,"endColumn":16},{"ruleId":"374","severity":1,"message":"545","line":3,"column":8,"nodeType":"376","messageId":"377","endLine":3,"endColumn":20},{"ruleId":"374","severity":1,"message":"546","line":4,"column":8,"nodeType":"376","messageId":"377","endLine":4,"endColumn":17},{"ruleId":"374","severity":1,"message":"547","line":5,"column":8,"nodeType":"376","messageId":"377","endLine":5,"endColumn":14},{"ruleId":"374","severity":1,"message":"548","line":7,"column":8,"nodeType":"376","messageId":"377","endLine":7,"endColumn":15},{"ruleId":"374","severity":1,"message":"549","line":8,"column":16,"nodeType":"376","messageId":"377","endLine":8,"endColumn":20},{"ruleId":"374","severity":1,"message":"550","line":10,"column":10,"nodeType":"376","messageId":"377","endLine":10,"endColumn":20},{"ruleId":"374","severity":1,"message":"551","line":11,"column":8,"nodeType":"376","messageId":"377","endLine":11,"endColumn":14},{"ruleId":"374","severity":1,"message":"552","line":15,"column":7,"nodeType":"376","messageId":"377","endLine":15,"endColumn":16},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","'Provider' is defined but never used.","'createStore' is defined but never used.","no-native-reassign",["553"],"no-negated-in-lhs",["554"],"no-undef","'Profile' is not defined.","undef","'useRef' is defined but never used.","'uuidv4' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getRecData'. Either include it or remove the dependency array.","ArrayExpression",["555"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'Slide' is defined but never used.","'Zoom' is defined but never used.","'Flip' is defined but never used.","'count' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["556"],"'TextField' is defined but never used.","'isAuthenticated' is defined but never used.","'newUser' is assigned a value but never used.","'setNewUser' is assigned a value but never used.","'show' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'clientSocket' and 'getData'. Either include them or remove the dependency array.",["557"],"'showButtons' is assigned a value but never used.","'addGroupMember' is assigned a value but never used.","'createGroup' is assigned a value but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","'nameHandler' is assigned a value but never used.",["553"],["554"],"React Hook useEffect has missing dependencies: 'match.params.token' and 'values'. Either include them or remove the dependency array. You can also do a functional update 'setValues(v => ...)' if you only need 'values' in the 'setValues' call.",["558"],"React Hook React.useCallback has a missing dependency: 'values'. Either include it or remove the dependency array. You can also do a functional update 'setValues(v => ...)' if you only need 'values' in the 'setValues' call.",["559"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'grey' is defined but never used.","React Hook useEffect has a missing dependency: 'myId'. Either include it or remove the dependency array.",["560"],"Array.prototype.filter() expects a value to be returned at the end of arrow function.","expectedAtEnd","eqeqeq","Expected '===' and instead saw '=='.","unexpected","no-whitespace-before-property","Unexpected whitespace before property catch.","MemberExpression","unexpectedWhitespace",{"range":"561","text":"562"},"React Hook useEffect has missing dependencies: 'myId' and 'values'. Either include them or remove the dependency array. You can also do a functional update 'setValues(v => ...)' if you only need 'values' in the 'setValues' call.",["563"],["564"],"dot-location","Expected dot to be on same line as property.","expectedDotBeforeProperty",{"range":"565","text":"566"},"Parsing error: Unexpected token\n\n\u001b[0m \u001b[90m 26 | \u001b[39m    roomId\u001b[33m.\u001b[39mcurrent \u001b[33m=\u001b[39m \u001b[32m'/'\u001b[39m\u001b[33m+\u001b[39mmatch\u001b[33m.\u001b[39mparams\u001b[33m.\u001b[39mid\u001b[0m\n\u001b[0m \u001b[90m 27 | \u001b[39m    \u001b[36mconst\u001b[39m {setSocket\u001b[33m,\u001b[39mroomJoin\u001b[33m,\u001b[39mmessageEvent\u001b[33m,\u001b[39m friendReq} \u001b[33m=\u001b[39m useContext(\u001b[33mSocketContext\u001b[39m)\u001b[33m;\u001b[39m\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 28 | \u001b[39m\u001b[33m<<\u001b[39m\u001b[33m<<\u001b[39m\u001b[33m<<\u001b[39m\u001b[33m<\u001b[39m \u001b[33mHEAD\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m    | \u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 29 | \u001b[39m    window\u001b[33m.\u001b[39monload \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[0m\n\u001b[0m \u001b[90m 30 | \u001b[39m       friendReq()\u001b[0m\n\u001b[0m \u001b[90m 31 | \u001b[39m\u001b[33m===\u001b[39m\u001b[33m===\u001b[39m\u001b[33m=\u001b[39m\u001b[0m","'PersonAddIcon' is defined but never used.","'MyChatsContext' is defined but never used.","React Hook useEffect has a missing dependency: 'getAllMyFriends'. Either include it or remove the dependency array.",["567"],"'io' is defined but never used.","'setSocket' is assigned a value but never used.","'roomJoin' is assigned a value but never used.","'messageEvent' is assigned a value but never used.","'clientSocket1' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'friendReq'. Either include it or remove the dependency array.",["568"],["569"],"'token' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'formData'. Either include it or remove the dependency array. You can also do a functional update 'setFormData(f => ...)' if you only need 'formData' in the 'setFormData' call.",["570"],"'Bounce' is defined but never used.","'elem' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getUnreadMsgs'. Either include it or remove the dependency array.",["571"],"'classes' is assigned a value but never used.","'history' is assigned a value but never used.","'notPresent' is assigned a value but never used.","'recMsgs' is assigned a value but never used.","'dummy' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'clientSocket', 'getRecData', and 'uId'. Either include them or remove the dependency array.",["572"],"React Hook useEffect has a missing dependency: 'clientSocket'. Either include it or remove the dependency array.",["573"],"React Hook useEffect has missing dependencies: 'lastMsg', 'setNewRecipient', 'setRecArray', and 'usersData'. Either include them or remove the dependency array.",["574"],"'ChatContext' is defined but never used.","React Hook useEffect has a missing dependency: 'obj'. Either include it or remove the dependency array.",["575"],["576"],["577"],"React Hook useEffect has a missing dependency: 'messageEvent'. Either include it or remove the dependency array.",["578"],"React Hook useEffect has missing dependencies: 'myId' and 'roomJoin'. Either include them or remove the dependency array.",["579"],"'userservice' is defined but never used.","'returndata' is defined but never used.",["580"],"React Hook useEffect has missing dependencies: 'getData' and 'us._id'. Either include them or remove the dependency array.",["581"],"React Hook useEffect has missing dependencies: 'clientSocket' and 'count'. Either include them or remove the dependency array.",["582"],"'data' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'chat.messages'. Either include it or remove the dependency array.",["583"],"'imgUrl' is assigned a value but never used.","'checked' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["584"],["553"],["554"],"'useState' is defined but never used.","'ListItemAvatar' is defined but never used.","'ListItem' is defined but never used.","'ListItemText' is defined but never used.","'Button' is defined but never used.",["553"],["554"],"'config' is assigned a value but never used.","'isLoaded' is assigned a value but never used.","'recData' is assigned a value but never used.","'msgType' is assigned a value but never used.","'recName' is assigned a value but never used.","'recId' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'getRecData' and 'uId.email'. Either include them or remove the dependency array.",["585"],"React Hook useEffect has missing dependencies: 'chatRecipients', 'clientSocket', 'setNewRecipient', and 'setRecArray'. Either include them or remove the dependency array.",["586"],"'useSelector' is defined but never used.","'useDispatch' is defined but never used.","'SendMessage' is defined but never used.","'TypeMessage' is defined but never used.","'_' is defined but never used.","'lastmsgs' is assigned a value but never used.","'setLastMsgs' is assigned a value but never used.","'flag' is assigned a value but never used.","The 'activeChatHandler' function makes the dependencies of useEffect Hook (at line 168) change on every render. To fix this, wrap the definition of 'activeChatHandler' in its own useCallback() Hook.","VariableDeclarator",["587"],{"range":"588","text":"589"},{"range":"590","text":"589"},{"range":"591","text":"589"},"React Hook useEffect has a missing dependency: 'getRecipients'. Either include it or remove the dependency array.",["592"],{"range":"593","text":"589"},{"range":"594","text":"589"},"Expected '!==' and instead saw '!='.","'chatservice' is defined but never used.","'contacts' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'props.recipientId' and 'props.userId'. Either include them or remove the dependency array.",["595"],"'AlertBar' is defined but never used.","'LinearBuffer' is defined but never used.","'PageTitle' is defined but never used.","'Select' is defined but never used.","'Resizer' is defined but never used.","'cyan' is defined but never used.","'useHistory' is defined but never used.","'Webcam' is defined but never used.","'useStyles' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"596","fix":"597"},{"desc":"598","fix":"599"},{"desc":"600","fix":"601"},{"desc":"602","fix":"603"},{"desc":"604","fix":"605"},{"desc":"606","fix":"607"},[5838,5840],".",{"desc":"608","fix":"609"},{"desc":"604","fix":"610"},[7480,7494],"\r\n           .",{"desc":"611","fix":"612"},{"desc":"613","fix":"614"},{"desc":"602","fix":"615"},{"desc":"616","fix":"617"},{"desc":"618","fix":"619"},{"desc":"620","fix":"621"},{"desc":"622","fix":"623"},{"desc":"624","fix":"625"},{"desc":"626","fix":"627"},{"desc":"606","fix":"628"},{"desc":"622","fix":"629"},{"desc":"630","fix":"631"},{"desc":"632","fix":"633"},{"desc":"598","fix":"634"},{"desc":"635","fix":"636"},{"desc":"637","fix":"638"},{"desc":"639","fix":"640"},{"desc":"641","fix":"642"},{"desc":"643","fix":"644"},{"desc":"645","fix":"646"},{"desc":"647","fix":"648"},[2345,2352],"\r\n    .",[2563,2570],[2991,2998],{"desc":"649","fix":"650"},[4366,4373],[5004,5011],{"desc":"651","fix":"652"},"Update the dependencies array to be: [getRecData, userId]",{"range":"653","text":"654"},"Update the dependencies array to be: [id]",{"range":"655","text":"656"},"Update the dependencies array to be: [clientSocket, getData]",{"range":"657","text":"658"},"Update the dependencies array to be: [match.params.token, values]",{"range":"659","text":"660"},"Update the dependencies array to be: [values]",{"range":"661","text":"662"},"Update the dependencies array to be: [myId]",{"range":"663","text":"664"},"Update the dependencies array to be: [myId, values]",{"range":"665","text":"666"},{"range":"667","text":"662"},"Update the dependencies array to be: [getAllMyFriends]",{"range":"668","text":"669"},"Update the dependencies array to be: [friendReq]",{"range":"670","text":"671"},{"range":"672","text":"660"},"Update the dependencies array to be: [formData, match.params]",{"range":"673","text":"674"},"Update the dependencies array to be: [getUnreadMsgs, userId]",{"range":"675","text":"676"},"Update the dependencies array to be: [clientSocket, getRecData, uId]",{"range":"677","text":"678"},"Update the dependencies array to be: [clientSocket]",{"range":"679","text":"680"},"Update the dependencies array to be: [lastMsg, payload, setNewRecipient, setRecArray, usersData]",{"range":"681","text":"682"},"Update the dependencies array to be: [obj]",{"range":"683","text":"684"},{"range":"685","text":"664"},{"range":"686","text":"680"},"Update the dependencies array to be: [messageEvent]",{"range":"687","text":"688"},"Update the dependencies array to be: [myId, roomJoin]",{"range":"689","text":"690"},{"range":"691","text":"656"},"Update the dependencies array to be: [getData, us._id]",{"range":"692","text":"693"},"Update the dependencies array to be: [clientSocket, count]",{"range":"694","text":"695"},"Update the dependencies array to be: [chat.messages, searchTerm]",{"range":"696","text":"697"},"Update the dependencies array to be: [messages, props]",{"range":"698","text":"699"},"Update the dependencies array to be: [chatRecipients, getRecData, uId.email]",{"range":"700","text":"701"},"Update the dependencies array to be: [chatRecipients, clientSocket, setNewRecipient, setRecArray]",{"range":"702","text":"703"},"Wrap the definition of 'activeChatHandler' in its own useCallback() Hook.",{"range":"704","text":"705"},"Update the dependencies array to be: [getRecipients]",{"range":"706","text":"707"},"Update the dependencies array to be: [props.recipientId, props.userId]",{"range":"708","text":"709"},[747,755],"[getRecData, userId]",[854,856],"[id]",[3027,3029],"[clientSocket, getData]",[5157,5159],"[match.params.token, values]",[6381,6392],"[values]",[1969,1971],"[myId]",[5960,5962],"[myId, values]",[7229,7240],[2079,2081],"[getAllMyFriends]",[2226,2228],"[friendReq]",[1681,1683],[1648,1662],"[formData, match.params]",[590,598],"[getUnreadMsgs, userId]",[5836,5838],"[clientSocket, getRecData, uId]",[6032,6034],"[clientSocket]",[7508,7517],"[lastMsg, payload, setNewRecipient, setRecArray, usersData]",[2949,2951],"[obj]",[3122,3124],[3379,3381],[3468,3470],"[messageEvent]",[3521,3523],"[myId, roomJoin]",[1851,1853],[2901,2903],"[getData, us._id]",[3970,3972],"[clientSocket, count]",[6565,6577],"[chat.messages, searchTerm]",[4702,4712],"[messages, props]",[5618,5634],"[chatRecipients, getRecData, uId.email]",[7138,7140],"[chatRecipients, clientSocket, setNewRecipient, setRecArray]",[2185,4055],"useCallback((rid) => {\r\n    setShow(true)\r\n    console.log(\"active chat handler called with\", rid);\r\n    recipientInfo.current.id=rid\r\n\r\n    userservice.getUserByEmail(rid).\r\n    then((data) =>{\r\n      recipientInfo.current.lang = data.langPreference\r\n      recipientInfo.current.url = data.profileImg\r\n    }).catch((err)=>console.log(err))\r\n\r\n    chatservice.getMessagesbyEmail(userId,rid).\r\n    then((data)=> {\r\n      console.log(data)\r\n      chatsfromdb1.current = data;\r\n      console.log(\"Data\",chatsfromdb1.current)\r\n      if (chatsfromdb1) {\r\n        chatsfromdb1.current.map((chat, index) => {\r\n            dummy1.push(chat)   \r\n        });\r\n      }\r\n      else{\r\n        console.log(\"No chats or some error\")\r\n      }\r\n      setActiveChat({messages:dummy1})\r\n      console.log(\"activechat\",activeChat)\r\n    }).\r\n    catch((err)=>console.log(err))\r\n    clientSocket.current = io(\"http://127.0.0.1:5000\");\r\n    clientSocket.current.emit(\r\n      \"roomJoin\",\r\n      { from: userId, to: recipientInfo.current.id },\r\n      ({ error, room }) => {\r\n        if (!error) {\r\n          roomId.current = room;\r\n          console.log(\"joined room with id\", room);\r\n        } else {\r\n          console.log(\"error joining room\", error);\r\n        }\r\n      }\r\n    );\r\n\r\n    /* clientSocket.current.on(\"messageReceived\", (payload) => {\r\n      console.log(\"Payload\",payload)\r\n      chatservice.createMessage(payload)\r\n      .then((response)=>console.log(response))\r\n      .catch((err)=>console.log(err))\r\n      setChat((chatState) => {\r\n        if(chatState.messages){\r\n          let newMessages = [...chatState.messages];\r\n        newMessages = [...newMessages, payload];\r\n        return { ...chatState, messages: newMessages };\r\n        }\r\n        else{\r\n          return {messages: [payload] };  \r\n        }\r\n        \r\n      });     \r\n      console.log(\"Received chat\",chat)\r\n    });*/\r\n  })",[4251,4253],"[getRecipients]",[1671,1673],"[props.recipientId, props.userId]"]